(()=>{(()=>{var Ht={},Bt=Object.defineProperty,Dt=Object.defineProperties,Ut=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Et=(re,Q,t)=>Q in re?Bt(re,Q,{enumerable:!0,configurable:!0,writable:!0,value:t}):re[Q]=t,Fe=(re,Q)=>{for(var t in Q||(Q={}))Ot.call(Q,t)&&Et(re,t,Q[t]);if(It)for(var t of It(Q))kt.call(Q,t)&&Et(re,t,Q[t]);return re},ot=(re,Q)=>Dt(re,Ut(Q)),Pt=(re,Q)=>{var t={};for(var A in re)Ot.call(re,A)&&Q.indexOf(A)<0&&(t[A]=re[A]);if(re!=null&&It)for(var A of It(re))Q.indexOf(A)<0&&kt.call(re,A)&&(t[A]=re[A]);return t},_t=(re,Q,t)=>(Et(re,typeof Q!="symbol"?Q+"":Q,t),t),xt=(re,Q,t)=>{if(!Q.has(re))throw TypeError("Cannot "+t)},et=(re,Q,t)=>(xt(re,Q,"read from private field"),t?t.call(re):Q.get(re)),at=(re,Q,t)=>{if(Q.has(re))throw TypeError("Cannot add the same private member more than once");Q instanceof WeakSet?Q.add(re):Q.set(re,t)},it=(re,Q,t,A)=>(xt(re,Q,"write to private field"),A?A.call(re,t):Q.set(re,t),t),ht=(re,Q,t)=>(xt(re,Q,"access private method"),t);if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(re){}else(function(){(()=>{var re,Q={70433:(u,l,y)=>{function B(j,G,D,M,b){for(G=G.split?G.split("."):G,M=0;M<G.length;M++)j=j?j[G[M]]:b;return j===b?D:j}y.d(l,{A:()=>B})},68128:u=>{/*
 * @license MIT
 * Fun Hooks v0.9.10
 * (c) @snapwich
 */M.SYNC=1,M.ASYNC=2,M.QUEUE=4;var l="fun-hooks",y=Object.freeze({useProxy:!0,ready:0}),B=new WeakMap,j=[1].reduce(function(b,m,g){return[b,m,g]},2).toString()==="2,1,0"?Array.prototype.reduce:function(b,m){var g,n=Object(this),s=n.length>>>0,i=0;if(m)g=m;else{for(;i<s&&!(i in n);)i++;g=n[i++]}for(;i<s;)i in n&&(g=b(g,n[i],i,n)),i++;return g};function G(b,m){return Array.prototype.slice.call(b,m)}var D=Object.assign||function(b){return j.call(G(arguments,1),function(m,g){return g&&Object.keys(g).forEach(function(n){m[n]=g[n]}),m},b)};function M(b){var m,g={},n=[];function s(O,W){return typeof O=="function"?C.call(null,"sync",O,W):typeof O=="string"&&typeof W=="function"?C.apply(null,arguments):typeof O=="object"?i.apply(null,arguments):void 0}function i(O,W,J){var N=!0;W===void 0&&(W=Object.getOwnPropertyNames(O),N=!1);var F={},U=["constructor"];do(W=W.filter(function(f){return!(typeof O[f]!="function"||U.indexOf(f)!==-1||f.match(/^_/))})).forEach(function(f){var o=f.split(":"),d=o[0],a=o[1]||"sync";if(!F[d]){var r=O[d];F[d]=O[d]=C(a,r,J?[J,d]:void 0)}}),O=Object.getPrototypeOf(O);while(N&&O);return F}function p(O){var W=Array.isArray(O)?O:O.split(".");return j.call(W,function(J,N,F){var U=J[N],f=!1;return U||(F===W.length-1?(m||n.push(function(){f||console.warn(l+": referenced '"+O+"' but it was never created")}),J[N]=h(function(o){J[N]=o,f=!0})):J[N]={})},g)}function h(O){var W=[],J=[],N=function(){},F={before:function(o,d){return f.call(this,W,"before",o,d)},after:function(o,d){return f.call(this,J,"after",o,d)},getHooks:function(o){var d=W.concat(J);typeof o=="object"&&(d=d.filter(function(a){return Object.keys(o).every(function(r){return a[r]===o[r]})}));try{D(d,{remove:function(){return d.forEach(function(a){a.remove()}),this}})}catch(a){console.error("error adding `remove` to array, did you modify Array.prototype?")}return d},removeAll:function(){return this.getHooks().remove()}},U={install:function(o,d,a){this.type=o,N=a,a(W,J),O&&O(d)}};return B.set(F.after,U),F;function f(o,d,a,r){var w={hook:a,type:d,priority:r||10,remove:function(){var _=o.indexOf(w);_!==-1&&(o.splice(_,1),N(W,J))}};return o.push(w),o.sort(function(_,c){return c.priority-_.priority}),N(W,J),this}}function C(O,W,J){var N=W.after&&B.get(W.after);if(N){if(N.type!==O)throw l+": recreated hookable with different type";return W}var F,U,f=J?p(J):h(),o={get:function(a,r){return f[r]||Reflect.get.apply(Reflect,arguments)}};return m||n.push(d),b.useProxy&&typeof Proxy=="function"&&Proxy.revocable?U=new Proxy(W,o):(U=function(){return o.apply?o.apply(W,this,G(arguments)):W.apply(this,arguments)},D(U,f)),B.get(U.after).install(O,U,function(a,r){var w,_=[];a.length||r.length?(a.forEach(c),w=_.push(void 0)-1,r.forEach(c),F=function(v,$,k){var q,I=0,P=O==="async"&&typeof k[k.length-1]=="function"&&k.pop();function X(R){O==="sync"?q=R:P&&P.apply(null,arguments)}function Y(R){if(_[I]){var H=G(arguments);return Y.bail=X,H.unshift(Y),_[I++].apply($,H)}O==="sync"?q=R:P&&P.apply(null,arguments)}return _[w]=function(){var R=G(arguments,1);O==="async"&&P&&(delete Y.bail,R.push(Y));var H=v.apply($,R);O==="sync"&&Y(H)},Y.apply(null,k),q}):F=void 0;function c(v){_.push(v.hook)}d()}),U;function d(){!m&&(O!=="sync"||b.ready&M.SYNC)&&(O!=="async"||b.ready&M.ASYNC)?O!=="sync"&&b.ready&M.QUEUE?o.apply=function(){var a=arguments;n.push(function(){U.apply(a[1],a[2])})}:o.apply=function(){throw l+": hooked function not ready"}:o.apply=F}}return(b=D({},y,b)).ready?s.ready=function(){m=!0,function(O){for(var W;W=O.shift();)W()}(n)}:m=!0,s.get=p,s}u.exports=M},63172:(u,l,y)=>{function B(j,G,D){G.split&&(G=G.split("."));for(var M,b,m=0,g=G.length,n=j;m<g&&(b=G[m++])!=="__proto__"&&b!=="constructor"&&b!=="prototype";)n=n[b]=m===g?D:typeof(M=n[b])==typeof G?M:0*G[m]!=0||~(""+G[m]).indexOf(".")?{}:[]}y.d(l,{J:()=>B})},45751:(u,l,y)=>{function B(j){var G,D,M;if(Array.isArray(j)){for(D=Array(G=j.length);G--;)D[G]=(M=j[G])&&typeof M=="object"?B(M):M;return D}if(Object.prototype.toString.call(j)==="[object Object]"){for(G in D={},j)G==="__proto__"?Object.defineProperty(D,G,{value:B(j[G]),configurable:!0,enumerable:!0,writable:!0}):D[G]=(M=j[G])&&typeof M=="object"?B(M):M;return D}return j}y.d(l,{Q:()=>B})}},t={};function A(u){var l=t[u];if(l!==void 0)return l.exports;var y=t[u]={exports:{}};return Q[u].call(y.exports,y,y.exports,A),y.exports}A.m=Q,re=[],A.O=(u,l,y,B)=>{if(!l){var j=1/0;for(b=0;b<re.length;b++){l=re[b][0],y=re[b][1],B=re[b][2];for(var G=!0,D=0;D<l.length;D++)(!1&B||j>=B)&&Object.keys(A.O).every(m=>A.O[m](l[D]))?l.splice(D--,1):(G=!1,B<j&&(j=B));if(G){re.splice(b--,1);var M=y();M!==void 0&&(u=M)}}return u}B=B||0;for(var b=re.length;b>0&&re[b-1][2]>B;b--)re[b]=re[b-1];re[b]=[l,y,B]},A.n=u=>{var l=u&&u.__esModule?()=>u.default:()=>u;return A.d(l,{a:l}),l},A.d=(u,l)=>{for(var y in l)A.o(l,y)&&!A.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:l[y]})},A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(u){if(typeof window=="object")return window}}(),A.o=(u,l)=>Object.prototype.hasOwnProperty.call(u,l),A.r=u=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},(()=>{var u={39673:0};A.O.j=B=>u[B]===0;var l=(B,j)=>{var G,D,M=j[0],b=j[1],m=j[2],g=0;if(M.some(s=>u[s]!==0)){for(G in b)A.o(b,G)&&(A.m[G]=b[G]);if(m)var n=m(A)}for(B&&B(j);g<M.length;g++)D=M[g],A.o(u,D)&&u[D]&&u[D][0](),u[D]=0;return A.O(n)},y=self.pbjsChunk=self.pbjsChunk||[];y.forEach(l.bind(null,0)),y.push=l.bind(null,y.push.bind(y))})();var e=A.O(void 0,[60802,51085],()=>A(42627));e=A.O(e)})(),(self.pbjsChunk=self.pbjsChunk||[]).push([[60802],{95789:(re,Q,t)=>{t.d(Q,{A4:()=>j,J7:()=>G,Pg:()=>D});var A=t(41580),e=t(91069),u=t(70433),l=t(15901);const y=(0,t(7873).m)(),B="outstream";function j(M){const{url:b,config:m,id:g,callback:n,loaded:s,adUnitCode:i,renderNow:p}=M;this.url=b,this.config=m,this.handlers={},this.id=g,this.renderNow=p,this.loaded=s,this.cmd=[],this.push=h=>{typeof h=="function"?this.loaded?h.call():this.cmd.push(h):(0,e.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=n||(()=>{this.loaded=!0,this.process()}),this.render=function(){const h=arguments,C=()=>{this._render?this._render.apply(this,h):(0,e.logWarn)("No render function was provided, please use .setRender on the renderer")};(function(O){const W=y.adUnits,J=(0,l.I6)(W,o=>o.code===O);if(!J)return!1;const N=(0,u.A)(J,"renderer"),F=!!(N&&N.url&&N.render),U=(0,u.A)(J,"mediaTypes.video.renderer"),f=!!(U&&U.url&&U.render);return!!(F&&N.backupOnly!==!0||f&&U.backupOnly!==!0)})(i)?((0,e.logWarn)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${i}`),C()):p?C():(this.cmd.unshift(C),(0,A.R)(b,B,this.callback,this.documentContext))}.bind(this)}function G(M){return!(!M||!M.url&&!M.renderNow)}function D(M,b,m){let g=null;M.config&&M.config.documentResolver&&(g=M.config.documentResolver(b,document,m)),g||(g=document),M.documentContext=g,M.render(b,M.documentContext)}j.install=function(M){let{url:b,config:m,id:g,callback:n,loaded:s,adUnitCode:i,renderNow:p}=M;return new j({url:b,config:m,id:g,callback:n,loaded:s,adUnitCode:i,renderNow:p})},j.prototype.getConfig=function(){return this.config},j.prototype.setRender=function(M){this._render=M},j.prototype.setEventHandlers=function(M){this.handlers=M},j.prototype.handleVideoEvent=function(M){let{id:b,eventName:m}=M;typeof this.handlers[m]=="function"&&this.handlers[m](),(0,e.logMessage)(`Prebid Renderer event for id ${b} type ${m}`)},j.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(M){(0,e.logError)("Error processing Renderer command: ",M)}}},76811:(re,Q,t)=>{t.d(Q,{DL:()=>G,Ml:()=>e,Ue:()=>A,VJ:()=>M,hE:()=>D,hq:()=>j,mo:()=>B,qX:()=>u,uc:()=>y,yl:()=>l});const A="accessDevice",e="syncUser",u="enrichUfpd",l="enrichEids",y="fetchBids",B="reportAnalytics",j="transmitEids",G="transmitUfpd",D="transmitPreciseGeo",M="transmitTid"},83441:(re,Q,t)=>{t.d(Q,{s:()=>e});var A=t(11445);const e=(0,t(2604).ZI)(u=>A.Ay.resolveAlias(u))},45569:(re,Q,t)=>{t.d(Q,{Tn:()=>y,fW:()=>u,tW:()=>e,tp:()=>A,zu:()=>l});const A="prebid",e="bidder",u="userId",l="rtd",y="analytics"},2604:(re,Q,t)=>{t.d(Q,{Dk:()=>l,Ii:()=>u,TQ:()=>b,U3:()=>g,XG:()=>G,ZI:()=>m,Zw:()=>j,bt:()=>D,e3:()=>M,iK:()=>y,q7:()=>B});var A=t(45569),e=t(16833);const u="component",l=u+"Type",y=u+"Name",B="adapterCode",j="storageType",G="configName",D="syncType",M="syncUrl",b="_config";function m(n){return function(s,i,p){const h={[l]:s,[y]:i,[u]:`${s}.${i}`};return s===A.tW&&(h[B]=n(i)),g(Object.assign(h,p))}}const g=(0,e.A_)("sync",n=>n)},3066:(re,Q,t)=>{t.d(Q,{$V:()=>b,$p:()=>n,Vx:()=>B,ZP:()=>g,l7:()=>y,nl:()=>D,p4:()=>m,uD:()=>M});var A=t(70433),e=t(43272),u=t(95139),l=t(76811);const y=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map(s=>`user.${s}`).concat("device.ext.cdep"),B=["user.eids","user.ext.eids"],j=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function G(s){return Object.assign({get(){},run(i,p,h,C,O){const W=h&&h[C];if(b(W)&&O()){const J=this.get(W);J===void 0?delete h[C]:h[C]=J}}},s)}function D(s){return s.forEach(i=>{i.paths=i.paths.map(p=>{const h=p.split("."),C=h.pop();return[h.length>0?h.join("."):null,C]})}),function(i,p){const h=[];for(var C=arguments.length,O=new Array(C>2?C-2:0),W=2;W<C;W++)O[W-2]=arguments[W];const J=M(i,...O);return s.forEach(N=>{if(i[N.name]!==!1)for(const[F,U]of N.paths){const f=F==null?p:(0,A.A)(p,F);if(h.push(N.run(p,F,f,U,J.bind(null,N))),i[N.name]===!1)return}}),h.filter(N=>N!=null)}}function M(s){for(var i=arguments.length,p=new Array(i>1?i-1:0),h=1;h<i;h++)p[h-1]=arguments[h];return function(C){return s.hasOwnProperty(C.name)||(s[C.name]=!!C.applies(...p)),s[C.name]}}function b(s){return s!=null&&(typeof s!="object"||Object.keys(s).length>0)}function m(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.io;return function(p){return!i(s,p)}}function g(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.io;return[{name:l.DL,paths:y,applies:m(l.DL,s)},{name:l.hq,paths:B,applies:m(l.hq,s)},{name:l.hE,paths:j,applies:m(l.hE,s),get:i=>Math.round(100*(i+Number.EPSILON))/100},{name:l.VJ,paths:["source.tid"],applies:m(l.VJ,s)}].map(G)}const n=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.io;const i=D(g(s)),p=D(function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.io;return[{name:l.hq,paths:["userId","userIdAsEids"],applies:m(l.hq,h)},{name:l.VJ,paths:["ortb2Imp.ext.tid"],applies:m(l.VJ,h)}].map(G)}(s));return function(h){const C={};return{ortb2:O=>(i(C,O,h),O),bidRequest:O=>(p(C,O,h),O)}}}();(0,u.qB)(l.VJ,"enableTIDs config",()=>{if(!e.$W.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}})},95139:(re,Q,t)=>{t.d(Q,{io:()=>l,qB:()=>u});var A=t(91069),e=t(2604);const[u,l]=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,A.prefixLog)("Activity control:");const B={};function j(b){return B[b]=B[b]||[]}function G(b,m,g,n){let s;try{s=g(n)}catch(i){y.logError(`Exception in rule ${m} for '${b}'`,i),s={allow:!1,reason:i}}return s&&Object.assign({activity:b,name:m,component:n[e.Ii]},s)}const D={};function M(b){let{activity:m,name:g,allow:n,reason:s,component:i}=b;const p=`${g} ${n?"allowed":"denied"} '${m}' for '${i}'${s?":":""}`,h=D.hasOwnProperty(p);if(h&&clearTimeout(D[p]),D[p]=setTimeout(()=>delete D[p],1e3),!h){const C=[p];s&&C.push(s),(n?y.logInfo:y.logWarn).apply(y,C)}}return[function(b,m,g){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10;const s=j(b),i=s.findIndex(h=>{let[C]=h;return n<C}),p=[n,m,g];return s.splice(i<0?s.length:i,0,p),function(){const h=s.indexOf(p);h>=0&&s.splice(h,1)}},function(b,m){let g,n;for(const[s,i,p]of j(b)){if(g!==s&&n)break;g=s;const h=G(b,i,p,m);if(h){if(!h.allow)return M(h),!1;n=h}}return n&&M(n),!0}]}()},29075:(re,Q,t)=>{t.d(Q,{$A:()=>h,BS:()=>d,Uc:()=>J,XO:()=>a,_0:()=>f,bw:()=>o,n6:()=>C,vW:()=>N,vd:()=>U});var A=t(91069),e=t(70433),u=t(75023),l=t(78969),y=t(43272),B=t(95789),j=t(71371),G=t(67314),D=t(46031),M=t(16833),b=t(12449),m=t(25555);const{AD_RENDER_FAILED:g,AD_RENDER_SUCCEEDED:n,STALE_RENDER:s,BID_WON:i}=l.qY,{EXCEPTION:p}=l.as,h=(0,M.A_)("sync",function(r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.k.resolve()).then(w=>w!=null?w:G.n.findBidByAdId(r)).catch(()=>{})}),C=(0,M.A_)("sync",function(r){u.emit(i,r),G.n.addWinningBid(r)});function O(r){let{reason:w,message:_,bid:c,id:v}=r;const $={reason:w,message:_};c&&($.bid=c,$.adId=c.adId),v&&($.adId=v),(0,A.logError)(`Error rendering ad (id: ${v}): ${_}`),u.emit(g,$)}function W(r){let{doc:w,bid:_,id:c}=r;const v={doc:w};_&&(v.bid=_),c&&(v.adId=c),u.emit(n,v)}function J(r,w){switch(r.event){case l.qY.AD_RENDER_FAILED:O({bid:w,id:w.adId,reason:r.info.reason,message:r.info.message});break;case l.qY.AD_RENDER_SUCCEEDED:W({doc:null,bid:w,id:w.adId});break;default:(0,A.logError)(`Received event request for unsupported event: '${r.event}' (adId: '${w.adId}')`)}}function N(r,w,_){let{resizeFn:c,fireTrackers:v=b.vO}=_;r.action==="resizeNativeHeight"?c(r.width,r.height):v(r,w)}const F={[l.nl.EVENT]:J};F[l.nl.NATIVE]=N;const U=(0,M.A_)("sync",function(r,w){const{ad:_,adUrl:c,cpm:v,originalCpm:$,width:k,height:q}=r,I={AUCTION_PRICE:$||v,CLICKTHROUGH:(w==null?void 0:w.clickUrl)||""};return{ad:(0,A.replaceMacros)(_,I),adUrl:(0,A.replaceMacros)(c,I),width:k,height:q}}),f=(0,M.A_)("sync",function(r){let{renderFn:w,resizeFn:_,bidResponse:c,options:v}=r;if(c.mediaType===j.G_)return void O({reason:l.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:c,id:c.adId});const $=U(c,v);w(Object.assign({adId:c.adId},$));const{width:k,height:q}=$;(k!=null?k:q)!=null&&_(k,q)});function o(r){let{renderFn:w,resizeFn:_,adId:c,options:v,bidResponse:$,doc:k}=r;if($!=null){if($.status!==l.tl.RENDERED||((0,A.logWarn)(`Ad id ${c} has been rendered before`),u.emit(s,$),!(0,e.A)(y.$W.getConfig("auctionOptions"),"suppressStaleRender"))){try{f({renderFn:w,resizeFn:_,bidResponse:$,options:v,doc:k})}catch(q){O({reason:l.as.EXCEPTION,message:q.message,id:c,bid:$})}C($)}}else O({reason:l.as.CANNOT_FIND_AD,message:`Cannot find ad '${c}'`,id:c})}function d(r,w,_){let c;function v(P,X){O(Object.assign({id:w,bid:c},{reason:P,message:X}))}function $(P,X){r.defaultView&&r.defaultView.frameElement&&(P&&(r.defaultView.frameElement.width=P),X&&(r.defaultView.frameElement.height=X))}const k=(q={resizeFn:$},function(P,X,Y){F.hasOwnProperty(P)&&F[P](X,Y,q)});var q;function I(P){P.ad?(r.write(P.ad),r.close(),W({doc:r,bid:c,adId:c.adId})):(0,D.H)(c).then(Y=>Y(P,{sendMessage:(R,H)=>k(R,H,c),mkFrame:A.createIframe},r.defaultView)).then(()=>W({doc:r,bid:c,adId:c.adId}),Y=>{v((Y==null?void 0:Y.reason)||l.as.EXCEPTION,Y==null?void 0:Y.message),Y!=null&&Y.stack&&(0,A.logError)(Y)});const X=document.createComment(`Creative ${c.creativeId} served by ${c.bidder} Prebid.js Header Bidding`);(0,A.insertElement)(X,r,"html")}try{w&&r?r!==document||(0,A.inIframe)()?h(w).then(P=>{c=P,o({renderFn:I,resizeFn:$,adId:w,options:{clickUrl:_==null?void 0:_.clickThrough},bidResponse:P,doc:r})}):v(l.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,"renderAd was prevented from writing to the main document."):v(l.as.MISSING_DOC_OR_ADID,"missing "+(w?"doc":"adId"))}catch(P){v(p,P.message)}}function a(){if(!window.frames[l.IY])if(document.body){const r=(0,A.createInvisibleIframe)();r.name=l.IY,document.body.appendChild(r)}else window.requestAnimationFrame(a)}f.before(function(r,w){const{bidResponse:_,doc:c}=w;(0,B.J7)(_.renderer)?((0,B.Pg)(_.renderer,_,c),W({doc:c,bid:_,id:_.adId}),r.bail()):r(w)},100)},10201:(re,Q,t)=>{t.d(Q,{U:()=>l});var A=t(7873),e=t(91069);const u=(0,A.m)();function l(y,B){u.adServers=u.adServers||{},u.adServers[y]=u.adServers[y]||{},Object.keys(B).forEach(j=>{u.adServers[y][j]?(0,e.logWarn)(`Attempting to add an already registered function property ${j} for AdServer ${y}.`):u.adServers[y][j]=B[j]})}},69759:(re,Q,t)=>{function A(e){var u=e;return{callBids:function(){},setBidderCode:function(l){u=l},getBidderCode:function(){return u}}}t.d(Q,{A:()=>A})},11445:(re,Q,t)=>{t.d(Q,{S1:()=>f,Ay:()=>H,tS:()=>k,pX:()=>I,Mf:()=>P,K5:()=>v,Gs:()=>q});var A=t(91069),e=t(70433),u=t(12449),l=t(57377),y=t(68044),B=t(43272),j=t(16833),G=t(15901);let D={};function M(T,S,L){let V=function(x,K){let z=D[x]=D[x]||{bidders:{}};return K?z.bidders[K]=z.bidders[K]||{}:z}(T,L);return V[S]=(V[S]||0)+1,V[S]}function b(T){return(0,e.A)(D,`${T}.requestsCounter`)||0}function m(T,S){return(0,e.A)(D,`${T}.bidders.${S}.requestsCounter`)||0}function g(T,S){return(0,e.A)(D,`${T}.bidders.${S}.winsCounter`)||0}var n=t(27934),s=t(16916),i=t(75023),p=t(78969),h=t(16894),C=t(67314),O=t(45569),W=t(95139),J=t(76811),N=t(2604),F=t(3066);const U="pbsBidAdapter",f={CLIENT:"client",SERVER:"server"},o={isAllowed:W.io,redact:F.$p};let d={},a=d.bidderRegistry={},r=d.aliasRegistry={},w=[];B.$W.getConfig("s2sConfig",T=>{T&&T.s2sConfig&&(w=(0,A.isArray)(T.s2sConfig)?T.s2sConfig:[T.s2sConfig])});var _={};const c=(0,N.ZI)(T=>d.resolveAlias(T));function v(T){return c(O.tp,U,{[N.XG]:T.configName})}const $=(0,j.A_)("sync",function(T){let{bidderCode:S,auctionId:L,bidderRequestId:V,adUnits:x,src:K,metrics:z}=T;return x.reduce((le,ce)=>{const ee=ce.bids.filter(te=>te.bidder===S);return S==null&&ee.length===0&&ce.s2sBid!=null&&ee.push({bidder:null}),le.push(ee.reduce((te,Z)=>{const ie=(Z=Object.assign({},Z,{ortb2Imp:(0,A.mergeDeep)({},ce.ortb2Imp,Z.ortb2Imp)},(0,A.getDefinedParams)(ce,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes==null?ce.mediaTypes:Z.mediaTypes;return(0,A.isValidMediaTypes)(ie)?Z=Object.assign({},Z,{mediaTypes:ie}):(0,A.logError)(`mediaTypes is not correctly configured for adunit ${ce.code}`),K==="client"&&function(ae,ye){M(ae,"requestsCounter",ye)}(ce.code,S),te.push(Object.assign({},Z,{adUnitCode:ce.code,transactionId:ce.transactionId,adUnitId:ce.adUnitId,sizes:(0,e.A)(ie,"banner.sizes")||(0,e.A)(ie,"video.playerSize")||[],bidId:Z.bid_id||(0,A.getUniqueIdentifierStr)(),bidderRequestId:V,auctionId:L,src:K,metrics:z,bidRequestsCount:b(ce.code),bidderRequestsCount:m(ce.code,Z.bidder),bidderWinsCount:g(ce.code,Z.bidder)})),te},[])),le},[]).reduce(A.flatten,[]).filter(le=>le!=="")},"getBids"),k=(0,j.A_)("sync",function(T,S){let{getS2SBidders:L=I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(S==null)return T;{const V=L(S);return T.filter(x=>V.has(x.bidder))}},"filterBidsForAdUnit"),q=(0,j.A_)("sync",(T,S)=>T,"setupAdUnitMediaTypes");function I(T){(0,A.isArray)(T)||(T=[T]);const S=new Set([null]);return T.filter(L=>L&&L.enabled).flatMap(L=>L.bidders).forEach(L=>S.add(L)),S}const P=(0,j.A_)("sync",function(T,S){let{getS2SBidders:L=I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const V=L(S);return(0,A.getBidderCodes)(T).reduce((x,K)=>(x[V.has(K)?f.SERVER:f.CLIENT].push(K),x),{[f.CLIENT]:[],[f.SERVER]:[]})},"partitionBidders");function X(T,S){const L=a[T],V=(L==null?void 0:L.getSpec)&&L.getSpec();if(V&&V[S]&&typeof V[S]=="function")return[V,V[S]]}function Y(T,S,L,V){try{(0,A.logInfo)(`Invoking ${T}.${S}`);for(var x=arguments.length,K=new Array(x>4?x-4:0),z=4;z<x;z++)K[z-4]=arguments[z];B.$W.runWithBidder(T,V.bind(L,...K))}catch(le){(0,A.logWarn)(`Error calling ${S} of ${T}`)}}function R(T,S,L){if((L==null?void 0:L.src)!==p.RW.SRC){const V=X(T,S);V!=null&&Y(T,S,...V,L)}}d.makeBidRequests=(0,j.A_)("sync",function(T,S,L,V,x){let K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},z=arguments.length>6?arguments[6]:void 0;z=(0,h.BO)(z),i.emit(p.qY.BEFORE_REQUEST_BIDS,T),(0,u.nk)(T),T.forEach(Ie=>{(0,A.isPlainObject)(Ie.mediaTypes)||(Ie.mediaTypes={}),Ie.bids=Ie.bids.filter(xe=>!xe.bidder||o.isAllowed(J.uc,c(O.tW,xe.bidder))),M(Ie.code,"requestsCounter")}),T=q(T,x);let{[f.CLIENT]:le,[f.SERVER]:ce}=P(T,w);B.$W.getConfig("bidderSequence")===B.Ov&&(le=(0,A.shuffle)(le));const ee=(0,n.EN)();let te=[];const Z=K.global||{},ie=K.bidder||{};function ae(Ie,xe){const Ae=o.redact(xe!=null?xe:c(O.tW,Ie.bidderCode)),me=Object.freeze(Ae.ortb2((0,A.mergeDeep)({source:{tid:L}},Z,ie[Ie.bidderCode])));return Ie.ortb2=me,Ie.bids=Ie.bids.map(E=>(E.ortb2=me,Ae.bidRequest(E))),Ie}w.forEach(Ie=>{const xe=v(Ie);if(Ie&&Ie.enabled&&o.isAllowed(J.uc,xe)){let{adUnits:Ae,hasModuleBids:me}=function(oe,de){let se=(0,A.deepClone)(oe),he=!1;return se.forEach(we=>{const Se=we.bids.filter(Ce=>{var Ee;return Ce.module===U&&((Ee=Ce.params)==null?void 0:Ee.configName)===de.configName});Se.length===1?(we.s2sBid=Se[0],he=!0,we.ortb2Imp=(0,A.mergeDeep)({},we.s2sBid.ortb2Imp,we.ortb2Imp)):Se.length>1&&(0,A.logWarn)('Multiple "module" bids for the same s2s configuration; all will be ignored',Se),we.bids=k(we.bids,de).map(Ce=>(Ce.bid_id=(0,A.getUniqueIdentifierStr)(),Ce))}),se=se.filter(we=>we.bids.length!==0||we.s2sBid!=null),{adUnits:se,hasModuleBids:he}}(T,Ie),E=(0,A.generateUUID)();(ce.length===0&&me?[null]:ce).forEach(oe=>{const de=(0,A.getUniqueIdentifierStr)(),se=z.fork(),he=ae({bidderCode:oe,auctionId:L,bidderRequestId:de,uniquePbsTid:E,bids:$({bidderCode:oe,auctionId:L,bidderRequestId:de,adUnits:(0,A.deepClone)(Ae),src:p.RW.SRC,metrics:se}),auctionStart:S,timeout:Ie.timeout,src:p.RW.SRC,refererInfo:ee,metrics:se},xe);he.bids.length!==0&&te.push(he)}),Ae.forEach(oe=>{let de=oe.bids.filter(se=>(0,G.I6)(te,he=>(0,G.I6)(he.bids,we=>we.bidId===se.bid_id)));oe.bids=de}),te.forEach(oe=>{oe.adUnitsS2SCopy===void 0&&(oe.adUnitsS2SCopy=Ae.filter(de=>de.bids.length>0||de.s2sBid!=null))})}});let ye=function(Ie){let xe=(0,A.deepClone)(Ie);return xe.forEach(Ae=>{Ae.bids=k(Ae.bids,null)}),xe=xe.filter(Ae=>Ae.bids.length!==0),xe}(T);return le.forEach(Ie=>{const xe=(0,A.getUniqueIdentifierStr)(),Ae=z.fork(),me=ae({bidderCode:Ie,auctionId:L,bidderRequestId:xe,bids:$({bidderCode:Ie,auctionId:L,bidderRequestId:xe,adUnits:(0,A.deepClone)(ye),labels:x,src:"client",metrics:Ae}),auctionStart:S,timeout:V,refererInfo:ee,metrics:Ae}),E=a[Ie];E||(0,A.logError)(`Trying to make a request for bidder that does not exist: ${Ie}`),E&&me.bids&&me.bids.length!==0&&te.push(me)}),te.forEach(Ie=>{s.mW.getConsentData()&&(Ie.gdprConsent=s.mW.getConsentData()),s.t6.getConsentData()&&(Ie.uspConsent=s.t6.getConsentData()),s.ad.getConsentData()&&(Ie.gppConsent=s.ad.getConsentData())}),te},"makeBidRequests"),d.callBids=function(T,S,L,V,x,K,z){let le=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{};if(!S.length)return void(0,A.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[ce,ee]=S.reduce((ie,ae)=>(ie[+(ae.src!==void 0&&ae.src===p.RW.SRC)].push(ae),ie),[[],[]]);var te=[];ee.forEach(ie=>{for(var ae=-1,ye=0;ye<te.length;++ye)if(ie.uniquePbsTid===te[ye].uniquePbsTid){ae=ye;break}ae<=-1&&te.push(ie)});let Z=0;w.forEach(ie=>{if(ie&&te[Z]&&I(ie).has(te[Z].bidderCode)){const ae=(0,y.g4)(K,x?{request:x.request.bind(null,"s2s"),done:x.done}:void 0);let ye=ie.bidders;const Ie=a[ie.adapter];let xe=te[Z].uniquePbsTid,Ae=te[Z].adUnitsS2SCopy,me=ee.filter(E=>E.uniquePbsTid===xe);if(Ie){let E={ad_units:Ae,s2sConfig:ie,ortb2Fragments:le,requestBidsTimeout:K};if(E.ad_units.length){let oe=me.map(se=>(se.start=(0,A.timestamp)(),function(he){he||z(se.bidderRequestId),V.apply(se,arguments)}));const de=(0,A.getBidderCodes)(E.ad_units).filter(se=>ye.includes(se));(0,A.logMessage)(`CALLING S2S HEADER BIDDERS ==== ${de.length>0?de.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),me.forEach(se=>{i.emit(p.qY.BID_REQUESTED,ot(Fe({},se),{tid:se.auctionId}))}),Ie.callBids(E,ee,L,se=>oe.forEach(he=>he(se)),ae)}}else(0,A.logError)("missing "+ie.adapter);Z++}}),ce.forEach(ie=>{ie.start=(0,A.timestamp)();const ae=a[ie.bidderCode];B.$W.runWithBidder(ie.bidderCode,()=>{(0,A.logMessage)("CALLING BIDDER"),i.emit(p.qY.BID_REQUESTED,ie)});let ye=(0,y.g4)(K,x?{request:x.request.bind(null,ie.bidderCode),done:x.done}:void 0);const Ie=V.bind(ie);try{B.$W.runWithBidder(ie.bidderCode,ae.callBids.bind(ae,ie,L,Ie,ye,()=>z(ie.bidderRequestId),B.$W.callbackWithBidder(ie.bidderCode)))}catch(xe){(0,A.logError)(`${ie.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:xe,bidRequest:ie}),Ie()}})},d.videoAdapters=[],d.registerBidAdapter=function(T,S){var L;let{supportedMediaTypes:V=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};T&&S?typeof T.callBids=="function"?(a[S]=T,s.o2.register(O.tW,S,(L=T.getSpec)==null?void 0:L.call(T).gvlid),(0,G.mK)(V,"video")&&d.videoAdapters.push(S),(0,G.mK)(V,"native")&&u.mT.push(S)):(0,A.logError)("Bidder adaptor error for bidder code: "+S+"bidder must implement a callBids() function"):(0,A.logError)("bidAdapter or bidderCode not specified")},d.aliasBidAdapter=function(T,S,L){if(a[S]===void 0){let V=a[T];if(V===void 0){const x=[];w.forEach(K=>{if(K.bidders&&K.bidders.length){const z=K&&K.bidders;K&&(0,G.mK)(z,S)?r[S]=T:x.push(T)}}),x.forEach(K=>{(0,A.logError)('bidderCode "'+K+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{let x,K=function(z){let le=[];return(0,G.mK)(d.videoAdapters,z)&&le.push("video"),(0,G.mK)(u.mT,z)&&le.push("native"),le}(T);if(V.constructor.prototype!=Object.prototype)x=new V.constructor,x.setBidderCode(S);else{let z=V.getSpec(),le=L&&L.gvlid;z.gvlid!=null&&le==null&&(0,A.logWarn)(`Alias '${S}' will NOT re-use the GVL ID of the original adapter ('${z.code}', gvlid: ${z.gvlid}). Functionality that requires TCF consent may not work as expected.`);let ce=L&&L.skipPbsAliasing;x=(0,l.xb)(Object.assign({},z,{code:S,gvlid:le,skipPbsAliasing:ce})),r[S]=T}d.registerBidAdapter(x,S,{supportedMediaTypes:K})}catch(x){(0,A.logError)(T+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,A.logMessage)('alias name "'+S+'" has been already specified.')},d.resolveAlias=function(T){let S,L=T;for(;r[L]&&(!S||!S.has(L));)L=r[L],(S=S||new Set).add(L);return L},d.registerAnalyticsAdapter=function(T){let{adapter:S,code:L,gvlid:V}=T;S&&L?typeof S.enableAnalytics=="function"?(S.code=L,_[L]={adapter:S,gvlid:V},s.o2.register(O.Tn,L,V)):(0,A.logError)(`Prebid Error: Analytics adaptor error for analytics "${L}"
        analytics adapter must implement an enableAnalytics() function`):(0,A.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},d.enableAnalytics=function(T){(0,A.isArray)(T)||(T=[T]),T.forEach(S=>{const L=_[S.provider];L&&L.adapter?o.isAllowed(J.mo,c(O.Tn,S.provider,{[N.TQ]:S}))&&L.adapter.enableAnalytics(S):(0,A.logError)(`Prebid Error: no analytics adapter found in registry for '${S.provider}'.`)})},d.getBidAdapter=function(T){return a[T]},d.getAnalyticsAdapter=function(T){return _[T]},d.callTimedOutBidders=function(T,S,L){S=S.map(V=>(V.params=(0,A.getUserConfiguredParams)(T,V.adUnitCode,V.bidder),V.timeout=L,V)),S=(0,A.groupBy)(S,"bidder"),Object.keys(S).forEach(V=>{R(V,"onTimeout",S[V])})},d.callBidWonBidder=function(T,S,L){var V,x;S.params=(0,A.getUserConfiguredParams)(L,S.adUnitCode,S.bidder),V=S.adUnitCode,x=S.bidder,M(V,"winsCounter",x),R(T,"onBidWon",S)},d.callBidBillableBidder=function(T){R(T.bidder,"onBidBillable",T)},d.callSetTargetingBidder=function(T,S){R(T,"onSetTargeting",S)},d.callBidViewableBidder=function(T,S){R(T,"onBidViewable",S)},d.callBidderError=function(T,S,L){R(T,"onBidderError",{error:S,bidderRequest:L})},d.callDataDeletionRequest=(0,j.A_)("sync",function(){for(var T=arguments.length,S=new Array(T),L=0;L<T;L++)S[L]=arguments[L];const V="onDataDeletionRequest";Object.keys(a).filter(x=>!r.hasOwnProperty(x)).forEach(x=>{const K=X(x,V);if(K!=null){const z=C.n.getBidsRequested().filter(le=>function(ce){const ee=new Set;for(;r.hasOwnProperty(ce)&&!ee.has(ce);)ee.add(ce),ce=r[ce];return ce}(le.bidderCode)===x);Y(x,V,...K,z,...S)}}),Object.entries(_).forEach(x=>{var K;let[z,le]=x;const ce=(K=le==null?void 0:le.adapter)==null?void 0:K[V];if(typeof ce=="function")try{ce.apply(le.adapter,S)}catch(ee){(0,A.logError)(`error calling ${V} of ${z}`,ee)}})});const H=d},57377:(re,Q,t)=>{t.d(Q,{JN:()=>o,a$:()=>J,fn:()=>d,xb:()=>N});var A=t(69759),e=t(11445),u=t(43272),l=t(93597),y=t(38230),B=t(12449),j=t(63895),G=t(78969),D=t(75023),M=t(15901),b=t(91069),m=t(16833),g=t(67314),n=t(12693),s=t(16894),i=t(95139),p=t(83441),h=t(45569),C=t(76811);const O=["cpm","ttl","creativeId","netRevenue","currency"],W=["auctionId","transactionId"];function J(r){const w=Array.isArray(r.supportedMediaTypes)?{supportedMediaTypes:r.supportedMediaTypes}:void 0;function _(c){const v=N(c);e.Ay.registerBidAdapter(v,c.code,w)}_(r),Array.isArray(r.aliases)&&r.aliases.forEach(c=>{let v,$,k=c;(0,b.isPlainObject)(c)&&(k=c.code,v=c.gvlid,$=c.skipPbsAliasing),e.Ay.aliasRegistry[k]=r.code,_(Object.assign({},r,{code:k,gvlid:v,skipPbsAliasing:$}))})}function N(r){return Object.assign(new A.A(r.code),{getSpec:function(){return Object.freeze(Object.assign({},r))},registerSyncs:w,callBids:function(_,c,v,$,k,q){if(!Array.isArray(_.bids))return;const I=function(T){if((0,i.io)(C.VJ,(0,p.s)(h.tW,T)))return{bidRequest:x=>x,bidderRequest:x=>x};function S(x,K,z){return W.includes(K)?null:Reflect.get(x,K,z)}function L(x,K){const z=new Proxy(x,K);return Object.entries(x).filter(le=>{let[ce,ee]=le;return typeof ee=="function"}).forEach(le=>{let[ce,ee]=le;return z[ce]=ee.bind(x)}),z}const V=(0,b.memoize)(x=>L(x,{get:S}),x=>x.bidId);return{bidRequest:V,bidderRequest:x=>L(x,{get:(K,z,le)=>z==="bids"?x.bids.map(V):S(K,z,le)})}}(_.bidderCode),P={},X=[];function Y(){v(),u.$W.runWithBidder(r.code,()=>{D.emit(G.qY.BIDDER_DONE,_),w(X,_.gdprConsent,_.uspConsent,_.gppConsent)})}const R=a(_).measureTime("validate",()=>_.bids.filter(T=>function(S){return r.isBidRequestValid(S)?!0:((0,b.logWarn)(`Invalid bid sent to bidder ${r.code}: ${JSON.stringify(S)}`),!1)}(I.bidRequest(T))));if(R.length===0)return void Y();const H={};R.forEach(T=>{H[T.bidId]=T,T.adUnitCode||(T.adUnitCode=T.placementCode)}),U(r,R.map(I.bidRequest),I.bidderRequest(_),$,q,{onRequest:T=>D.emit(G.qY.BEFORE_BIDDER_HTTP,_,T),onResponse:T=>{k(r.code),X.push(T)},onPaapi:T=>{const S=H[T.bidId];S?o(S,T):(0,b.logWarn)("Received fledge auction configuration for an unknown bidId",T)},onError:(T,S)=>{S.timedOut||k(r.code),e.Ay.callBidderError(r.code,S,_),D.emit(G.qY.BIDDER_ERROR,{error:S,bidderRequest:_}),(0,b.logError)(`Server call for ${r.code} failed: ${T} ${S.status}. Continuing without bids.`)},onBid:T=>{const S=H[T.requestId];if(S){if(T.adapterCode=S.bidder,function(V,x){let K=n.u.get(x,"allowAlternateBidderCodes")||!1,z=n.u.get(x,"allowedAlternateBidderCodes");return!!(V&&x&&x!==V&&(z=(0,b.isArray)(z)?z.map(le=>le.trim().toLowerCase()).filter(le=>!!le).filter(b.uniques):z,!K||(0,b.isArray)(z)&&z[0]!=="*"&&!z.includes(V)))}(T.bidderCode,S.bidder))return(0,b.logWarn)(`${T.bidderCode} is not a registered partner or known bidder of ${S.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void c.reject(S.adUnitCode,T,G.Tf.BIDDER_DISALLOWED);T.originalCpm=T.cpm,T.originalCurrency=T.currency,T.meta=T.meta||Object.assign({},T[S.bidder]);const L=Object.assign((0,l.O)(G.XQ.GOOD,S),T,(0,b.pick)(S,W));(function(V,x){const K=(0,s.BO)(x.metrics);K.checkpoint("addBidResponse"),P[V]=!0,K.measureTime("addBidResponse.validate",()=>d(V,x))?c(V,x):c.reject(V,x,G.Tf.INVALID)})(S.adUnitCode,L)}else(0,b.logWarn)(`Bidder ${r.code} made bid for unknown request ID: ${T.requestId}. Ignoring.`),c.reject(null,T,G.Tf.INVALID_REQUEST_ID)},onCompletion:Y})}});function w(_,c,v,$){f(r,_,c,v,$)}}const F=["bids","paapi"],U=(0,m.A_)("sync",function(r,w,_,c,v,$){let{onRequest:k,onResponse:q,onPaapi:I,onError:P,onBid:X,onCompletion:Y}=$;const R=a(_);Y=R.startTiming("total").stopBefore(Y);let H=R.measureTime("buildRequests",()=>r.buildRequests(w,_));if(!H||H.length===0)return void Y();Array.isArray(H)||(H=[H]);const T=(0,b.delayExecution)(Y,H.length);H.forEach(S=>{const L=R.fork();function V(ce){ce!=null&&(ce.metrics=L.fork().renameWith()),X(ce)}const x=v(function(ce,ee){z();try{ce=JSON.parse(ce)}catch(ie){}ce={body:ce,headers:{get:ee.getResponseHeader.bind(ee)}},q(ce);try{ce=L.measureTime("interpretResponse",()=>r.interpretResponse(ce,S))}catch(ie){return(0,b.logError)(`Bidder ${r.code} failed to interpret the server's response. Continuing without bids`,null,ie),void T()}let te,Z;ce&&!Object.keys(ce).some(ie=>!F.includes(ie))?(te=ce.bids,Z=ce.paapi):te=ce,(0,b.isArray)(Z)&&Z.forEach(I),te&&((0,b.isArray)(te)?te.forEach(V):V(te)),T()}),K=v(function(ce,ee){z(),P(ce,ee),T()});k(S);const z=L.startTiming("net");function le(ce){var ee;const te=S.options;return Object.assign(ce,te,{browsingTopics:!(te!=null&&te.hasOwnProperty("browsingTopics")&&!te.browsingTopics)&&((ee=n.u.get(r.code,"topicsHeader"))!=null?ee:!0)&&(0,i.io)(C.DL,(0,p.s)(h.tW,r.code))})}switch(S.method){case"GET":c(`${S.url}${function(ce){return ce?`?${typeof ce=="object"?(0,b.parseQueryStringParameters)(ce):ce}`:""}(S.data)}`,{success:x,error:K},void 0,le({method:"GET",withCredentials:!0}));break;case"POST":c(S.url,{success:x,error:K},typeof S.data=="string"?S.data:JSON.stringify(S.data),le({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,b.logWarn)(`Skipping invalid request from ${r.code}. Request type ${S.type} must be GET or POST`),T()}})},"processBidderRequests"),f=(0,m.A_)("async",function(r,w,_,c,v){const $=u.$W.getConfig("userSync.aliasSyncEnabled");if(r.getUserSyncs&&($||!e.Ay.aliasRegistry[r.code])){let k=u.$W.getConfig("userSync.filterSettings"),q=r.getUserSyncs({iframeEnabled:!(!k||!k.iframe&&!k.all),pixelEnabled:!(!k||!k.image&&!k.all)},w,_,c,v);q&&(Array.isArray(q)||(q=[q]),q.forEach(I=>{y.zt.registerSync(I.type,r.code,I.url)}),y.zt.bidderDone(r.code))}},"registerSyncs"),o=(0,m.A_)("sync",(r,w)=>{},"addPaapiConfig");function d(r,w){let{index:_=g.n.index}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};function c(v){return`Invalid bid from ${w.bidderCode}. Ignoring bid: ${v}`}return r?w?function(){let v=Object.keys(w);return O.every($=>(0,M.mK)(v,$)&&!(0,M.mK)([void 0,null],w[$]))}()?w.mediaType!=="native"||(0,B.Bm)(w,{index:_})?w.mediaType!=="video"||(0,j.vk)(w,{index:_})?!(w.mediaType==="banner"&&!function(v,$){let{index:k=g.n.index}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(($.width||parseInt($.width,10)===0)&&($.height||parseInt($.height,10)===0))return $.width=parseInt($.width,10),$.height=parseInt($.height,10),!0;const q=k.getBidRequest($),I=k.getMediaTypes($),P=q&&q.sizes||I&&I.banner&&I.banner.sizes,X=(0,b.parseSizesInput)(P);if(X.length===1){const[Y,R]=X[0].split("x");return $.width=parseInt(Y,10),$.height=parseInt(R,10),!0}return!1}(r,w,{index:_}))||((0,b.logError)(c("Banner bids require a width and height")),!1):((0,b.logError)(c("Video bid does not have required vastUrl or renderer property")),!1):((0,b.logError)(c("Native bid missing some required properties.")),!1):((0,b.logError)(c(`Bidder ${w.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):((0,b.logWarn)(`Some adapter tried to add an undefined bid for ${r}.`),!1):((0,b.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}function a(r){return(0,s.BO)(r.metrics).renameWith(w=>[`adapter.client.${w}`,`adapters.client.${r.bidderCode}.${w}`])}},41580:(re,Q,t)=>{t.d(Q,{R:()=>y});var A=t(15901),e=t(91069);const u=new WeakMap,l=["debugging","outstream","improvedigital","showheroes-bs","aaxBlockmeter","adagio","adloox","akamaidap","arcspan","airgrid","browsi","brandmetrics","clean.io","confiant","contxtful","hadron","mediafilter","medianet","azerionedge","a1Media","geoedge","qortex","dynamicAdBoost","51Degrees","symitridap","wurfl","justtag","tncId","ftrackId","id5"];function y(B,j,G,D,M){if(!j||!B)return void(0,e.logError)("cannot load external script without url and moduleCode");if(!(0,A.mK)(l,j))return void(0,e.logError)(`${j} not whitelisted for loading external JavaScript`);D||(D=document);const b=n(D,B);if(b)return G&&typeof G=="function"&&(b.loaded?G():b.callbacks.push(G)),b.tag;const m=u.get(D)||{},g={loaded:!1,tag:null,callbacks:[]};return m[B]=g,u.set(D,m),G&&typeof G=="function"&&g.callbacks.push(G),(0,e.logWarn)(`module ${j} is loading external JavaScript`),function(s,i,p,h){p||(p=document);var C=p.createElement("script");C.type="text/javascript",C.async=!0;const O=n(p,B);return O&&(O.tag=C),C.readyState?C.onreadystatechange=function(){C.readyState!=="loaded"&&C.readyState!=="complete"||(C.onreadystatechange=null,i())}:C.onload=function(){i()},C.src=s,h&&(0,e.setScriptAttributes)(C,h),(0,e.insertElement)(C,p),C}(B,function(){g.loaded=!0;try{for(let s=0;s<g.callbacks.length;s++)g.callbacks[s]()}catch(s){(0,e.logError)("Error executing callback","adloader.js:loadExternalScript",s)}},D,M);function n(s,i){const p=u.get(s);return p&&p[i]?p[i]:null}}},51692:(re,Q,t)=>{t.d(Q,{Q:()=>A});const A=(0,t(16833).A_)("sync",()=>{})},68044:(re,Q,t)=>{t.d(Q,{RD:()=>b,Rz:()=>M,g4:()=>D,hd:()=>m});var A=t(43272),e=t(91069);const u={fetch:window.fetch.bind(window),makeRequest:(g,n)=>new Request(g,n),timeout(g,n){const s=new AbortController;let i=setTimeout(()=>{s.abort(),(0,e.logError)(`Request timeout after ${g}ms`,n),i=null},g);return{signal:s.signal,done(){i&&clearTimeout(i)}}}},l="GET",y="POST",B="Content-Type";function j(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3,{request:n,done:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(p,h)=>{let C;g==null||(h==null?void 0:h.signal)!=null||A.$W.getConfig("disableAjaxTimeout")||(C=u.timeout(g,p),h=Object.assign({signal:C.signal},h));let O=u.fetch(p,h);return(C==null?void 0:C.done)!=null&&(O=O.finally(C.done)),O};return n==null&&s==null||(i=(p=>function(h,C){const O=new URL((h==null?void 0:h.url)==null?h:h.url,document.location).origin;let W=p(h,C);return n&&n(O),s&&(W=W.finally(()=>s(O))),W})(i)),i}function G(g,n){let{status:s,statusText:i="",headers:p,url:h}=g,C=0;function O(W){var J,N;if(C===0)try{C=new DOMParser().parseFromString(n,(N=(J=p==null?void 0:p.get(B))==null?void 0:J.split(";"))==null?void 0:N[0])}catch(F){C=null,W&&W(F)}return C}return{readyState:XMLHttpRequest.DONE,status:s,statusText:i,responseText:n,response:n,responseType:"",responseURL:h,get responseXML(){return O(e.logError)},getResponseHeader:W=>p!=null&&p.has(W)?p.get(W):null,toJSON(){return Object.assign({responseXML:O()},this)},timedOut:!1}}function D(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3,{request:n,done:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=j(g,{request:n,done:s});return function(p,h,C){(function(O,W){const{success:J,error:N}=typeof W=="object"&&W!=null?W:{success:typeof W=="function"?W:()=>null,error:(F,U)=>(0,e.logError)("Network error",F,U)};O.then(F=>F.text().then(U=>[F,U])).then(F=>{let[U,f]=F;const o=G(U,f);U.ok||U.status===304?J(f,o):N(U.statusText,o)},F=>N("",Object.assign(G({status:0},""),{reason:F,timedOut:(F==null?void 0:F.name)==="AbortError"})))})(i(function(O,W){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N=J.method||(W?y:l);if(N===l&&W){const f=(0,e.parseUrl)(O,J);Object.assign(f.search,W),O=(0,e.buildUrl)(f)}const F=new Headers(J.customHeaders);F.set(B,J.contentType||"text/plain");const U={method:N,headers:F};return N!==l&&W&&(U.body=W),J.withCredentials&&(U.credentials="include"),J.browsingTopics&&isSecureContext&&(U.browsingTopics=!0),J.keepalive&&(U.keepalive=!0),u.makeRequest(O,U)}(p,C,arguments.length>3&&arguments[3]!==void 0?arguments[3]:{})),h)}}function M(g,n){return!(!window.navigator||!window.navigator.sendBeacon)&&window.navigator.sendBeacon(g,n)}const b=D(),m=j()},81657:(re,Q,t)=>{t.d(Q,{AA:()=>F,HN:()=>L,UZ:()=>U,ZV:()=>X,mO:()=>P,mX:()=>w,sR:()=>_,v8:()=>k,w1:()=>v});var A=t(91069),e=t(70433),u=t(86833),l=t(12449),y=t(68693),B=t(95789),j=t(43272),G=t(38230),D=t(16833),M=t(15901),b=t(63895),m=t(71371),g=t(67314),n=t(12693),s=t(75023),i=t(11445),p=t(78969),h=t(25555),C=t(16894),O=t(57176),W=t(7873);const{syncUsers:J}=G.zt,N="started",F="inProgress",U="completed";s.on(p.qY.BID_ADJUSTMENT,function(K){(function(z){let le=(0,O.y)(z.cpm,z);le>=0&&(z.cpm=le)})(K)});const f=4,o={},d={},a=[],r=(0,W.m)();function w(K){let{adUnits:z,adUnitCodes:le,callback:ce,cbTimeout:ee,labels:te,auctionId:Z,ortb2Fragments:ie,metrics:ae}=K;ae=(0,C.BO)(ae);const ye=z,Ie=te,xe=le,Ae=Z||(0,A.generateUUID)(),me=ee,E=new Set,oe=(0,h.v)();let de,se,he,we,Se=[],Ce=ce,Ee=[],$e=[],Re=[],Ue=[],Oe=[];function Te(){return{auctionId:Ae,timestamp:de,auctionEnd:se,auctionStatus:we,adUnits:ye,adUnitCodes:xe,labels:Ie,bidderRequests:Ee,noBids:Re,bidsReceived:$e,bidsRejected:Se,winningBids:Ue,timeout:me,metrics:ae,seatNonBids:Oe}}function je(be){if(be?s.emit(p.qY.AUCTION_TIMEOUT,Te()):clearTimeout(he),se===void 0){let ue=[];be&&((0,A.logMessage)(`Auction ${Ae} timedOut`),ue=Ee.filter(ve=>!E.has(ve.bidderRequestId)).flatMap(ve=>ve.bids),ue.length&&s.emit(p.qY.BID_TIMEOUT,ue)),we=U,se=Date.now(),ae.checkpoint("auctionEnd"),ae.timeBetween("requestBids","auctionEnd","requestBids.total"),ae.timeBetween("callBids","auctionEnd","requestBids.callBids"),oe.resolve(),s.emit(p.qY.AUCTION_END,Te()),$(ye,function(){try{if(Ce!=null){const ve=$e.filter(Pe=>xe.includes(Pe.adUnitCode)).reduce(x,{});Ce.apply(r,[ve,be,Ae]),Ce=null}}catch(ve){(0,A.logError)("Error executing bidsBackHandler",null,ve)}finally{ue.length&&i.Ay.callTimedOutBidders(z,ue,me);let ve=j.$W.getConfig("userSync")||{};ve.enableOverride||J(ve.syncDelay)}})}}function qe(){j.$W.resetBidder(),(0,A.logInfo)(`Bids Received for Auction with id: ${Ae}`,$e),we=U,je(!1)}function pe(be){E.add(be)}function fe(be){be.forEach(De=>{var We;We=De,Ee=Ee.concat(We)});let ue={},ve={bidRequests:be,run:()=>{he=setTimeout(()=>je(!0),me),we=F,s.emit(p.qY.AUCTION_INIT,Te());let De=function(We,Me){let{index:ze=g.n.index}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ve=0,He=!1,Xe=new Set,tt={};function ut(){Ve--,He&&Ve===0&&We()}function yt(nt,Ke,Qe){return tt[Ke.requestId]=!0,function(Ge,Je){let{index:Ze=g.n.index}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const dt=Ze.getBidderRequest(Ge),rt=Ze.getAdUnit(Ge),ct=dt&&dt.start||Ge.requestTimestamp;Object.assign(Ge,{responseTimestamp:Ge.responseTimestamp||(0,A.timestamp)(),requestTimestamp:Ge.requestTimestamp||ct,cpm:parseFloat(Ge.cpm)||0,bidder:Ge.bidder||Ge.bidderCode,adUnitCode:Je}),(rt==null?void 0:rt.ttlBuffer)!=null&&(Ge.ttlBuffer=rt.ttlBuffer),Ge.timeToRespond=Ge.responseTimestamp-Ge.requestTimestamp}(Ke,nt),Ve++,Qe(ut)}function mt(nt,Ke){yt(nt,Ke,Qe=>{let Ge=function(Je){var Ze;let{index:dt=g.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.emit(p.qY.BID_ADJUSTMENT,Je);const rt=((Ze=dt.getBidRequest(Je))==null?void 0:Ze.renderer)||dt.getAdUnit(Je).renderer,ct=Je.mediaType,lt=dt.getMediaTypes(Je),vt=lt&&lt[ct];var ft=vt&&vt.renderer,pt=null;ft&&ft.url&&ft.render&&(ft.backupOnly!==!0||!Je.renderer)?pt=ft:rt&&rt.url&&rt.render&&(rt.backupOnly!==!0||!Je.renderer)&&(pt=rt),pt&&(Je.renderer=B.A4.install({url:pt.url,config:pt.options}),Je.renderer.setRender(pt.render));const At=I(Je.mediaType,lt,j.$W.getConfig("mediaTypePriceGranularity")),bt=(0,u.j)(Je.cpm,typeof At=="object"?At:j.$W.getConfig("customPriceBucket"),j.$W.getConfig("currency.granularityMultiplier"));return Je.pbLg=bt.low,Je.pbMg=bt.med,Je.pbHg=bt.high,Je.pbAg=bt.auto,Je.pbDg=bt.dense,Je.pbCg=bt.custom,Je}(Ke);s.emit(p.qY.BID_ACCEPTED,Ge),Ge.mediaType===m.G_?function(Je,Ze,dt){let{index:rt=g.n.index}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ct=!0;const lt=(0,e.A)(rt.getMediaTypes({requestId:Ze.originalRequestId||Ze.requestId,adUnitId:Ze.adUnitId}),"video"),vt=lt&&(0,e.A)(lt,"context"),ft=lt&&(0,e.A)(lt,"useCacheKey");j.$W.getConfig("cache.url")&&(ft||vt!==b.H6)&&(!Ze.videoCacheKey||j.$W.getConfig("cache.ignoreBidderCacheKey")?(ct=!1,q(Je,Ze,dt,lt)):Ze.vastUrl||((0,A.logError)("videoCacheKey specified but not required vastUrl for video bid"),ct=!1)),ct&&(k(Je,Ze),dt())}(Me,Ge,Qe):((0,l.l6)(Ge)&&(0,l.gs)(Ge,ze.getAdUnit(Ge)),k(Me,Ge),Qe())})}function st(nt,Ke,Qe){return yt(nt,Ke,Ge=>{Ke.rejectionReason=Qe,(0,A.logWarn)(`Bid from ${Ke.bidder||"unknown bidder"} was rejected: ${Qe}`,Ke),s.emit(p.qY.BID_REJECTED,Ke),Me.addBidRejected(Ke),Ge()})}function Ct(){let nt=this,Ke=Me.getBidRequests();const Qe=j.$W.getConfig("auctionOptions");if(Xe.add(nt),Qe&&!(0,A.isEmpty)(Qe)){const Ge=Qe.secondaryBidders;Ge&&!Ke.every(Je=>(0,M.mK)(Ge,Je.bidderCode))&&(Ke=Ke.filter(Je=>!(0,M.mK)(Ge,Je.bidderCode)))}He=Ke.every(Ge=>Xe.has(Ge)),nt.bids.forEach(Ge=>{tt[Ge.bidId]||(Me.addNoBid(Ge),s.emit(p.qY.NO_BID,Ge))}),He&&Ve===0&&We()}return{addBidResponse:function(){function nt(Ke,Qe){_.call({dispatch:mt},Ke,Qe,(()=>{let Ge=!1;return Je=>{Ge||(st(Ke,Qe,Je),Ge=!0)}})())}return nt.reject=st,nt}(),adapterDone:function(){c(h.k.resolve()).finally(()=>Ct.call(this))}}}(qe,this);i.Ay.callBids(ye,be,De.addBidResponse,De.adapterDone,{request(We,Me){Ne(o,Me),Ne(ue,We),d[We]||(d[We]={SRA:!0,origin:Me}),ue[We]>1&&(d[We].SRA=!1)},done(We){o[We]--,a[0]&&Pe(a[0])&&a.shift()}},me,pe,ie)}};function Pe(De){let We=!0,Me=j.$W.getConfig("maxRequestsPerOrigin")||f;return De.bidRequests.some(ze=>{let Ve=1,He=ze.src!==void 0&&ze.src===p.RW.SRC?"s2s":ze.bidderCode;return d[He]&&(d[He].SRA===!1&&(Ve=Math.min(ze.bids.length,Me)),o[d[He].origin]+Ve>Me&&(We=!1)),!We}),We&&De.run(),We}function Ne(De,We){De[We]===void 0?De[We]=1:De[We]++}Pe(ve)||((0,A.logWarn)("queueing auction due to limited endpoint capacity"),a.push(ve))}return s.on(p.qY.SEAT_NON_BID,be=>{var ue;be.auctionId===Ae&&(ue=be.seatnonbid,Oe=Oe.concat(ue))}),{addBidReceived:function(be){$e=$e.concat(be)},addBidRejected:function(be){Se=Se.concat(be)},addNoBid:function(be){Re=Re.concat(be)},callBids:function(){we=N,de=Date.now();let be=ae.measureTime("requestBids.makeRequests",()=>i.Ay.makeBidRequests(ye,de,Ae,me,Ie,ie,ae));(0,A.logInfo)(`Bids Requested for Auction with id: ${Ae}`,be),ae.checkpoint("callBids"),be.length<1?((0,A.logWarn)("No valid bid requests returned for auction"),qe()):v.call({dispatch:fe,context:this},be)},addWinningBid:function(be){const ue=z.find(ve=>ve.adUnitId===be.adUnitId);Ue=Ue.concat(be),(0,A.callBurl)(be),i.Ay.callBidWonBidder(be.adapterCode||be.bidder,be,z),ue&&!ue.deferBilling&&i.Ay.callBidBillableBidder(be)},setBidTargeting:function(be){i.Ay.callSetTargetingBidder(be.adapterCode||be.bidder,be)},getWinningBids:()=>Ue,getAuctionStart:()=>de,getAuctionEnd:()=>se,getTimeout:()=>me,getAuctionId:()=>Ae,getAuctionStatus:()=>we,getAdUnits:()=>ye,getAdUnitCodes:()=>xe,getBidRequests:()=>Ee,getBidsReceived:()=>$e,getNoBids:()=>Re,getNonBids:()=>Oe,getFPD:()=>ie,getMetrics:()=>ae,end:oe.promise}}const _=(0,D.A_)("sync",function(K,z,le){(function(ce){const ee=j.$W.getConfig("maxBid");return!ee||!ce.cpm||ee>=Number(ce.cpm)})(z)?this.dispatch.call(null,K,z):le(p.Tf.PRICE_TOO_HIGH)},"addBidResponse"),c=(0,D.A_)("sync",K=>K,"responsesReady"),v=(0,D.A_)("sync",function(K){this.dispatch.call(this.context,K)},"addBidderRequests"),$=(0,D.A_)("async",function(K,z){z&&z()},"bidsBackCallback");function k(K,z){(function(le){let ce;const ee=n.u.get(le.bidderCode,"allowZeroCpmBids")===!0?le.cpm>=0:le.cpm>0;le.bidderCode&&(ee||le.dealId)&&(ce=function(te,Z){let{index:ie=g.n.index}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Z)return{};const ae=ie.getBidRequest(Z);var ye={};const Ie=L(Z.mediaType,te);return V(ye,Ie,Z,ae),te&&n.u.getOwn(te,p.iD.ADSERVER_TARGETING)&&(V(ye,n.u.ownSettingsFor(te),Z,ae),Z.sendStandardTargeting=n.u.get(te,"sendStandardTargeting")),Z.native&&(ye=Object.assign({},ye,(0,l.Zj)(Z))),ye}(le.bidderCode,le)),le.adserverTargeting=Object.assign(le.adserverTargeting||{},ce)})(z),(0,C.BO)(z.metrics).timeSince("addBidResponse","addBidResponse.total"),K.addBidReceived(z),s.emit(p.qY.BID_RESPONSE,z)}const q=(0,D.A_)("async",function(K,z,le,ce){(0,y.X5)(K,z,le)},"callPrebidCache");function I(K,z,le){if(K&&le){if(K===m.G_){const ce=(0,e.A)(z,`${m.G_}.context`,"instream");if(le[`${m.G_}-${ce}`])return le[`${m.G_}-${ce}`]}return le[K]}}const P=function(K){let{index:z=g.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const le=I(K.mediaType,z.getMediaTypes(K),j.$W.getConfig("mediaTypePriceGranularity"));return typeof K.mediaType=="string"&&le?typeof le=="string"?le:"custom":j.$W.getConfig("priceGranularity")},X=K=>z=>{const le=K||P(z);return le===p.UE.AUTO?z.pbAg:le===p.UE.DENSE?z.pbDg:le===p.UE.LOW?z.pbLg:le===p.UE.MEDIUM?z.pbMg:le===p.UE.HIGH?z.pbHg:le===p.UE.CUSTOM?z.pbCg:void 0},Y=()=>K=>K.creativeId?K.creativeId:"",R=()=>K=>K.meta&&K.meta.advertiserDomains&&K.meta.advertiserDomains.length>0?[K.meta.advertiserDomains].flat()[0]:"",H=()=>K=>K.meta&&(K.meta.networkId||K.meta.networkName)?(0,e.A)(K,"meta.networkName")||(0,e.A)(K,"meta.networkId"):"",T=()=>K=>K.meta&&K.meta.primaryCatId?K.meta.primaryCatId:"";function S(K,z){return{key:K,val:typeof z=="function"?function(le,ce){return z(le,ce)}:function(le){return(0,A.getValue)(le,z)}}}function L(K,z){const le=Object.assign({},n.u.settingsFor(null));if(le[p.iD.ADSERVER_TARGETING]||(le[p.iD.ADSERVER_TARGETING]=[S(p.xS.BIDDER,"bidderCode"),S(p.xS.AD_ID,"adId"),S(p.xS.PRICE_BUCKET,X()),S(p.xS.SIZE,"size"),S(p.xS.DEAL,"dealId"),S(p.xS.SOURCE,"source"),S(p.xS.FORMAT,"mediaType"),S(p.xS.ADOMAIN,R()),S(p.xS.ACAT,T()),S(p.xS.DSP,H()),S(p.xS.CRID,Y())]),K==="video"){const ce=le[p.iD.ADSERVER_TARGETING].slice();if(le[p.iD.ADSERVER_TARGETING]=ce,[p.xS.UUID,p.xS.CACHE_ID].forEach(ee=>{(0,M.I6)(ce,te=>te.key===ee)===void 0&&ce.push(S(ee,"videoCacheKey"))}),j.$W.getConfig("cache.url")&&(!z||n.u.get(z,"sendStandardTargeting")!==!1)){const ee=(0,A.parseUrl)(j.$W.getConfig("cache.url"));(0,M.I6)(ce,te=>te.key===p.xS.CACHE_HOST)===void 0&&ce.push(S(p.xS.CACHE_HOST,function(te){return(0,e.A)(te,`adserverTargeting.${p.xS.CACHE_HOST}`)?te.adserverTargeting[p.xS.CACHE_HOST]:ee.hostname}))}}return le}function V(K,z,le,ce){var ee=z[p.iD.ADSERVER_TARGETING];return le.size=le.getSize(),(ee||[]).forEach(function(te){var Z=te.key,ie=te.val;if(K[Z]&&(0,A.logWarn)("The key: "+Z+" is being overwritten"),(0,A.isFn)(ie))try{ie=ie(le,ce)}catch(ae){(0,A.logError)("bidmanager","ERROR",ae)}(z.suppressEmptyKeys===void 0||z.suppressEmptyKeys!==!0)&&Z!==p.xS.DEAL&&Z!==p.xS.ACAT&&Z!==p.xS.DSP&&Z!==p.xS.CRID||!(0,A.isEmptyStr)(ie)&&ie!=null?K[Z]=ie:(0,A.logInfo)("suppressing empty key '"+Z+"' from adserver targeting")}),K}function x(K,z){return K[z.adUnitCode]||(K[z.adUnitCode]={bids:[]}),K[z.adUnitCode].bids.push(z),K}},67314:(re,Q,t)=>{t.d(Q,{n:()=>M});var A=t(91069),e=t(81657);function u(b){Object.assign(this,{getAuction(m){let{auctionId:g}=m;if(g!=null)return b().find(n=>n.getAuctionId()===g)},getAdUnit(m){let{adUnitId:g}=m;if(g!=null)return b().flatMap(n=>n.getAdUnits()).find(n=>n.adUnitId===g)},getMediaTypes(m){let{adUnitId:g,requestId:n}=m;if(n!=null){const s=this.getBidRequest({requestId:n});if(s!=null&&(g==null||s.adUnitId===g))return s.mediaTypes}else if(g!=null){const s=this.getAdUnit({adUnitId:g});if(s!=null)return s.mediaTypes}},getBidderRequest(m){let{requestId:g,bidderRequestId:n}=m;if(g!=null||n!=null){let s=b().flatMap(i=>i.getBidRequests());return n!=null&&(s=s.filter(i=>i.bidderRequestId===n)),g==null?s[0]:s.find(i=>i.bids&&i.bids.find(p=>p.bidId===g)!=null)}},getBidRequest(m){let{requestId:g}=m;if(g!=null)return b().flatMap(n=>n.getBidRequests()).flatMap(n=>n.bids).find(n=>n&&n.bidId===g)}})}var l=t(78969),y=t(16894),B=t(76853),j=t(27863),G=t(43272);const D="minBidCacheTTL",M=function(){let b=null;const m=(0,B.H)({startTime:i=>i.end.then(()=>i.getAuctionEnd()),ttl:i=>b==null?null:i.end.then(()=>1e3*Math.max(b,...i.getBidsReceived().map(j.L)))});(0,j.u)(()=>{b!=null&&m.refresh()}),G.$W.getConfig(D,i=>{const p=b;b=i==null?void 0:i[D],b=typeof b=="number"?b:null,p!==b&&m.refresh()});const g={onExpiry:m.onExpiry};function n(i){for(const p of m)if(p.getAuctionId()===i)return p}function s(){return m.toArray().flatMap(i=>i.getBidsReceived())}return g.addWinningBid=function(i){const p=(0,y.BO)(i.metrics);p.checkpoint("bidWon"),p.timeBetween("auctionEnd","bidWon","render.pending"),p.timeBetween("requestBids","bidWon","render.e2e");const h=n(i.auctionId);h?(i.status=l.tl.RENDERED,h.addWinningBid(i)):(0,A.logWarn)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:i=>i.getAuctionStatus()===e.UZ},getAdUnitCodes:{post:A.uniques}}).forEach(i=>{let[p,{name:h=p,pre:C,post:O}]=i;const W=C==null?N=>N[h]():N=>C(N)?N[h]():[],J=O==null?N=>N:N=>N.filter(O);g[p]=()=>J(m.toArray().flatMap(W))}),g.getAllBidsForAdUnitCode=function(i){return s().filter(p=>p&&p.adUnitCode===i)},g.createAuction=function(i){const p=(0,e.mX)(i);return function(h){m.add(h)}(p),p},g.findBidByAdId=function(i){return s().find(p=>p.adId===i)},g.getStandardBidderAdServerTargeting=function(){return(0,e.HN)()[l.iD.ADSERVER_TARGETING]},g.setStatusForBids=function(i,p){let h=g.findBidByAdId(i);if(h&&(h.status=p),h&&p===l.tl.BID_TARGETING_SET){const C=n(h.auctionId);C&&C.setBidTargeting(h)}},g.getLastAuctionId=function(){const i=m.toArray();return i.length&&i[i.length-1].getAuctionId()},g.clearAllAuctions=function(){m.clear()},g.index=new u(()=>m.toArray()),g}()},27863:(re,Q,t)=>{t.d(Q,{L:()=>y,u:()=>B});var A=t(43272),e=t(91069);let u=1;const l=[];function y(j){return j.ttl-(j.hasOwnProperty("ttlBuffer")?j.ttlBuffer:u)}function B(j){l.push(j)}A.$W.getConfig("ttlBuffer",j=>{if(typeof j.ttlBuffer=="number"){const G=u;u=j.ttlBuffer,G!==u&&l.forEach(D=>D(u))}else(0,e.logError)("Invalid value for ttlBuffer",j.ttlBuffer)})},12693:(re,Q,t)=>{var A,e,u;t.d(Q,{u:()=>G});var l=t(70433),y=t(91069),B=t(7873),j=t(78969);const G=new(u=class{constructor(D,M){at(this,A),this.getSettings=D,this.defaultScope=M}get(D,M){let b=this.getOwn(D,M);return b===void 0&&(b=this.getOwn(null,M)),b}getOwn(D,M){return D=ht(this,A,e).call(this,D),(0,l.A)(this.getSettings(),`${D}.${M}`)}getScopes(){return Object.keys(this.getSettings()).filter(D=>D!==this.defaultScope)}settingsFor(D){return(0,y.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(D))}ownSettingsFor(D){return D=ht(this,A,e).call(this,D),this.getSettings()[D]||{}}},A=new WeakSet,e=function(D){return D==null?this.defaultScope:D},u)(()=>(0,B.m)().bidderSettings||{},j.iD.BD_SETTING_STANDARD)},93597:(re,Q,t)=>{t.d(Q,{O:()=>u});var A=t(91069);function e(l){let{src:y="client",bidder:B="",bidId:j,transactionId:G,adUnitId:D,auctionId:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var b=y,m=l||0;Object.assign(this,{bidderCode:B,width:0,height:0,statusMessage:function(){switch(m){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:(0,A.getUniqueIdentifierStr)(),requestId:j,transactionId:G,adUnitId:D,auctionId:M,mediaType:"banner",source:b}),this.getStatusCode=function(){return m},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function u(l,y){return new e(l,y)}},43272:(re,Q,t)=>{t.d(Q,{$W:()=>m,Ov:()=>G});var A=t(86833),e=t(15901),u=t(91069),l=t(70433),y=t(78969);const B=(0,u.getParameterByName)(y.M).toUpperCase()==="TRUE",j={},G="random",D={};D[G]=!0,D.fixed=!0;const M=G,b={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},m=function(){let g,n,s,i=[],p=null;function h(){function r(k){return _[k].val}function w(k,q){_[k].val=q}g={};const _={publisherDomain:{set(k){k!=null&&(0,u.logWarn)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),w("publisherDomain",k)}},priceGranularity:{val:b.MEDIUM,set(k){$(k)&&(typeof k=="string"?w("priceGranularity",v(k)?k:b.MEDIUM):(0,u.isPlainObject)(k)&&(w("customPriceBucket",k),w("priceGranularity",b.CUSTOM),(0,u.logMessage)("Using custom price granularity")))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(k){k!=null&&w("mediaTypePriceGranularity",Object.keys(k).reduce((q,I)=>($(k[I])?typeof k=="string"?q[I]=v(k[I])?k[I]:r("priceGranularity"):(0,u.isPlainObject)(k)&&(q[I]=k[I],(0,u.logMessage)(`Using custom price granularity for ${I}`)):(0,u.logWarn)(`Invalid price granularity for media type: ${I}`),q),{}))}},bidderSequence:{val:M,set(k){D[k]?w("bidderSequence",k):(0,u.logWarn)(`Invalid order: ${k}. Bidder Sequence was not set.`)}},auctionOptions:{val:{},set(k){(function(q){if(!(0,u.isPlainObject)(q))return(0,u.logWarn)("Auction Options must be an object"),!1;for(let I of Object.keys(q)){if(I!=="secondaryBidders"&&I!=="suppressStaleRender")return(0,u.logWarn)(`Auction Options given an incorrect param: ${I}`),!1;if(I==="secondaryBidders"){if(!(0,u.isArray)(q[I]))return(0,u.logWarn)(`Auction Options ${I} must be of type Array`),!1;if(!q[I].every(u.isStr))return(0,u.logWarn)(`Auction Options ${I} must be only string`),!1}else if(I==="suppressStaleRender"&&!(0,u.isBoolean)(q[I]))return(0,u.logWarn)(`Auction Options ${I} must be of type boolean`),!1}return!0})(k)&&w("auctionOptions",k)}}};let c={debug:B,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3,userSync:{topics:j}};function v(k){return(0,e.I6)(Object.keys(b),q=>k===b[q])}function $(k){if(!k)return(0,u.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if(typeof k=="string")v(k)||(0,u.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,u.isPlainObject)(k)&&!(0,A.q)(k))return(0,u.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(c,Object.fromEntries(Object.entries(_).map(k=>{let[q,I]=k;return[q,Object.assign({get:r.bind(null,q),set:w.bind(null,q),enumerable:!0},I)]}))),n&&f(Object.keys(n).reduce((k,q)=>(n[q]!==c[q]&&(k[q]=c[q]||{}),k),{})),n=c,s={}}function C(){if(p&&s&&(0,u.isPlainObject)(s[p])){let r=s[p];const w=new Set(Object.keys(n).concat(Object.keys(r)));return(0,e.A6)(w).reduce((_,c)=>(r[c]===void 0?_[c]=n[c]:n[c]===void 0?_[c]=r[c]:(0,u.isPlainObject)(r[c])?_[c]=(0,u.mergeDeep)({},n[c],r[c]):_[c]=r[c],_),{})}return Object.assign({},n)}const[O,W]=[C,function(){const r=C();return Object.defineProperty(r,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),r}].map(r=>function(){if(arguments.length<=1&&typeof(arguments.length<=0?void 0:arguments[0])!="function"){const w=arguments.length<=0?void 0:arguments[0];return w?(0,l.A)(r(),w):C()}return U(...arguments)}),[J,N]=[W,O].map(r=>function(){let w=r(...arguments);return w&&typeof w=="object"&&(w=(0,u.deepClone)(w)),w});function F(r){if(!(0,u.isPlainObject)(r))return void(0,u.logError)("setConfig options must be an object");let w=Object.keys(r),_={};w.forEach(c=>{let v=r[c];(0,u.isPlainObject)(g[c])&&(0,u.isPlainObject)(v)&&(v=Object.assign({},g[c],v));try{_[c]=n[c]=v}catch($){(0,u.logWarn)(`Cannot set config for property ${c} : `,$)}}),f(_)}function U(r,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=w;if(typeof r!="string"&&(c=r,r="*",_=w||{}),typeof c!="function")return void(0,u.logError)("listener must be a function");const v={topic:r,callback:c};return i.push(v),_.init&&c(r==="*"?W():{[r]:W(r)}),function(){i.splice(i.indexOf(v),1)}}function f(r){const w=Object.keys(r);i.filter(_=>(0,e.mK)(w,_.topic)).forEach(_=>{_.callback({[_.topic]:r[_.topic]})}),i.filter(_=>_.topic==="*").forEach(_=>_.callback(r))}function o(r){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];try{(function(_){if(!(0,u.isPlainObject)(_))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(_.bidders)||!_.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,u.isPlainObject)(_.config))throw"setBidderConfig bidder options must contain a config object"})(r),r.bidders.forEach(_=>{s[_]||(s[_]={}),Object.keys(r.config).forEach(c=>{let v=r.config[c];if((0,u.isPlainObject)(v)){const $=w?u.mergeDeep:Object.assign;s[_][c]=$({},s[_][c]||{},v)}else s[_][c]=v})})}catch(_){(0,u.logError)(_)}}function d(r,w){p=r;try{return w()}finally{a()}}function a(){p=null}return h(),{getCurrentBidder:function(){return p},resetBidder:a,getConfig:W,getAnyConfig:O,readConfig:J,readAnyConfig:N,setConfig:F,mergeConfig:function(r){if(!(0,u.isPlainObject)(r))return void(0,u.logError)("mergeConfig input must be an object");const w=(0,u.mergeDeep)(C(),r);return F(Fe({},w)),w},setDefaults:function(r){(0,u.isPlainObject)(g)?(Object.assign(g,r),Object.assign(n,r)):(0,u.logError)("defaults must be an object")},resetConfig:h,runWithBidder:d,callbackWithBidder:function(r){return function(w){return function(){if(typeof w=="function"){for(var _=arguments.length,c=new Array(_),v=0;v<_;v++)c[v]=arguments[v];return d(r,w.bind(this,...c))}(0,u.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:o,getBidderConfig:function(){return s},mergeBidderConfig:function(r){return o(r,!0)}}}()},16916:(re,Q,t)=>{var A,e,u,l,y,B,j,G;t.d(Q,{B1:()=>m,SL:()=>O,ad:()=>i,et:()=>p,mW:()=>n,o2:()=>h,t6:()=>s});var D=t(91069),M=t(25555),b=t(43272);const m=Object.freeze({});class g{constructor(){at(this,j),at(this,A,void 0),at(this,e,void 0),at(this,u,void 0),at(this,l,void 0),at(this,y,!0),at(this,B,void 0),_t(this,"generatedTime"),_t(this,"hashFields"),this.reset()}reset(){it(this,u,(0,M.v)()),it(this,A,!1),it(this,e,null),it(this,l,!1),this.generatedTime=null}enable(){it(this,A,!0)}get enabled(){return et(this,A)}get ready(){return et(this,l)}get promise(){return et(this,l)?M.k.resolve(et(this,e)):(et(this,A)||ht(this,j,G).call(this,null),et(this,u).promise)}setConsentData(J){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,D.timestamp)();this.generatedTime=N,it(this,y,!0),ht(this,j,G).call(this,J)}getConsentData(){return et(this,e)}get hash(){return et(this,y)&&(it(this,B,(0,D.cyrb53Hash)(JSON.stringify(et(this,e)&&this.hashFields?this.hashFields.map(J=>et(this,e)[J]):et(this,e)))),it(this,y,!1)),et(this,B)}}A=new WeakMap,e=new WeakMap,u=new WeakMap,l=new WeakMap,y=new WeakMap,B=new WeakMap,j=new WeakSet,G=function(W){it(this,l,!0),it(this,e,W),et(this,u).resolve(W)};const n=new class extends g{constructor(){super(...arguments),_t(this,"hashFields",["gdprApplies","consentString"])}getConsentMeta(){const W=this.getConsentData();if(W&&W.vendorData&&this.generatedTime)return{gdprApplies:W.gdprApplies,consentStringSize:(0,D.isStr)(W.vendorData.tcString)?W.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:W.apiVersion}}},s=new class extends g{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},i=new class extends g{constructor(){super(...arguments),_t(this,"hashFields",["applicableSections","gppString"])}getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},p=(()=>{function W(){return!!b.$W.getConfig("coppa")}return{getCoppa:W,getConsentData:W,getConsentMeta:W,reset(){},get promise(){return M.k.resolve(W())},get hash(){return W()?"1":"0"}}})(),h=function(){const W={},J={},N={};return{register(F,U,f){f&&((W[U]=W[U]||{})[F]=f,J.hasOwnProperty(U)?J[U]!==f&&(J[U]=N):J[U]=f)},get(F){const U={modules:W[F]||{}};return J.hasOwnProperty(F)&&J[F]!==N&&(U.gvlid=J[F]),U}}}(),C={gdpr:n,usp:s,gpp:i,coppa:p},O=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;return W=Object.entries(W),Object.assign({get promise(){return M.k.all(W.map(J=>{let[N,F]=J;return F.promise.then(U=>[N,U])})).then(J=>Object.fromEntries(J))},get hash(){return(0,D.cyrb53Hash)(W.map(J=>{let[N,F]=J;return F.hash}).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map(J=>{return[J,(N=J,function(){return Object.fromEntries(W.map(F=>{let[U,f]=F;return[U,f[N]()]}))})];var N})))}()},78969:(re,Q,t)=>{t.d(Q,{IY:()=>C,M:()=>e,RW:()=>b,Tf:()=>g,UE:()=>j,XQ:()=>u,Zh:()=>D,_B:()=>p,as:()=>y,cA:()=>B,h0:()=>n,iD:()=>A,jO:()=>s,nl:()=>h,oA:()=>i,qY:()=>l,tl:()=>m,x5:()=>M,xS:()=>G});const A={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},e="pbjs_debug",u={GOOD:1},l={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError"},y={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},B={bidWon:"adUnitCode"},j={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},G={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},D={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},M={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},b={SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},m={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},g={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},n={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},s={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},i={ICON:1,MAIN:3},p=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],h={REQUEST:"Prebid Request",RESPONSE:"Prebid Response",NATIVE:"Prebid Native",EVENT:"Prebid Event"},C="__pb_locator__"},86833:(re,Q,t)=>{t.d(Q,{j:()=>M,q:()=>m});var A=t(15901),e=t(91069),u=t(43272);const l=2,y={buckets:[{max:5,increment:.5}]},B={buckets:[{max:20,increment:.1}]},j={buckets:[{max:20,increment:.01}]},G={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},D={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function M(g,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=parseFloat(g);return isNaN(i)&&(i=""),{low:i===""?"":b(g,y,s),med:i===""?"":b(g,B,s),high:i===""?"":b(g,j,s),auto:i===""?"":b(g,D,s),dense:i===""?"":b(g,G,s),custom:i===""?"":b(g,n,s)}}function b(g,n,s){let i="";if(!m(n))return i;const p=n.buckets.reduce((O,W)=>O.max>W.max?O:W,{max:0});let h=0,C=(0,A.I6)(n.buckets,O=>{if(g>p.max*s){let W=O.precision;W===void 0&&(W=l),i=(O.max*s).toFixed(W)}else{if(g<=O.max*s&&g>=h*s)return O.min=h,O;h=O.max}});return C&&(i=function(O,W,J){const N=W.precision!==void 0?W.precision:l,F=W.increment*J,U=W.min*J;let f=Math.floor,o=u.$W.getConfig("cpmRoundingFunction");typeof o=="function"&&(f=o);let d,a,r=Math.pow(10,N+2),w=(O*r-U*r)/(F*r);try{d=f(w)*F+U}catch(_){a=!0}return(a||typeof d!="number")&&((0,e.logWarn)("Invalid rounding function passed in config"),d=Math.floor(w)*F+U),d=Number(d.toFixed(10)),d.toFixed(N)}(g,C,s)),i}function m(g){if((0,e.isEmpty)(g)||!g.buckets||!Array.isArray(g.buckets))return!1;let n=!0;return g.buckets.forEach(s=>{s.max&&s.increment||(n=!1)}),n}},46031:(re,Q,t)=>{t.d(Q,{H:()=>y,k:()=>l});var A=t(25555),e=t(91069),u=t(34595);const l=(0,t(16833).A_)("sync",function(B){return u.G}),y=function(){const B={};return function(j){const G=l(j);return B.hasOwnProperty(G)||(B[G]=new A.k(D=>{const M=(0,e.createInvisibleIframe)();M.srcdoc=`<script>${G}<\/script>`,M.onload=()=>D(M.contentWindow.render),document.body.appendChild(M)})),B[G]}}()},49164:(re,Q,t)=>{t.d(Q,{L6:()=>g,ey:()=>G});var A=t(43272),e=t(16833),u=t(7873),l=t(91069),y=t(93597),B=t(41580),j=t(25555);const G="__pbjs_debugging__";function D(){return(0,u.m)().installedModules.includes("debugging")}function M(n){return new j.k(s=>{(0,B.R)(n,"debugging",s)})}function b(){let{alreadyInstalled:n=D,script:s=M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=null;return function(){return i==null&&(i=new j.k((p,h)=>{setTimeout(()=>{if(n())p();else{const C="https://cdn.jsdelivr.net/npm/prebid.js@latest/dist/debugging-standalone.js";(0,l.logMessage)(`Debugging module not installed, loading it from "${C}"...`),(0,u.m)()._installDebugging=!0,s(C).then(()=>{(0,u.m)()._installDebugging({DEBUG_KEY:G,hook:e.A_,config:A.$W,createBid:y.O,logger:(0,l.prefixLog)("DEBUG:")})}).then(p,h)}})})),i}}const m=function(){let{load:n=b(),hook:s=(0,e.Yn)("requestBids")}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=null,p=!1;function h(O){for(var W=arguments.length,J=new Array(W>1?W-1:0),N=1;N<W;N++)J[N-1]=arguments[N];return(i||j.k.resolve()).then(()=>O.apply(this,J))}function C(){s.getHooks({hook:h}).remove(),p=!1}return{enable:function(){p||(i=n(),s.before(h,99),p=!0)},disable:C,reset:function(){i=null,C()}}}();m.reset;function g(){let n=null;try{n=window.sessionStorage}catch(s){}if(n!==null){let s=m,i=null;try{i=n.getItem(G)}catch(p){}i!==null&&s.enable()}}A.$W.getConfig("debugging",function(n){let{debugging:s}=n;s!=null&&s.enabled?m.enable():m.disable()})},75023:(re,Q,t)=>{t.r(Q),t.d(Q,{addEvents:()=>h,clearEvents:()=>O,emit:()=>p,get:()=>s,getEvents:()=>i,has:()=>C,off:()=>n,on:()=>g});var A=t(91069),e=t(78969),u=t(76853),l=t(43272);const y="eventHistoryTTL";let B=null;const j=(0,u.H)({monotonic:!0,ttl:()=>B});l.$W.getConfig(y,W=>{const J=B;W=W==null?void 0:W[y],B=typeof W=="number"?1e3*W:null,J!==B&&j.refresh()});let G=Array.prototype.slice,D=Array.prototype.push,M=Object.values(e.qY);const b=e.cA,m=function(){let W={},J={};function N(F){return M.includes(F)}return J.has=N,J.on=function(F,U,f){if(N(F)){let o=W[F]||{que:[]};f?(o[f]=o[f]||{que:[]},o[f].que.push(U)):o.que.push(U),W[F]=o}else A.logError("Wrong event name : "+F+" Valid event names :"+M)},J.emit=function(F){(function(U,f){A.logMessage("Emitting event for: "+U);let o=f[0]||{},d=o[b[U]],a=W[U]||{que:[]};var r=Object.keys(a);let w=[];j.add({eventType:U,args:o,id:d,elapsedTime:A.getPerformanceNow()}),d&&r.includes(d)&&D.apply(w,a[d].que),D.apply(w,a.que),(w||[]).forEach(function(_){if(_)try{_.apply(null,f)}catch(c){A.logError("Error executing handler:","events.js",c,U)}})})(F,G.call(arguments,1))},J.off=function(F,U,f){let o=W[F];A.isEmpty(o)||A.isEmpty(o.que)&&A.isEmpty(o[f])||f&&(A.isEmpty(o[f])||A.isEmpty(o[f].que))||(f?(o[f].que||[]).forEach(function(d){let a=o[f].que;d===U&&a.splice(a.indexOf(d),1)}):(o.que||[]).forEach(function(d){let a=o.que;d===U&&a.splice(a.indexOf(d),1)}),W[F]=o)},J.get=function(){return W},J.addEvents=function(F){M=M.concat(F)},J.getEvents=function(){return j.toArray().map(F=>Object.assign({},F))},J}();A._setEventEmitter(m.emit.bind(m));const{on:g,off:n,get:s,getEvents:i,emit:p,addEvents:h,has:C}=m;function O(){j.clear()}},20687:(re,Q,t)=>{t.d(Q,{w:()=>O});var A=t(16833),e=t(27934),u=t(5973),l=t(91069),y=t(63172),B=t(43272),j=t(25555);const G=["architecture","bitness","model","platformVersion","fullVersionList"],D=["brands","mobile","platform"],M=function(){var f;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(f=window.navigator)==null?void 0:f.userAgentData;const d=o&&D.some(a=>o[a]!==void 0)?Object.freeze(m(1,o)):null;return function(){return d}}(),b=function(){var f;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(f=window.navigator)==null?void 0:f.userAgentData;const d={},a=new WeakMap;return function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;if(!a.has(r)){const _=Array.from(r);_.sort(),a.set(r,_.join("|"))}const w=a.get(r);if(!d.hasOwnProperty(w))try{d[w]=o.getHighEntropyValues(r).then(_=>(0,l.isEmpty)(_)?null:Object.freeze(m(2,_))).catch(()=>null)}catch(_){d[w]=j.k.resolve(null)}return d[w]}}();function m(f,o){function d(r,w){const _={brand:r};return(0,l.isStr)(w)&&!(0,l.isEmptyStr)(w)&&(_.version=w.split(".")),_}const a={source:f};return o.platform&&(a.platform=d(o.platform,o.platformVersion)),(o.fullVersionList||o.brands)&&(a.browsers=(o.fullVersionList||o.brands).map(r=>{let{brand:w,version:_}=r;return d(w,_)})),o.mobile!==void 0&&(a.mobile=o.mobile?1:0),["model","bitness","architecture"].forEach(r=>{const w=o[r];(0,l.isStr)(w)&&(a[r]=w)}),a}var g=t(73858),n=t(95139),s=t(83441),i=t(76811),p=t(45569);const h={getRefererInfo:e.EN,findRootDomain:u.S,getWindowTop:l.getWindowTop,getWindowSelf:l.getWindowSelf,getHighEntropySUA:b,getLowEntropySUA:M},C=(0,g.i8)("FPD"),O=(0,A.A_)("sync",f=>{const o=[f,J().catch(()=>null),j.k.resolve("cookieDeprecationLabel"in navigator&&(0,n.io)(i.Ue,(0,s.s)(p.tp,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch(()=>null)];return j.k.all(o).then(d=>{let[a,r,w]=d;const _=h.getRefererInfo();if(Object.entries(F).forEach(c=>{let[v,$]=c;const k=$(a,_);k&&Object.keys(k).length>0&&(a[v]=(0,l.mergeDeep)({},k,a[v]))}),r&&(0,y.J)(a,"device.sua",Object.assign({},r,a.device.sua)),w){const c={cdep:w};(0,y.J)(a,"device.ext",Object.assign({},c,a.device.ext))}a=C(a);for(let c of g.Dy)if((0,g.O$)(a,c)){a[c]=(0,l.mergeDeep)({},U(a,_),a[c]);break}return a})});function W(f){try{return f(h.getWindowTop())}catch(o){return f(h.getWindowSelf())}}function J(){const f=B.$W.getConfig("firstPartyData.uaHints");return Array.isArray(f)&&f.length!==0?h.getHighEntropySUA(f):j.k.resolve(h.getLowEntropySUA())}function N(f){return(0,l.getDefinedParams)(f,Object.keys(f))}const F={site(f,o){if(!g.Dy.filter(d=>d!=="site").some(g.O$.bind(null,f)))return N({page:o.page,ref:o.ref})},device:()=>W(f=>{var o;const d={w:f.innerWidth||f.document.documentElement.clientWidth||f.document.body.clientWidth,h:f.innerHeight||f.document.documentElement.clientHeight||f.document.body.clientHeight,dnt:(0,l.getDNT)()?1:0,ua:f.navigator.userAgent,language:f.navigator.language.split("-").shift()};return(o=f.navigator)!=null&&o.webdriver&&(0,y.J)(d,"ext.webdriver",!0),d}),regs(){const f={};W(d=>d.navigator.globalPrivacyControl)&&(0,y.J)(f,"ext.gpc",1);const o=B.$W.getConfig("coppa");return typeof o=="boolean"&&(f.coppa=o?1:0),f}};function U(f,o){var d,a,r;const w=(0,e.gR)(o.page,{noLeadingWww:!0}),_=(r=(a=(d=W(c=>c.document.querySelector("meta[name='keywords']")))==null?void 0:d.content)==null?void 0:a.replace)==null?void 0:r.call(a,/\s/g,"");return N({domain:w,keywords:_,publisher:N({domain:h.findRootDomain(w)})})}},86656:(re,Q,t)=>{function A(){let l,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;try{l=y.top.history.length}catch(B){l=void 0}return l}function e(){let l,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;try{l=y.top.navigator.hardwareConcurrency}catch(B){l=void 0}return l}function u(){let l,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;try{l=y.top.navigator.deviceMemory}catch(B){l=void 0}return l}t.d(Q,{GA:()=>A,iz:()=>e,qM:()=>u})},73858:(re,Q,t)=>{t.d(Q,{Dy:()=>e,O$:()=>l,i8:()=>u});var A=t(91069);const e=["dooh","app","site"];function u(y){return function(B){return e.reduce((j,G)=>(l(B,G)&&(j!=null?((0,A.logWarn)(`${y} specifies both '${j}' and '${G}'; dropping the latter.`),delete B[G]):j=G),j),null),B}}function l(y,B){return y[B]!=null&&Object.keys(y[B]).length>0}},5973:(re,Q,t)=>{t.d(Q,{S:()=>u});var A=t(91069);const e=(0,t(12938).CK)("fpdEnrichment"),u=(0,A.memoize)(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location.host;if(!e.cookiesAreEnabled())return l;const y=l.split(".");if(y.length===2)return l;let B,j,G=-2;const D=`_rdc${Date.now()}`,M="writeable";do{B=y.slice(G).join(".");let b=new Date((0,A.timestamp)()+1e4).toUTCString();e.setCookie(D,M,b,"Lax",B,void 0),e.getCookie(D,void 0)===M?(j=!1,e.setCookie(D,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,B,void 0)):(G+=-1,j=Math.abs(G)<=y.length)}while(j);return B})},16833:(re,Q,t)=>{t.d(Q,{A_:()=>l,Gc:()=>B,Y6:()=>m,Yn:()=>j,bz:()=>b,pT:()=>G,xG:()=>M});var A=t(68128),e=t.n(A),u=t(25555);let l=e()({ready:e().SYNC|e().ASYNC|e().QUEUE});const y=(0,u.v)();l.ready=(()=>{const g=l.ready;return function(){try{return g.apply(l,arguments)}finally{y.resolve()}}})();const B=y.promise,j=l.get;function G(g,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:15;g.getHooks({hook:n}).length===0&&g.before(n,s)}const D={};function M(g,n){let{postInstallAllowed:s=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l("async",function(i){i.forEach(p=>n(...p)),s&&(D[g]=n)},g)([])}function b(g){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];const p=D[g];if(p)return p(...s);j(g).before((h,C)=>{C.push(s),h(C)})}function m(g,n){return Object.defineProperties(n,Object.fromEntries(["before","after","getHooks","removeAll"].map(s=>[s,{get:()=>g[s]}]))),n}},71371:(re,Q,t)=>{t.d(Q,{D4:()=>u,G_:()=>e,LM:()=>l,s6:()=>A});const A="native",e="video",u="banner",l="adpod"},12449:(re,Q,t)=>{t.d(Q,{Bm:()=>O,Ex:()=>q,Gg:()=>U,IX:()=>d,Nh:()=>M,Xj:()=>v,Zj:()=>N,gs:()=>J,l6:()=>i,mT:()=>D,nk:()=>h,rn:()=>w,vO:()=>W,yl:()=>a});var A=t(70433),e=t(91069),u=t(15901),l=t(67314),y=t(78969),B=t(71371),j=t(29075),G=t(46031);const D=[],M=Object.keys(y.x5).map(P=>y.x5[P]),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},m=I(y.h0),g=I(y.jO),n={img:1,js:2,1:"img",2:"js"},s={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function i(P){return P.native&&typeof P.native=="object"}function p(P){if(P&&P.type&&function(X){return!X||!(0,u.mK)(Object.keys(b),X)?((0,e.logError)(`${X} nativeParam is not supported`),!1):!0}(P.type)&&(P=b[P.type]),!P||!P.ortb||C(P.ortb))return P}function h(P){P.forEach(X=>{const Y=X.nativeParams||(0,A.A)(X,"mediaTypes.native");Y&&(X.nativeParams=p(Y)),X.nativeParams&&(X.nativeOrtbRequest=X.nativeParams.ortb||w(X.nativeParams))})}function C(P){const X=P.assets;if(!Array.isArray(X)||X.length===0)return(0,e.logError)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",X),!1;const Y=X.map(R=>R.id);return X.length!==new Set(Y).size||Y.some(R=>R!==parseInt(R,10))?((0,e.logError)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):P.hasOwnProperty("eventtrackers")&&!Array.isArray(P.eventtrackers)?((0,e.logError)("ortb.eventtrackers is not an array. Eventtrackers: ",P.eventtrackers),!1):X.every(R=>function(H){if(!(0,e.isPlainObject)(H))return(0,e.logError)("asset must be an object. Provided asset: ",H),!1;if(H.img){if(!(0,e.isNumber)(H.img.w)&&!(0,e.isNumber)(H.img.wmin))return(0,e.logError)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,e.isNumber)(H.img.h)&&!(0,e.isNumber)(H.img.hmin))return(0,e.logError)("for img asset there must be 'h' or 'hmin' property"),!1}else if(H.title){if(!(0,e.isNumber)(H.title.len))return(0,e.logError)("for title asset there must be 'len' property defined"),!1}else if(H.data){if(!(0,e.isNumber)(H.data.type))return(0,e.logError)("for data asset 'type' property must be a number"),!1}else if(H.video&&!(Array.isArray(H.video.mimes)&&Array.isArray(H.video.protocols)&&(0,e.isNumber)(H.video.minduration)&&(0,e.isNumber)(H.video.maxduration)))return(0,e.logError)("video asset is not properly configured"),!1;return!0}(R))}function O(P){var X;let{index:Y=l.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=Y.getAdUnit(P);if(!R)return!1;let H=R.nativeOrtbRequest;return function(T,S){if(!(0,A.A)(T,"link.url"))return(0,e.logError)("native response doesn't have 'link' property. Ortb response: ",T),!1;let L=S.assets.filter(K=>K.required===1).map(K=>K.id),V=T.assets.map(K=>K.id);const x=L.every(K=>(0,u.mK)(V,K));return x||(0,e.logError)(`didn't receive a bid with all required assets. Required ids: ${L}, but received ids in response: ${V}`),x}(((X=P.native)==null?void 0:X.ortb)||k(P.native,H),H)}function W(P,X){const Y=X.native.ortb||$(X.native);return P.action==="click"?function(R){var H,T;let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,{fetchURL:L=e.triggerPixel}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(S){const V=(R.assets||[]).filter(le=>le.link).reduce((le,ce)=>(le[ce.id]=ce.link,le),{}),x=((H=R.link)==null?void 0:H.clicktrackers)||[];let K=V[S],z=x;K&&(z=K.clicktrackers||[]),z.forEach(le=>L(le))}else(((T=R.link)==null?void 0:T.clicktrackers)||[]).forEach(V=>L(V))}(Y,P==null?void 0:P.assetId):function(R){let{runMarkup:H=x=>(0,e.insertHtmlIntoIframe)(x),fetchURL:T=e.triggerPixel}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=(R.eventtrackers||[]).filter(x=>x.event===s.impression);let{img:L,js:V}=S.reduce((x,K)=>(n.hasOwnProperty(K.method)&&x[n[K.method]].push(K.url),x),{img:[],js:[]});R.imptrackers&&(L=L.concat(R.imptrackers)),L.forEach(x=>T(x)),V=V.map(x=>`<script async src="${x}"><\/script>`),R.jstracker&&(V=V.concat([R.jstracker])),V.length&&H(V.join(`
`))}(Y),P.action}function J(P,X){var Y;const R=X==null?void 0:X.nativeOrtbRequest,H=(Y=P.native)==null?void 0:Y.ortb;if(R&&H){const T=q(H,R);Object.assign(P.native,T)}["rendererUrl","adTemplate"].forEach(T=>{var S;const L=(S=X==null?void 0:X.nativeParams)==null?void 0:S[T];L&&(P.native[T]=r(L))})}function N(P){let{index:X=l.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y={};const R=X.getAdUnit(P),H=(0,A.A)(R,"nativeParams.sendTargetingKeys")!==!1,T=function(L){const V={};return(0,A.A)(L,"nativeParams.ext")&&Object.keys(L.nativeParams.ext).forEach(x=>{V[x]=`hb_native_${x}`}),Fe(Fe({},y.x5),V)}(R),S=Fe(Fe({},P.native),P.native.ext);return delete S.ext,Object.keys(S).forEach(L=>{const V=T[L];let x=r(P.native[L])||r((0,A.A)(P,`native.ext.${L}`));if(L==="adTemplate"||!V||!x)return;let K=(0,A.A)(R,`nativeParams.${L}.sendId`);typeof K!="boolean"&&(K=(0,A.A)(R,`nativeParams.ext.${L}.sendId`)),K&&(x=`${V}:${P.adId}`);let z=(0,A.A)(R,`nativeParams.${L}.sendTargetingKeys`);typeof z!="boolean"&&(z=(0,A.A)(R,`nativeParams.ext.${L}.sendTargetingKeys`)),(typeof z=="boolean"?z:H)&&(Y[V]=x)}),Y}function F(P,X){let Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],R=[];return Object.entries(P).filter(H=>{let[T,S]=H;return S&&(Y===!1&&T==="ext"||X==null||X.includes(T))}).forEach(H=>{let[T,S]=H;Y===!1&&T==="ext"?R.push(...F(S,X,!0)):(Y||y.x5.hasOwnProperty(T))&&R.push({key:T,value:r(S)})}),R}function U(P,X,Y){var R,H;const T=ot(Fe({},(0,e.getDefinedParams)(P.native,["rendererUrl","adTemplate"])),{assets:F(P.native,Y),nativeKeys:y.x5});return P.native.ortb?T.ortb=P.native.ortb:(H=(R=X.mediaTypes)==null?void 0:R.native)!=null&&H.ortb&&(T.ortb=k(P.native,X.nativeOrtbRequest)),T}function f(P,X,Y){let{index:R=l.n.index}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const H={message:"assetResponse",adId:P.adId};let T=(0,j.vd)(X).native;return T?(H.native=Object.assign({},T),H.renderer=(0,G.k)(X),Y!=null&&(T.assets=T.assets.filter(S=>{let{key:L}=S;return Y.includes(L)}))):T=U(X,R.getAdUnit(X),Y),Object.assign(H,T)}const o=Object.fromEntries(Object.entries(y.x5).map(P=>{let[X,Y]=P;return[Y,X]}));function d(P,X){const Y=P.assets.map(R=>o[R]);return f(P,X,Y)}function a(P,X){return f(P,X,null)}function r(P){return(P==null?void 0:P.url)||P}function w(P){if(!P&&!(0,e.isPlainObject)(P))return void(0,e.logError)("Native assets object is empty or not an object: ",P);const X={ver:"1.2",assets:[]};for(let Y in P){if(y._B.includes(Y))continue;if(!y.x5.hasOwnProperty(Y)){(0,e.logError)(`Unrecognized native asset code: ${Y}. Asset will be ignored.`);continue}if(Y==="privacyLink"){X.privacy=1;continue}const R=P[Y];let H=0;R.required&&(0,e.isBoolean)(R.required)&&(H=Number(R.required));const T={id:X.assets.length,required:H};if(Y in y.h0)T.data={type:y.jO[y.h0[Y]]},R.len&&(T.data.len=R.len);else if(Y==="icon"||Y==="image"){if(T.img={type:Y==="icon"?y.oA.ICON:y.oA.MAIN},R.aspect_ratios)if((0,e.isArray)(R.aspect_ratios))if(R.aspect_ratios.length){const{min_width:S,min_height:L}=R.aspect_ratios[0];(0,e.isInteger)(S)&&(0,e.isInteger)(L)?(T.img.wmin=S,T.img.hmin=L):(0,e.logError)("image.aspect_ratios min_width or min_height are invalid: ",S,L);const V=R.aspect_ratios.filter(x=>x.ratio_width&&x.ratio_height).map(x=>`${x.ratio_width}:${x.ratio_height}`);V.length>0&&(T.img.ext={aspectratios:V})}else(0,e.logError)("image.aspect_ratios was passed, but it's empty:",R.aspect_ratios);else(0,e.logError)("image.aspect_ratios was passed, but it's not a an array:",R.aspect_ratios);R.sizes&&(R.sizes.length===2&&(0,e.isInteger)(R.sizes[0])&&(0,e.isInteger)(R.sizes[1])?(T.img.w=R.sizes[0],T.img.h=R.sizes[1],delete T.img.hmin,delete T.img.wmin):(0,e.logError)("image.sizes was passed, but its value is not an array of integers:",R.sizes))}else Y==="title"?T.title={len:R.len||140}:Y==="ext"&&(T.ext=R,delete T.required);X.assets.push(T)}return X}function _(P,X){for(;P&&X&&P!==X;)P>X?P-=X:X-=P;return P||X}function c(P){if(!C(P))return;const X={};for(const Y of P.assets){if(Y.title){const R={required:!!Y.required&&!!Y.required,len:Y.title.len};X.title=R}else if(Y.img){const R={required:!!Y.required&&!!Y.required};if(Y.img.w&&Y.img.h)R.sizes=[Y.img.w,Y.img.h];else if(Y.img.wmin&&Y.img.hmin){const H=_(Y.img.wmin,Y.img.hmin);R.aspect_ratios=[{min_width:Y.img.wmin,min_height:Y.img.hmin,ratio_width:Y.img.wmin/H,ratio_height:Y.img.hmin/H}]}Y.img.type===y.oA.MAIN?X.image=R:X.icon=R}else if(Y.data){let R=Object.keys(y.jO).find(T=>y.jO[T]===Y.data.type),H=Object.keys(y.h0).find(T=>y.h0[T]===R);X[H]={required:!!Y.required&&!!Y.required},Y.data.len&&(X[H].len=Y.data.len)}P.privacy&&(X.privacyLink={required:!1})}return X}function v(P){{if(!P||!(0,e.isArray)(P)||!P.some(Y=>{var R;return(R=((Y==null?void 0:Y.mediaTypes)||{})[B.s6])==null?void 0:R.ortb}))return P;let X=(0,e.deepClone)(P);for(const Y of X)Y.mediaTypes&&Y.mediaTypes[B.s6]&&Y.mediaTypes[B.s6].ortb&&(Y.mediaTypes[B.s6]=Object.assign((0,e.pick)(Y.mediaTypes[B.s6],y._B),c(Y.mediaTypes[B.s6].ortb)),Y.nativeParams=p(Y.mediaTypes[B.s6]));return X}}function $(P){const X={link:{},eventtrackers:[]};return Object.entries(P).forEach(Y=>{let[R,H]=Y;switch(R){case"clickUrl":X.link.url=H;break;case"clickTrackers":X.link.clicktrackers=Array.isArray(H)?H:[H];break;case"impressionTrackers":(Array.isArray(H)?H:[H]).forEach(T=>{X.eventtrackers.push({event:s.impression,method:n.img,url:T})});break;case"javascriptTrackers":X.jstracker=Array.isArray(H)?H.join(""):H;break;case"privacyLink":X.privacy=H}}),X}function k(P,X){const Y=ot(Fe({},$(P)),{assets:[]});function R(H,T){let S=X.assets.find(H);S!=null&&(S=(0,e.deepClone)(S),T(S),Y.assets.push(S))}return Object.keys(P).filter(H=>!!P[H]).forEach(H=>{const T=r(P[H]);switch(H){case"title":R(L=>L.title!=null,L=>{L.title={text:T}});break;case"image":case"icon":const S=H==="image"?y.oA.MAIN:y.oA.ICON;R(L=>L.img!=null&&L.img.type===S,L=>{L.img={url:T}});break;default:H in y.h0&&R(L=>L.data!=null&&L.data.type===y.jO[y.h0[H]],L=>{L.data={value:T}})}}),Y}function q(P,X){const Y={},R=(X==null?void 0:X.assets)||[];Y.clickUrl=P.link.url,Y.privacyLink=P.privacy;for(const T of(P==null?void 0:P.assets)||[]){const S=R.find(L=>T.id===L.id);T.title?Y.title=T.title.text:T.img?Y[S.img.type===y.oA.MAIN?"image":"icon"]={url:T.img.url,width:T.img.w,height:T.img.h}:T.data&&(Y[m[g[S.data.type]]]=T.data.value)}Y.impressionTrackers=[];let H=[];P.imptrackers&&Y.impressionTrackers.push(...P.imptrackers);for(const T of(P==null?void 0:P.eventtrackers)||[])T.event===s.impression&&T.method===n.img&&Y.impressionTrackers.push(T.url),T.event===s.impression&&T.method===n.js&&H.push(T.url);return H=H.map(T=>`<script async src="${T}"><\/script>`),P!=null&&P.jstracker&&H.push(P.jstracker),H.length&&(Y.javascriptTrackers=H.join(`
`)),Y}function I(P){var X={};for(var Y in P)X[P[Y]]=Y;return X}},1e3:(re,Q,t)=>{t.d(Q,{Cf:()=>y,S3:()=>e,Tb:()=>u,WR:()=>l,e4:()=>j,pS:()=>D,qN:()=>B,yB:()=>M,zt:()=>A});const A=["request","imp","bidResponse","response"],[e,u,l,y]=A,[B,j]=["default","pbs"],G=new Set(A),{registerOrtbProcessor:D,getProcessors:M}=function(){const b={};return{registerOrtbProcessor(m){let{type:g,name:n,fn:s,priority:i=0,dialects:p=[B]}=m;if(!G.has(g))throw new Error(`ORTB processor type must be one of: ${A.join(", ")}`);p.forEach(h=>{b.hasOwnProperty(h)||(b[h]={}),b[h].hasOwnProperty(g)||(b[h][g]={}),b[h][g][n]={priority:i,fn:s}})},getProcessors:m=>b[m]||{}}}()},15901:(re,Q,t)=>{function A(y,B,j){return y&&y.includes(B,j)||!1}function e(){return Array.from.apply(Array,arguments)}function u(y,B,j){return y&&y.find(B,j)}function l(y,B,j){return y&&y.findIndex(B,j)}t.d(Q,{A6:()=>e,I6:()=>u,SL:()=>l,mK:()=>A})},42627:(re,Q,t)=>{t.d(Q,{WH:()=>S,Z:()=>L,gH:()=>x});var A=t(7873),e=t(91069),u=t(70433),l=t(63172),y=t(12449),B=t(78969),j=t(15901),G=t(29075),D=t(46031);const{REQUEST:M,RESPONSE:b,NATIVE:m,EVENT:g}=B.nl,n={[M]:function(ee,te,Z){(0,G.bw)({renderFn(ie){ee(Object.assign({message:b,renderer:(0,D.k)(Z)},ie))},resizeFn:i(te.adId,Z),options:te.options,adId:te.adId,bidResponse:Z})},[g]:function(ee,te,Z){return Z==null?void(0,e.logError)(`Cannot find ad '${te.adId}' for x-origin event request`):Z.status!==B.tl.RENDERED?void(0,e.logWarn)(`Received x-origin event request without corresponding render request for ad '${Z.adId}'`):(0,G.Uc)(te,Z)}};function s(){window.addEventListener("message",function(ee){(function(te){var Z=te.message?"message":"data",ie={};try{ie=JSON.parse(te[Z])}catch(ae){return}ie&&ie.adId&&ie.message&&n.hasOwnProperty(ie.message)&&(0,G.$A)(ie.adId,ie.message===B.nl.REQUEST).then(ae=>{var ye,Ie;n[ie.message]((ye=ie.adId,Ie=function(xe){return xe.origin==null&&xe.ports.length===0?function(){const Ae="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,e.logError)(Ae),new Error(Ae)}:xe.ports.length>0?function(Ae){xe.ports[0].postMessage(JSON.stringify(Ae))}:function(Ae){xe.source.postMessage(JSON.stringify(Ae),xe.origin)}}(te),function(xe){for(var Ae=arguments.length,me=new Array(Ae>1?Ae-1:0),E=1;E<Ae;E++)me[E-1]=arguments[E];return Ie(Object.assign({},xe,{adId:ye}),...me)}),ie,ae)})})(ee)},!1)}function i(ee,te){return function(Z,ie){(function(ae){let{adId:ye,adUnitCode:Ie,width:xe,height:Ae}=ae;function me(he){return he?he+"px":"100%"}function E(he){let we=oe(ye,Ie),Se=document.getElementById(we);return Se&&Se.querySelector(he)}function oe(he,we){return(0,e.isGptPubadsDefined)()?de(he):(0,e.isApnGetTagDefined)()?se(we):we}function de(he){const we=(0,j.I6)(window.googletag.pubads().getSlots(),Se=>(0,j.I6)(Se.getTargetingKeys(),Ce=>(0,j.mK)(Se.getTargeting(Ce),he)));return we?we.getSlotElementId():null}function se(he){let we=window.apntag.getTag(he);return we&&we.targetId}["div","iframe"].forEach(he=>{let we=E(he+':not([style*="display: none"])');if(we){let Se=we.style;Se.width=me(xe),Se.height=me(Ae)}else(0,e.logError)(`Unable to locate matching page element for adUnitCode ${Ie}.  Can't resize it to ad's dimensions.  Please review setup.`)})})(ot(Fe({},te),{width:Z,height:ie,adId:ee}))}}Object.assign(n,{[m]:function(ee,te,Z){if(Z==null)return void(0,e.logError)(`Cannot find ad for x-origin event request: '${te.adId}'`);switch(Z.status!==B.tl.RENDERED&&(0,G.n6)(Z),te.action){case"assetRequest":ee((0,y.IX)(te,Z));break;case"allAssetRequest":ee((0,y.yl)(te,Z));break;default:(0,G.vW)(te,Z,{resizeFn:i(Z)})}}});var p=t(38230),h=t(43272),C=t(67314),O=t(97779),W=t(16833),J=t(49164),N=t(93597),F=t(12938),U=t(11445),f=t(75023),o=t(16894),d=t(25555),a=t(20687),r=t(16916),w=t(12713),_=t(63895);const c=(0,A.m)(),{triggerUserSyncs:v}=p.zt,{ADD_AD_UNITS:$,REQUEST_BIDS:k,SET_TARGETING:q}=B.qY,I={bidWon:function(ee){return C.n.getBidsRequested().map(te=>te.bids.map(Z=>Z.adUnitCode)).reduce(e.flatten).filter(e.uniques).includes(ee)?!0:void(0,e.logError)('The "'+ee+'" placement is not defined.')}};function P(ee,te){let Z=[];return(0,e.isArray)(ee)&&(te?ee.length===te:ee.length>0)&&(ee.every(ie=>(0,e.isArrayOfNums)(ie,2))?Z=ee:(0,e.isArrayOfNums)(ee,2)&&Z.push(ee)),Z}function X(ee){const te=(0,e.deepClone)(ee),Z=te.mediaTypes.banner,ie=P(Z.sizes);return ie.length>0?(Z.sizes=ie,te.sizes=ie):((0,e.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete te.mediaTypes.banner),te}function Y(ee){const te=(0,e.deepClone)(ee),Z=te.mediaTypes.video;if(Z.playerSize){let ie=typeof Z.playerSize[0]=="number"?2:1;const ae=P(Z.playerSize,ie);ae.length>0?(ie===2&&(0,e.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),Z.playerSize=ae,te.sizes=ae):((0,e.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete te.mediaTypes.video.playerSize)}return(0,_.aP)(te),te}function R(ee){var te;function Z(Ie){return(0,e.logError)(`Error in adUnit "${ee.code}": ${Ie}. Removing native request from ad unit`,ee),delete ae.mediaTypes.native,ae}function ie(Ie){for(const xe of["sendTargetingKeys","types"])if(ye.hasOwnProperty(xe)){const Ae=Ie(xe);if(Ae)return Ae}}const ae=(0,e.deepClone)(ee),ye=ae.mediaTypes.native;if(ye.ortb){if((te=ye.ortb.assets)!=null&&te.some(Ae=>!(0,e.isNumber)(Ae.id)||Ae.id<0||Ae.id%1!=0))return Z("native asset ID must be a nonnegative integer");if(ie(Ae=>Z(`ORTB native requests cannot specify "${Ae}"`)))return ae;const Ie=Object.keys(B.x5).filter(Ae=>B.x5[Ae].includes("hb_native_")),xe=Object.keys(ye).filter(Ae=>Ie.includes(Ae));xe.length>0&&((0,e.logError)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${xe} keys from request.`),xe.forEach(Ae=>delete ae.mediaTypes.native[Ae]))}else ie(Ie=>`mediaTypes.native.${Ie} is deprecated, consider using native ORTB instead`);return ye.image&&ye.image.sizes&&!Array.isArray(ye.image.sizes)&&((0,e.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete ae.mediaTypes.native.image.sizes),ye.image&&ye.image.aspect_ratios&&!Array.isArray(ye.image.aspect_ratios)&&((0,e.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete ae.mediaTypes.native.image.aspect_ratios),ye.icon&&ye.icon.sizes&&!Array.isArray(ye.icon.sizes)&&((0,e.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete ae.mediaTypes.native.icon.sizes),ae}function H(ee,te){let Z=(0,u.A)(ee,`mediaTypes.${te}.pos`);if(!(0,e.isNumber)(Z)||isNaN(Z)||!isFinite(Z)){let ie=`Value of property 'pos' on ad unit ${ee.code} should be of type: Number`;(0,e.logWarn)(ie),f.emit(B.qY.AUCTION_DEBUG,{type:"WARNING",arguments:ie}),delete ee.mediaTypes[te].pos}return ee}function T(ee){const te=ae=>`adUnit.code '${ee.code}' ${ae}`,Z=ee.mediaTypes,ie=ee.bids;return ie==null||(0,e.isArray)(ie)?ie==null&&ee.ortb2Imp==null?((0,e.logError)(te("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):Z&&Object.keys(Z).length!==0?(ee.ortb2Imp==null||ie!=null&&ie.length!==0||(ee.bids=[{bidder:null}],(0,e.logMessage)(te("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),ee):((0,e.logError)(te("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,e.logError)(te("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(0,J.L6)(),c.bidderSettings=c.bidderSettings||{},c.libLoaded=!0,c.version="v9.8.0-pre",(0,e.logInfo)("Prebid.js v9.8.0-pre loaded"),c.installedModules=c.installedModules||[],c.adUnits=c.adUnits||[],c.triggerUserSyncs=v;const S={validateAdUnit:T,validateBannerMediaType:X,validateSizes:P};Object.assign(S,{validateNativeMediaType:R}),Object.assign(S,{validateVideoMediaType:Y});const L=(0,W.A_)("sync",function(ee){const te=[];return ee.forEach(Z=>{if((Z=T(Z))==null)return;const ie=Z.mediaTypes;let ae,ye,Ie;ie.banner&&(ae=X(Z),ie.banner.hasOwnProperty("pos")&&(ae=H(ae,"banner"))),ie.video&&(ye=Y(ae||Z),ie.video.hasOwnProperty("pos")&&(ye=H(ye,"video"))),ie.native&&(Ie=R(ye||ae||Z));const xe=Object.assign({},ae,ye,Ie);te.push(xe)}),te},"checkAdUnitSetup");function V(ee){const te=C.n[ee]().filter(ie=>C.n.getAdUnitCodes().includes(ie.adUnitCode)),Z=C.n.getLastAuctionId();return te.map(ie=>ie.adUnitCode).filter(e.uniques).map(ie=>te.filter(ae=>ae.auctionId===Z&&ae.adUnitCode===ie)).filter(ie=>ie&&ie[0]&&ie[0].adUnitCode).map(ie=>({[ie[0].adUnitCode]:{bids:ie}})).reduce((ie,ae)=>Object.assign(ie,ae),{})}c.getAdserverTargetingForAdUnitCodeStr=function(ee){if((0,e.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),ee){var te=c.getAdserverTargetingForAdUnitCode(ee);return(0,e.transformAdServerTargetingObj)(te)}(0,e.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},c.getHighestUnusedBidResponseForAdUnitCode=function(ee){if(ee){const te=C.n.getAllBidsForAdUnitCode(ee).filter(O.Yl);return te.length?te.reduce(w.Vk):{}}(0,e.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},c.getAdserverTargetingForAdUnitCode=function(ee){return c.getAdserverTargeting(ee)[ee]},c.getAdserverTargeting=function(ee){return(0,e.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),O.iS.getAllTargeting(ee)},c.getConsentMetadata=function(){return(0,e.logInfo)("Invoking pbjs.getConsentMetadata"),r.SL.getConsentMeta()},c.getNoBids=function(){return(0,e.logInfo)("Invoking pbjs.getNoBids",arguments),V("getNoBids")},c.getNoBidsForAdUnitCode=function(ee){return{bids:C.n.getNoBids().filter(te=>te.adUnitCode===ee)}},c.getBidResponses=function(){return(0,e.logInfo)("Invoking pbjs.getBidResponses",arguments),V("getBidsReceived")},c.getBidResponsesForAdUnitCode=function(ee){return{bids:C.n.getBidsReceived().filter(te=>te.adUnitCode===ee)}},c.setTargetingForGPTAsync=function(ee,te){(0,e.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,e.isGptPubadsDefined)()?O.iS.setTargetingForGPT(ee,te):(0,e.logError)("window.googletag is not defined on the page")},c.setTargetingForAst=function(ee){(0,e.logInfo)("Invoking pbjs.setTargetingForAn",arguments),O.iS.isApntagDefined()?(O.iS.setTargetingForAst(ee),f.emit(q,O.iS.getAllTargeting())):(0,e.logError)("window.apntag is not defined on the page")},c.renderAd=(0,W.A_)("async",function(ee,te,Z){(0,e.logInfo)("Invoking pbjs.renderAd",arguments),(0,e.logMessage)("Calling renderAd with adId :"+te),(0,G.BS)(ee,te,Z)}),c.removeAdUnit=function(ee){if((0,e.logInfo)("Invoking pbjs.removeAdUnit",arguments),!ee)return void(c.adUnits=[]);let te;te=(0,e.isArray)(ee)?ee:[ee],te.forEach(Z=>{for(let ie=c.adUnits.length-1;ie>=0;ie--)c.adUnits[ie].code===Z&&c.adUnits.splice(ie,1)})},c.requestBids=function(){const ee=(0,W.A_)("async",function(){let{bidsBackHandler:te,timeout:Z,adUnits:ie,adUnitCodes:ae,labels:ye,auctionId:Ie,ttlBuffer:xe,ortb2:Ae,metrics:me,defer:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.emit(k);const oe=Z||h.$W.getConfig("bidderTimeout");(0,e.logInfo)("Invoking pbjs.requestBids",arguments),ae&&ae.length?ie=ie.filter(se=>(0,j.mK)(ae,se.code)):ae=ie&&ie.map(se=>se.code);const de={global:(0,e.mergeDeep)({},h.$W.getAnyConfig("ortb2")||{},Ae||{}),bidder:Object.fromEntries(Object.entries(h.$W.getBidderConfig()).map(se=>{let[he,we]=se;return[he,we.ortb2]}).filter(se=>{let[he,we]=se;return we!=null}))};return(0,a.w)(d.k.resolve(de.global)).then(se=>(de.global=se,x({bidsBackHandler:te,timeout:oe,adUnits:ie,adUnitCodes:ae,labels:ye,auctionId:Ie,ttlBuffer:xe,ortb2Fragments:de,metrics:me,defer:E})))},"requestBids");return(0,W.Y6)(ee,function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=te.adUnits||c.adUnits;return te.adUnits=(0,e.isArray)(Z)?Z.slice():[Z],te.metrics=(0,o.K7)(),te.metrics.checkpoint("requestBids"),te.defer=(0,d.v)({promiseFactory:ie=>new Promise(ie)}),ee.call(this,te),te.defer.promise})}();const x=(0,W.A_)("async",function(){let{bidsBackHandler:ee,timeout:te,adUnits:Z,ttlBuffer:ie,adUnitCodes:ae,labels:ye,auctionId:Ie,ortb2Fragments:xe,metrics:Ae,defer:me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const E=(0,U.pX)(h.$W.getConfig("s2sConfig")||[]);function oe(se,he,we){if(typeof ee=="function")try{ee(se,he,we)}catch(Se){(0,e.logError)("Error executing bidsBackHandler",null,Se)}me.resolve({bids:se,timedOut:he,auctionId:we})}(function(se){se.forEach(he=>(0,_.V0)(he))})(Z),Z=(0,o.BO)(Ae).measureTime("requestBids.validate",()=>L(Z));const de={};if(Z.forEach(se=>{var he,we;const Se=Object.keys(se.mediaTypes||{banner:"banner"}),Ce=se.bids.map(Ue=>Ue.bidder),Ee=U.Ay.bidderRegistry,$e=Ce.filter(Ue=>!E.has(Ue));se.adUnitId=(0,e.generateUUID)();const Re=(we=(he=se.ortb2Imp)==null?void 0:he.ext)==null?void 0:we.tid;Re&&(de.hasOwnProperty(se.code)?(0,e.logWarn)(`Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '${se.code}'`):de[se.code]=Re),ie==null||se.hasOwnProperty("ttlBuffer")||(se.ttlBuffer=ie),$e.forEach(Ue=>{const Oe=Ee[Ue],Te=Oe&&Oe.getSpec&&Oe.getSpec(),je=Te&&Te.supportedMediaTypes||["banner"];Se.some(qe=>(0,j.mK)(je,qe))||((0,e.logWarn)((0,e.unsupportedBidderMessage)(se,Ue)),se.bids=se.bids.filter(qe=>qe.bidder!==Ue))})}),Z&&Z.length!==0){Z.forEach(we=>{var Se,Ce;const Ee=((Ce=(Se=we.ortb2Imp)==null?void 0:Se.ext)==null?void 0:Ce.tid)||de[we.code]||(0,e.generateUUID)();de.hasOwnProperty(we.code)||(de[we.code]=Ee),we.transactionId=Ee,(0,l.J)(we,"ortb2Imp.ext.tid",Ee)});const se=C.n.createAuction({adUnits:Z,adUnitCodes:ae,callback:oe,cbTimeout:te,labels:ye,auctionId:Ie,ortb2Fragments:xe,metrics:Ae});let he=Z.length;he>15&&(0,e.logInfo)(`Current auction ${se.getAuctionId()} contains ${he} adUnits.`,Z),ae.forEach(we=>O.iS.setLatestAuctionForAdUnit(we,se.getAuctionId())),se.callBids()}else(0,e.logMessage)("No adUnits configured. No bids requested."),oe()},"startAuction");c.requestBids.before(function(ee,te){function Z(ie){for(var ae;ae=ie.shift();)ae()}Z(F.s0),Z(K),ee.call(this,te)},49),c.addAdUnits=function(ee){(0,e.logInfo)("Invoking pbjs.addAdUnits",arguments),c.adUnits.push.apply(c.adUnits,(0,e.isArray)(ee)?ee:[ee]),f.emit($)},c.onEvent=function(ee,te,Z){(0,e.logInfo)("Invoking pbjs.onEvent",arguments),(0,e.isFn)(te)?!Z||I[ee].call(null,Z)?f.on(ee,te,Z):(0,e.logError)('The id provided is not valid for event "'+ee+'" and no handler was set.'):(0,e.logError)('The event handler provided is not a function and was not set on event "'+ee+'".')},c.offEvent=function(ee,te,Z){(0,e.logInfo)("Invoking pbjs.offEvent",arguments),Z&&!I[ee].call(null,Z)||f.off(ee,te,Z)},c.getEvents=function(){return(0,e.logInfo)("Invoking pbjs.getEvents"),f.getEvents()},c.registerBidAdapter=function(ee,te){(0,e.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{U.Ay.registerBidAdapter(ee(),te)}catch(Z){(0,e.logError)("Error registering bidder adapter : "+Z.message)}},c.registerAnalyticsAdapter=function(ee){(0,e.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{U.Ay.registerAnalyticsAdapter(ee)}catch(te){(0,e.logError)("Error registering analytics adapter : "+te.message)}},c.createBid=function(ee){return(0,e.logInfo)("Invoking pbjs.createBid",arguments),(0,N.O)(ee)};const K=[],z=(0,W.A_)("async",function(ee){ee&&!(0,e.isEmpty)(ee)?((0,e.logInfo)("Invoking pbjs.enableAnalytics for: ",ee),U.Ay.enableAnalytics(ee)):(0,e.logError)("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");c.enableAnalytics=function(ee){K.push(z.bind(this,ee))},c.aliasBidder=function(ee,te,Z){(0,e.logInfo)("Invoking pbjs.aliasBidder",arguments),ee&&te?U.Ay.aliasBidAdapter(ee,te,Z):(0,e.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},c.aliasRegistry=U.Ay.aliasRegistry,h.$W.getConfig("aliasRegistry",ee=>{ee.aliasRegistry==="private"&&delete c.aliasRegistry}),c.getAllWinningBids=function(){return C.n.getAllWinningBids()},c.getAllPrebidWinningBids=function(){return C.n.getBidsReceived().filter(ee=>ee.status===B.tl.BID_TARGETING_SET)},c.getHighestCpmBids=function(ee){return O.iS.getWinningBids(ee)},c.clearAllAuctions=function(){C.n.clearAllAuctions()},c.markWinningBidAsUsed=function(ee){const te=le(ee,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");te.length>0&&C.n.addWinningBid(te[0])};const le=(ee,te)=>{let Z=[];return ee.adUnitCode&&ee.adId?Z=C.n.getBidsReceived().filter(ie=>ie.adId===ee.adId&&ie.adUnitCode===ee.adUnitCode):ee.adUnitCode?Z=O.iS.getWinningBids(ee.adUnitCode):ee.adId?Z=C.n.getBidsReceived().filter(ie=>ie.adId===ee.adId):(0,e.logWarn)(te),Z};function ce(ee){ee.forEach(function(te){if(te.called===void 0)try{te.call(),te.called=!0}catch(Z){(0,e.logError)("Error processing command :","prebid.js",Z)}})}c.getConfig=h.$W.getAnyConfig,c.readConfig=h.$W.readAnyConfig,c.mergeConfig=h.$W.mergeConfig,c.mergeBidderConfig=h.$W.mergeBidderConfig,c.setConfig=h.$W.setConfig,c.setBidderConfig=h.$W.setBidderConfig,c.que.push(()=>s()),c.cmd.push=function(ee){if(typeof ee=="function")try{ee.call()}catch(te){(0,e.logError)("Error processing command :",te.message,te.stack)}else(0,e.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},c.que.push=c.cmd.push,c.processQueue=function(){(0,G.XO)(),W.A_.ready(),ce(c.que),ce(c.cmd)},c.triggerBilling=ee=>{const te=le(ee,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),Z=te.find(ie=>ie.requestId===ee.requestId)||te[0];if(te.length>0&&Z)try{U.Ay.callBidBillableBidder(Z)}catch(ie){(0,e.logError)("Error when triggering billing :",ie)}else(0,e.logWarn)("The bid provided to triggerBilling did not match any bids received.")}},7873:(re,Q,t)=>{t.d(Q,{E:()=>l,m:()=>u});const A=window,e=A.pbjs=A.pbjs||{};function u(){return e}function l(y){e.installedModules.push(y)}e.cmd=e.cmd||[],e.que=e.que||[],A===window&&(A._pbjsGlobals=A._pbjsGlobals||[],A._pbjsGlobals.push("pbjs"))},27934:(re,Q,t)=>{t.d(Q,{EN:()=>B,gR:()=>l});var A=t(43272),e=t(91069);function u(G){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;if(!G||/\w+:\/\//.exec(G))return G;let M=D.location.protocol;try{M=D.top.location.protocol}catch(b){}return/^\/\//.exec(G)?M+G:`${M}//${G}`}function l(G){let{noLeadingWww:D=!1,noPort:M=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};try{G=new URL(u(G))}catch(b){return}return G=M?G.hostname:G.host,D&&G.startsWith("www.")&&(G=G.substring(4)),G}function y(G){try{const D=G.querySelector("link[rel='canonical']");if(D!==null)return D.href}catch(D){}return null}const B=function(G){let D,M,b,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return m.top!==m?G:function(){const g=y(m.document),n=m.location.href;return D===g&&n===M||(D=g,M=n,b=G()),b}}((j=window,function(){const G=[],D=function(N){try{return N.location.ancestorOrigins?N.location.ancestorOrigins:void 0}catch(F){}}(j),M=A.$W.getConfig("maxNestedIframes");let b,m,g,n,s=!1,i=0,p=!1,h=!1,C=!1;do{const N=b,F=h;let U,f=!1,o=null;h=!1,b=b?b.parent:j;try{U=b.location.href||null}catch(d){f=!0}if(f)if(F){const d=N.context;try{o=d.sourceUrl,m=o,C=!0,p=!0,b===j.top&&(s=!0),d.canonicalUrl&&(g=d.canonicalUrl)}catch(a){}}else{(0,e.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{const d=N.document.referrer;d&&(o=d,b===j.top&&(s=!0))}catch(d){}!o&&D&&D[i-1]&&(o=D[i-1],b===j.top&&(C=!0)),o&&!p&&(m=o)}else{if(U&&(o=U,m=o,p=!1,b===j.top)){s=!0;const d=y(b.document);d&&(g=d)}b.context&&b.context.sourceUrl&&(h=!0)}G.push(o),i++}while(b!==j.top&&i<M);G.reverse();try{n=j.top.document.referrer}catch(N){}const O=s||C?m:null,W=A.$W.getConfig("pageUrl")||g||null;let J=A.$W.getConfig("pageUrl")||O||u(W,j);return O&&O.indexOf("?")>-1&&J.indexOf("?")===-1&&(J=`${J}${O.substring(O.indexOf("?"))}`),{reachedTop:s,isAmp:p,numIframes:i-1,stack:G,topmostLocation:m||null,location:O,canonicalUrl:W,page:J,domain:l(J)||null,ref:n||null,legacy:{reachedTop:s,isAmp:p,numIframes:i-1,stack:G,referer:m||null,canonicalUrl:W}}}));var j},12938:(re,Q,t)=>{t.d(Q,{CK:()=>s,X0:()=>b,qk:()=>M,s0:()=>m,vM:()=>n});var A=t(91069),e=t(12693),u=t(45569),l=t(95139),y=t(2604),B=t(76811),j=t(43272),G=t(11445),D=t(83441);const M="html5",b="cookie";let m=[];function g(){let{moduleName:i,moduleType:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{isAllowed:h=l.io}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};function C(J,N){let F=i;const U=j.$W.getCurrentBidder();return U&&p===u.tW&&G.Ay.aliasRegistry[U]===i&&(F=U),J({valid:h(B.Ue,(0,D.s)(p,F,{[y.Zw]:N}))})}function O(J,N,F){if(!F||typeof F!="function")return C(J,N);m.push(function(){let U=C(J,N);F(U)})}function W(J){const N=J.charAt(0).toUpperCase()+J.substring(1),F=()=>window[J],U=function(f){return O(function(o){if(o&&o.valid)try{return!!F()}catch(d){(0,A.logError)(`${J} api disabled`)}return!1},M,f)};return{[`has${N}`]:U,[`${J}IsEnabled`]:f=>O(function(o){if(o&&o.valid)try{return F().setItem("prebid.cookieTest","1"),F().getItem("prebid.cookieTest")==="1"}catch(d){}finally{try{F().removeItem("prebid.cookieTest")}catch(d){}}return!1},M,f),[`setDataIn${N}`]:(f,o,d)=>O(function(a){a&&a.valid&&U()&&F().setItem(f,o)},M,d),[`getDataFrom${N}`]:(f,o)=>O(function(d){return d&&d.valid&&U()?F().getItem(f):null},M,o),[`removeDataFrom${N}`]:(f,o)=>O(function(d){d&&d.valid&&U()&&F().removeItem(f)},M,o)}}return ot(Fe(Fe({setCookie:function(J,N,F,U,f,o){return O(function(d){if(d&&d.valid){const a=f&&f!==""?` ;domain=${encodeURIComponent(f)}`:"",r=F&&F!==""?` ;expires=${F}`:"",w=U!=null&&U.toLowerCase()=="none"?"; Secure":"";document.cookie=`${J}=${encodeURIComponent(N)}${r}; path=/${a}${U?`; SameSite=${U}`:""}${w}`}},b,o)},getCookie:function(J,N){return O(function(F){if(F&&F.valid){let U=window.document.cookie.match("(^|;)\\s*"+J+"\\s*=\\s*([^;]*)\\s*(;|$)");return U?decodeURIComponent(U[2]):null}return null},b,N)},cookiesAreEnabled:function(J){return O(function(N){return!(!N||!N.valid)&&(0,A.checkCookieSupport)()},b,J)}},W("localStorage")),W("sessionStorage")),{findSimilarCookies:function(J,N){return O(function(F){if(F&&F.valid){const U=[];if((0,A.hasDeviceAccess)()){const f=document.cookie.split(";");for(;f.length;){const o=f.pop();let d=o.indexOf("=");d=d<0?o.length:d,decodeURIComponent(o.slice(0,d).replace(/^\s+/,"")).indexOf(J)>=0&&U.push(decodeURIComponent(o.slice(d+1)))}}return U}},b,N)}})}function n(){let{moduleType:i,moduleName:p,bidderCode:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function C(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return h?((i&&i!==u.tW||p)&&C(),i=u.tW,p=h):p&&i||C(),g({moduleType:i,moduleName:p})}function s(i){return g({moduleName:i,moduleType:u.tp})}(0,l.qB)(B.Ue,"deviceAccess config",function(){if(!(0,A.hasDeviceAccess)())return{allow:!1}}),(0,l.qB)(B.Ue,"bidderSettings.*.storageAllowed",function(i){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.u;if(i[y.Dk]!==u.tW)return;let h=p.get(i[y.q7],"storageAllowed");if(h&&h!==!0){const C=i[y.Zw];h=Array.isArray(h)?h.some(O=>O===C):h===C}else h=!!h;return h?void 0:{allow:h}})},97779:(re,Q,t)=>{t.d(Q,{Jp:()=>J,ME:()=>W,Yl:()=>O,iS:()=>F,m2:()=>N});var A=t(67314),e=t(27863),u=t(12693),l=t(43272),y=t(78969),B=t(75023),j=t(16833),G=t(71371),D=t(12449),M=t(15901),b=t(91069),m=t(70433),g=t(12713),n=[];const s="targetingControls.allowTargetingKeys",i="targetingControls.addTargetingKeys",p=`Only one of "${s}" or "${i}" can be set`,h=Object.keys(y.xS).map(U=>y.xS[U]);let C={isActualBid:U=>U.getStatusCode()===y.XQ.GOOD,isBidNotExpired:U=>U.responseTimestamp+1e3*(0,e.L)(U)>(0,b.timestamp)(),isUnusedBid:U=>U&&(U.status&&!(0,M.mK)([y.tl.RENDERED],U.status)||!U.status)};function O(U){return!Object.values(C).some(f=>!f(U))}const W=(0,j.A_)("sync",function(U,f){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(arguments.length>3&&arguments[3]!==void 0&&arguments[3])){const d=[],a=l.$W.getConfig("sendBidsControl.dealPrioritization");let r=(0,b.groupBy)(U,"adUnitCode");return Object.keys(r).forEach(w=>{let _=[],c=(0,b.groupBy)(r[w],"bidderCode");Object.keys(c).forEach(v=>_.push(c[v].reduce(f))),o>0?(_=a?_.sort(J(!0)):_.sort((v,$)=>$.cpm-v.cpm),d.push(..._.slice(0,o))):d.push(..._)}),d}return U});function J(){let U=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return function(f,o){return f.adserverTargeting.hb_deal!==void 0&&o.adserverTargeting.hb_deal===void 0?-1:f.adserverTargeting.hb_deal===void 0&&o.adserverTargeting.hb_deal!==void 0?1:U?o.cpm-f.cpm:o.adserverTargeting.hb_pb-f.adserverTargeting.hb_pb}}function N(U,f){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>window.googletag.pubads().getSlots())().reduce((o,d)=>{const a=(0,b.isFn)(f)&&f(d);return Object.keys(o).filter((0,b.isFn)(a)?a:(0,b.isAdUnitCodeMatchingSlot)(d)).forEach(r=>o[r].push(d)),o},Object.fromEntries(U.map(o=>[o,[]])))}const F=function(U){let f={},o={};function d(q,I){return q.adserverTargeting&&I&&((0,b.isArray)(I)&&(0,M.mK)(I,q.adUnitCode)||typeof I=="string"&&q.adUnitCode===I)}function a(q){return typeof q=="string"?[q]:(0,b.isArray)(q)?q:U.getAdUnitCodes()||[]}function r(){let q=U.getBidsReceived();if(l.$W.getConfig("useBidCache")){const I=l.$W.getConfig("bidCacheFilterFunction");typeof I=="function"&&(q=q.filter(P=>o[P.adUnitCode]===P.auctionId||!!I(P)))}else q=q.filter(I=>o[I.adUnitCode]===I.auctionId);return q=q.filter(I=>(0,m.A)(I,"video.context")!==G.LM).filter(O),q.forEach(I=>(I.latestTargetedAuctionId=o[I.adUnitCode],I)),W(q,g.Bq)}function w(q,I){let P=f.getWinningBids(q,I),X=_();return P=P.map(Y=>({[Y.adUnitCode]:Object.keys(Y.adserverTargeting).filter(R=>Y.sendStandardTargeting===void 0||Y.sendStandardTargeting||X.indexOf(R)===-1).reduce((R,H)=>{const T=[Y.adserverTargeting[H]],S={[H.substring(0,20)]:T};if(H===y.xS.DEAL){const L=`${H}_${Y.bidderCode}`.substring(0,20),V={[L]:T};return[...R,S,V]}return[...R,S]},[])})),P}function _(){return U.getStandardBidderAdServerTargeting().map(q=>q.key).concat(h).filter(b.uniques)}function c(q,I,P,X){return Object.keys(I.adserverTargeting).filter(v()).forEach(Y=>{q.length&&q.filter(function(R){return function(H){return H.adUnitCode===I.adUnitCode&&H.adserverTargeting[R]}}(Y)).forEach(function(R){return function(H){(0,b.isArray)(H.adserverTargeting[R])||(H.adserverTargeting[R]=[H.adserverTargeting[R]]),H.adserverTargeting[R]=H.adserverTargeting[R].concat(I.adserverTargeting[R]).filter(b.uniques),delete I.adserverTargeting[R]}}(Y))}),q.push(I),q}function v(){let q=_();return q=q.concat(D.Nh),function(I){return q.indexOf(I)===-1}}function $(q){return{[q.adUnitCode]:Object.keys(q.adserverTargeting).filter(v()).map(I=>({[I.substring(0,20)]:[q.adserverTargeting[I]]}))}}function k(q,I){return I.map(P=>({[`${P}_${q.bidderCode}`.substring(0,20)]:[q.adserverTargeting[P]]}))}return f.setLatestAuctionForAdUnit=function(q,I){o[q]=I},f.resetPresetTargeting=function(q,I){if((0,b.isGptPubadsDefined)()){const P=a(q);let X=n.reduce((Y,R)=>(Y[R]=null,Y),{});Object.values(N(P,I)).forEach(Y=>{Y.forEach(R=>R.updateTargetingFromMap(X))})}},f.resetPresetTargetingAST=function(q){a(q).forEach(function(I){const P=window.apntag.getTag(I);if(P&&P.keywords){const X=Object.keys(P.keywords),Y={};X.forEach(R=>{(0,M.mK)(n,R.toLowerCase())||(Y[R]=P.keywords[R])}),window.apntag.modifyTag(I,{keywords:Y})}})},f.getAllTargeting=function(q){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r();const P=a(q);var X=w(P,I).concat(function(S,L){return L.filter(V=>(0,M.mK)(S,V.adUnitCode)).map(V=>Object.assign({},V)).reduce(c,[]).map($).filter(V=>V)}(P,I)).concat(l.$W.getConfig("enableSendAllBids")?function(S,L){const V=h.concat(D.Nh),x=l.$W.getConfig("sendBidsControl.bidLimit"),K=W(L,g.Vk,x),z=l.$W.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),le=z?z.map(ce=>y.xS[ce]):V;return K.map(ce=>{if(d(ce,S))return{[ce.adUnitCode]:k(ce,V.filter(ee=>ce.adserverTargeting[ee]!==void 0&&le.indexOf(ee)!==-1))}}).filter(ce=>ce)}(P,I):function(S,L){if(l.$W.getConfig("targetingControls.alwaysIncludeDeals")===!0){const V=h.concat(D.Nh);return W(L,g.Vk).map(x=>{if(x.dealId&&d(x,S))return{[x.adUnitCode]:k(x,V.filter(K=>x.adserverTargeting[K]!==void 0))}}).filter(x=>x)}return[]}(P,I)).concat(function(S){function L(x){return(0,m.A)(x,y.iD.ADSERVER_TARGETING)}function V(x){const K=L(x);return Object.keys(K).map(function(z){return(0,b.isStr)(K[z])&&(K[z]=K[z].split(",").map(le=>le.trim())),(0,b.isArray)(K[z])||(K[z]=[K[z]]),{[z]:K[z]}})}return U.getAdUnits().filter(x=>(0,M.mK)(S,x.code)&&L(x)).map(x=>({[x.code]:V(x)}))}(P));X.map(S=>{Object.keys(S).map(L=>{S[L].map(V=>{n.indexOf(Object.keys(V)[0])===-1&&(n=Object.keys(V).concat(n))})})});const Y=Object.keys(Object.assign({},y.Zh,y.x5));let R=l.$W.getConfig(s);const H=l.$W.getConfig(i);if(H!=null&&R!=null)throw new Error(p);R=H!=null?Y.concat(H):R||Y,Array.isArray(R)&&R.length>0&&(X=function(S,L){const V=Object.assign({},y.xS,y.x5),x=Object.keys(V),K={};(0,b.logInfo)(`allowTargetingKeys - allowed keys [ ${L.map(le=>V[le]).join(", ")} ]`),S.map(le=>{const ce=Object.keys(le)[0],ee=le[ce].filter(te=>{const Z=Object.keys(te)[0],ie=x.filter(ae=>Z.indexOf(V[ae])===0).length===0||(0,M.I6)(L,ae=>{const ye=V[ae];return Z.indexOf(ye)===0});return K[Z]=!ie,ie});le[ce]=ee});const z=Object.keys(K).filter(le=>K[le]);return(0,b.logInfo)(`allowTargetingKeys - removed keys [ ${z.join(", ")} ]`),S.filter(le=>le[Object.keys(le)[0]].length>0)}(X,R)),X=function(S){return S.map(V=>({[Object.keys(V)[0]]:V[Object.keys(V)[0]].map(x=>({[Object.keys(x)[0]]:x[Object.keys(x)[0]].join(",")})).reduce((x,K)=>Object.assign(K,x),{})})).reduce(function(V,x){var K=Object.keys(x)[0];return V[K]=Object.assign({},V[K],x[K]),V},{})}(X);const T=l.$W.getConfig("targetingControls.auctionKeyMaxChars");return T&&((0,b.logInfo)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${T} characters.  Running checks on auction keys...`),X=function(S,L){let V=(0,b.deepClone)(S);return Object.keys(V).map(K=>({adUnitCode:K,adserverTargeting:V[K]})).sort(J()).reduce(function(K,z,le,ce){let ee=(te=z.adserverTargeting,Object.keys(te).reduce(function(ae,ye){return ae+`${ye}%3d${encodeURIComponent(te[ye])}%26`},""));var te;le+1===ce.length&&(ee=ee.slice(0,-3));let Z=z.adUnitCode,ie=ee.length;return ie<=L?(L-=ie,(0,b.logInfo)(`AdUnit '${Z}' auction keys comprised of ${ie} characters.  Deducted from running threshold; new limit is ${L}`,V[Z]),K[Z]=V[Z]):(0,b.logWarn)(`The following keys for adUnitCode '${Z}' exceeded the current limit of the 'auctionKeyMaxChars' setting.
The key-set size was ${ie}, the current allotted amount was ${L}.
`,V[Z]),le+1===ce.length&&Object.keys(K).length===0&&(0,b.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),K},{})}(X,T)),P.forEach(S=>{X[S]||(X[S]={})}),X},l.$W.getConfig("targetingControls",function(q){(0,m.A)(q,s)!=null&&(0,m.A)(q,i)!=null&&(0,b.logError)(p)}),f.setTargetingForGPT=(0,j.A_)("sync",function(q,I){let P=f.getAllTargeting(q),X=Object.fromEntries(n.map(Y=>[Y,null]));Object.entries(N(Object.keys(P),I)).forEach(Y=>{let[R,H]=Y;H.forEach(T=>{Object.keys(P[R]).forEach(S=>{let L=P[R][S];typeof L=="string"&&L.indexOf(",")!==-1&&(L=L.split(",")),P[R][S]=L}),(0,b.logMessage)(`Attempting to set targeting-map for slot: ${T.getSlotElementId()} with targeting-map:`,P[R]),T.updateTargetingFromMap(Object.assign({},X,P[R]))})}),Object.keys(P).forEach(Y=>{Object.keys(P[Y]).forEach(R=>{R==="hb_adid"&&U.setStatusForBids(P[Y][R],y.tl.BID_TARGETING_SET)})}),f.targetingDone(P),B.emit(y.qY.SET_TARGETING,P)},"setTargetingForGPT"),f.targetingDone=(0,j.A_)("sync",function(q){return q},"targetingDone"),f.getWinningBids=function(q){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r();const P=a(q);return I.filter(X=>(0,M.mK)(P,X.adUnitCode)).filter(X=>u.u.get(X.bidderCode,"allowZeroCpmBids")===!0?X.cpm>=0:X.cpm>0).map(X=>X.adUnitCode).filter(b.uniques).map(X=>I.filter(Y=>Y.adUnitCode===X?Y:null).reduce(g.Vk))},f.setTargetingForAst=function(q){let I=f.getAllTargeting(q);try{f.resetPresetTargetingAST(q)}catch(P){(0,b.logError)("unable to reset targeting for AST"+P)}Object.keys(I).forEach(P=>Object.keys(I[P]).forEach(X=>{if((0,b.logMessage)(`Attempting to set targeting for targetId: ${P} key: ${X} value: ${I[P][X]}`),(0,b.isStr)(I[P][X])||(0,b.isArray)(I[P][X])){let Y={},R=/pt[0-9]/;X.search(R)<0?Y[X.toUpperCase()]=I[P][X]:Y[X]=I[P][X],window.apntag.setKeywords(P,Y,{overrideKeyValue:!0})}}))},f.isApntagDefined=function(){if(window.apntag&&(0,b.isFn)(window.apntag.setKeywords))return!0},f}(A.n)},38230:(re,Q,t)=>{t.d(Q,{qh:()=>M,zt:()=>m});var A=t(91069),e=t(43272),u=t(15901),l=t(12938),y=t(95139),B=t(76811),j=t(2604),G=t(45569),D=t(83441);const M={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:500};e.$W.setDefaults({userSync:(0,A.deepClone)(M)});const b=(0,l.CK)("usersync"),m=function(g){let n={},s={image:[],iframe:[]},i=new Set,p={},h={image:!0,iframe:!1},C=g.config;function O(){if(C.syncEnabled&&g.browserSupportsCookies){try{(function(){h.iframe&&W(s.iframe,N=>{let[F,U]=N;(0,A.logMessage)(`Invoking iframe user sync for bidder: ${F}`),(0,A.insertUserSyncIframe)(U),function(f,o){f.image=f.image.filter(d=>d[0]!==o)}(s,F)})})(),function(){h.image&&W(s.image,N=>{let[F,U]=N;(0,A.logMessage)(`Invoking image pixel user sync for bidder: ${F}`),(0,A.triggerPixel)(U)})}()}catch(N){return(0,A.logError)("Error firing user syncs",N)}s={image:[],iframe:[]}}}function W(N,F){(0,A.shuffle)(N).forEach(F)}function J(N,F){let U=C.filterSettings;if(function(f,o){if(f.all&&f[o])return(0,A.logWarn)(`Detected presence of the "filterSettings.all" and "filterSettings.${o}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let d=f.all?f.all:f[o],a=f.all?"all":o;if(!d)return!1;let r=d.filter,w=d.bidders;return r&&r!=="include"&&r!=="exclude"?((0,A.logWarn)(`UserSync "filterSettings.${a}.filter" setting '${r}' is not a valid option; use either 'include' or 'exclude'.`),!1):w!=="*"&&!(Array.isArray(w)&&w.length>0&&w.every(_=>(0,A.isStr)(_)&&_!=="*"))?((0,A.logWarn)(`Detected an invalid setup in userSync "filterSettings.${a}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1):!0}(U,N)){h[N]=!0;let f=U.all?U.all:U[N],o=f.bidders==="*"?[F]:f.bidders;return{include:(a,r)=>!(0,u.mK)(a,r),exclude:(a,r)=>(0,u.mK)(a,r)}[f.filter||"include"](o,F)}return!h[N]}return e.$W.getConfig("userSync",N=>{if(N.userSync){let F=N.userSync.filterSettings;(0,A.isPlainObject)(F)&&(F.image||F.all||(N.userSync.filterSettings.image={bidders:"*",filter:"include"}))}C=Object.assign(C,N.userSync)}),g.regRule(B.Ml,"userSync config",N=>{if(!C.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(N[j.Dk]===G.tW){const F=N[j.bt],U=N[j.iK];if(!n.canBidderRegisterSync(F,U))return{allow:!1,reason:`${F} syncs are not enabled for ${U}`}}}),n.registerSync=(N,F,U)=>i.has(F)?(0,A.logMessage)(`already fired syncs for "${F}", ignoring registerSync call`):C.syncEnabled&&(0,A.isArray)(s[N])?F?C.syncsPerBidder!==0&&Number(p[F])>=C.syncsPerBidder?(0,A.logWarn)(`Number of user syncs exceeded for "${F}"`):void(g.isAllowed(B.Ml,(0,D.s)(G.tW,F,{[j.bt]:N,[j.e3]:U}))&&(s[N].push([F,U]),p=function(f,o){return f[o]?f[o]+=1:f[o]=1,f}(p,F))):(0,A.logWarn)("Bidder is required for registering sync"):(0,A.logWarn)(`User sync type "${N}" not supported`),n.bidderDone=i.add.bind(i),n.syncUsers=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(N)return setTimeout(O,Number(N));O()},n.triggerUserSyncs=()=>{C.enableOverride&&n.syncUsers()},n.canBidderRegisterSync=(N,F)=>!C.filterSettings||!J(N,F),n}(Object.defineProperties({config:e.$W.getConfig("userSync"),isAllowed:y.io,regRule:y.qB},{browserSupportsCookies:{get:function(){return!(0,A.isSafariBrowser)()&&b.cookiesAreEnabled()}}}))},91069:(re,Q,t)=>{t.r(Q),t.d(Q,{_each:()=>de,_map:()=>he,_setEventEmitter:()=>J,binarySearch:()=>Gt,buildUrl:()=>$t,callBurl:()=>Ee,canAccessWindowTop:()=>T,checkCookieSupport:()=>st,cleanObj:()=>lt,compareCodeAndSlot:()=>Ze,contains:()=>se,convertObjectToArray:()=>Ft,createIframe:()=>ee,createInvisibleIframe:()=>te,createTrackPixelHtml:()=>Ue,createTrackPixelIframeHtml:()=>Te,cyrb53Hash:()=>qt,debugTurnedOn:()=>ce,deepAccess:()=>j.A,deepClone:()=>Ne,deepEqual:()=>wt,deepSetValue:()=>G.J,delayExecution:()=>Ct,encodeMacroURI:()=>Oe,extractDomainFromHost:()=>Vt,flatten:()=>qe,formatQS:()=>At,generateUUID:()=>r,getBidIdParameter:()=>w,getBidRequest:()=>pe,getBidderCodes:()=>be,getDNT:()=>Je,getDefinedParams:()=>Ke,getDomLoadingDuration:()=>yt,getParameterByName:()=>Z,getPerformanceNow:()=>ut,getPrebidInternal:()=>f,getSafeframeGeometry:()=>Me,getUniqueIdentifierStr:()=>a,getUnixTimestampFromNow:()=>zt,getUserConfiguredParams:()=>Ge,getValue:()=>fe,getWindowLocation:()=>H,getWindowSelf:()=>R,getWindowTop:()=>Y,groupBy:()=>nt,hasConsoleLogger:()=>le,hasDeviceAccess:()=>mt,hasNonSerializableProperty:()=>jt,inIframe:()=>De,insertElement:()=>we,insertHtmlIntoIframe:()=>$e,insertUserSyncIframe:()=>Re,internal:()=>F,isA:()=>ie,isAdUnitCodeMatchingSlot:()=>dt,isApnGetTagDefined:()=>ve,isArray:()=>Ie,isArrayOfNums:()=>ft,isBoolean:()=>me,isEmpty:()=>E,isEmptyStr:()=>oe,isFn:()=>ae,isGptPubadsDefined:()=>ue,isInteger:()=>ct,isNumber:()=>xe,isPlainObject:()=>Ae,isSafariBrowser:()=>ze,isSafeFrameWindow:()=>We,isStr:()=>ye,isValidMediaTypes:()=>Qe,logError:()=>x,logInfo:()=>L,logMessage:()=>S,logWarn:()=>V,memoize:()=>Mt,mergeDeep:()=>Tt,parseGPTSingleSizeArray:()=>q,parseGPTSingleSizeArrayToRtbSize:()=>P,parseQS:()=>pt,parseQueryStringParameters:()=>_,parseSizesInput:()=>$,parseUrl:()=>bt,pick:()=>vt,prefixLog:()=>K,replaceAuctionPrice:()=>He,replaceClickThrough:()=>Xe,replaceMacros:()=>Ve,safeJSONEncode:()=>Wt,safeJSONParse:()=>Nt,setOnAny:()=>Jt,setScriptAttributes:()=>Lt,shuffle:()=>Pe,sizeTupleToRtbSize:()=>I,sizeTupleToSizeString:()=>k,sizesToSizeTuples:()=>v,timestamp:()=>tt,transformAdServerTargetingObj:()=>c,triggerNurlWithCpm:()=>Kt,triggerPixel:()=>Ce,uniques:()=>je,unsupportedBidderMessage:()=>rt,waitForElementToLoad:()=>Se});var A=t(43272),e=t(45751),u=t(15901),l=t(78969),y=t(25555),B=t(7873),j=t(70433),G=t(63172),D="String",M="Function",b="Number",m="Object",g="Boolean",n=Object.prototype.toString;let s,i=!!window.console,p=!!(i&&window.console.log),h=!!(i&&window.console.info),C=!!(i&&window.console.warn),O=!!(i&&window.console.error);const W=(0,B.m)();function J(ne){s=ne}function N(){s!=null&&s(...arguments)}const F={checkCookieSupport:st,createTrackPixelIframeHtml:Te,getWindowSelf:R,getWindowTop:Y,canAccessWindowTop:T,getWindowLocation:H,insertUserSyncIframe:Re,insertElement:we,isFn:ae,triggerPixel:Ce,logError:x,logWarn:V,logMessage:S,logInfo:L,parseQS:pt,formatQS:At,deepEqual:wt};let U={};function f(){return U}var o,d=(o=0,function(){return++o});function a(){return d()+Math.random().toString(16).substr(2)}function r(ne){return ne?(ne^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>ne/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,r)}function w(ne,ge){return(ge==null?void 0:ge[ne])||""}function _(ne){let ge="";for(var _e in ne)ne.hasOwnProperty(_e)&&(ge+=_e+"="+encodeURIComponent(ne[_e])+"&");return ge=ge.replace(/&$/,""),ge}function c(ne){return ne&&Object.getOwnPropertyNames(ne).length>0?Object.keys(ne).map(ge=>`${ge}=${encodeURIComponent(ne[ge])}`).join("&"):""}function v(ne){return typeof ne=="string"?ne.split(/\s*,\s*/).map(ge=>ge.match(/^(\d+)x(\d+)$/i)).filter(ge=>ge).map(ge=>{let[_e,ke,Be]=ge;return[parseInt(ke,10),parseInt(Be,10)]}):Array.isArray(ne)?X(ne)?[ne]:ne.filter(X):[]}function $(ne){return v(ne).map(k)}function k(ne){return ne[0]+"x"+ne[1]}function q(ne){if(X(ne))return k(ne)}function I(ne){return{w:ne[0],h:ne[1]}}function P(ne){if(X(ne))return I(ne)}function X(ne){return Ie(ne)&&ne.length===2&&!isNaN(ne[0])&&!isNaN(ne[1])}function Y(){return window.top}function R(){return window.self}function H(){return window.location}function T(){try{if(F.getWindowTop().location.href)return!0}catch(ne){return!1}}function S(){ce()&&p&&console.log.apply(console,z(arguments,"MESSAGE:"))}function L(){ce()&&h&&console.info.apply(console,z(arguments,"INFO:"))}function V(){ce()&&C&&console.warn.apply(console,z(arguments,"WARNING:")),N(l.qY.AUCTION_DEBUG,{type:"WARNING",arguments})}function x(){ce()&&O&&console.error.apply(console,z(arguments,"ERROR:")),N(l.qY.AUCTION_DEBUG,{type:"ERROR",arguments})}function K(ne){function ge(_e){return function(){for(var ke=arguments.length,Be=new Array(ke),Le=0;Le<ke;Le++)Be[Le]=arguments[Le];_e(ne,...Be)}}return{logError:ge(x),logWarn:ge(V),logMessage:ge(S),logInfo:ge(L)}}function z(ne,ge){ne=[].slice.call(ne);let _e=A.$W.getCurrentBidder();return ge&&ne.unshift(ge),_e&&ne.unshift(ke("#aaa")),ne.unshift(ke("#3b88c3")),ne.unshift("%cPrebid"+(_e?`%c${_e}`:"")),ne;function ke(Be){return`display: inline-block; color: #fff; background: ${Be}; padding: 1px 4px; border-radius: 3px;`}}function le(){return p}function ce(){return!!A.$W.getConfig("debug")}const ee=(()=>{const ne={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"};return function(ge,_e){let ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Be=ge.createElement("iframe");return Object.assign(Be,Object.assign({},ne,_e)),Object.assign(Be.style,ke),Be}})();function te(){return ee(document,{id:a(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function Z(ne){return pt(H().search)[ne]||""}function ie(ne,ge){return n.call(ne)==="[object "+ge+"]"}function ae(ne){return ie(ne,M)}function ye(ne){return ie(ne,D)}const Ie=Array.isArray.bind(Array);function xe(ne){return ie(ne,b)}function Ae(ne){return ie(ne,m)}function me(ne){return ie(ne,g)}function E(ne){return!ne||(Ie(ne)||ye(ne)?!(ne.length>0):Object.keys(ne).length<=0)}function oe(ne){return ye(ne)&&(!ne||ne.length===0)}function de(ne,ge){if(ae(ne==null?void 0:ne.forEach))return ne.forEach(ge,this);Object.entries(ne||{}).forEach(_e=>{let[ke,Be]=_e;return ge.call(this,Be,ke)})}function se(ne,ge){return ae(ne==null?void 0:ne.includes)&&ne.includes(ge)}function he(ne,ge){return ae(ne==null?void 0:ne.map)?ne.map(ge):Object.entries(ne||{}).map(_e=>{let[ke,Be]=_e;return ge(Be,ke,ne)})}function we(ne,ge,_e,ke){let Be;ge=ge||document,Be=_e?ge.getElementsByTagName(_e):ge.getElementsByTagName("head");try{if(Be=Be.length?Be:ge.getElementsByTagName("body"),Be.length){Be=Be[0];let Le=ke?null:Be.firstChild;return Be.insertBefore(ne,Le)}}catch(Le){}}function Se(ne,ge){let _e=null;return new y.k(ke=>{const Be=function(){ne.removeEventListener("load",Be),ne.removeEventListener("error",Be),_e!=null&&window.clearTimeout(_e),ke()};ne.addEventListener("load",Be),ne.addEventListener("error",Be),ge!=null&&(_e=window.setTimeout(Be,ge))})}function Ce(ne,ge,_e){const ke=new Image;ge&&F.isFn(ge)&&Se(ke,_e).then(ge),ke.src=ne}function Ee(ne){let{source:ge,burl:_e}=ne;ge===l.RW.SRC&&_e&&F.triggerPixel(_e)}function $e(ne){if(!ne)return;const ge=te();var _e;F.insertElement(ge,document,"body"),(_e=ge.contentWindow.document).open(),_e.write(ne),_e.close()}function Re(ne,ge,_e){let ke=F.createTrackPixelIframeHtml(ne,!1,"allow-scripts allow-same-origin"),Be=document.createElement("div");Be.innerHTML=ke;let Le=Be.firstChild;ge&&F.isFn(ge)&&Se(Le,_e).then(ge),F.insertElement(Le,document,"html",!0)}function Ue(ne){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:encodeURI;if(!ne)return"";let _e='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return _e+='<img src="'+ge(ne)+'"></div>',_e}function Oe(ne){return Array.from(ne.matchAll(/\$({[^}]+})/g)).map(ge=>ge[1]).reduce((ge,_e)=>ge.replace("$"+encodeURIComponent(_e),"$"+_e),encodeURI(ne))}function Te(ne){let ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return ne?((!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&(ne=encodeURI(ne)),ge&&(ge=`sandbox="${ge}"`),`<iframe ${ge} id="${a()}"
      frameborder="0"
      allowtransparency="true"
      marginheight="0" marginwidth="0"
      width="0" hspace="0" vspace="0" height="0"
      style="height:0px;width:0px;display:none;"
      scrolling="no"
      src="${ne}">
    </iframe>`):""}function je(ne,ge,_e){return _e.indexOf(ne)===ge}function qe(ne,ge){return ne.concat(ge)}function pe(ne,ge){if(ne)return ge.flatMap(_e=>_e.bids).find(_e=>["bidId","adId","bid_id"].some(ke=>_e[ke]===ne))}function fe(ne,ge){return ne[ge]}function be(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:W.adUnits).map(ne=>ne.bids.map(ge=>ge.bidder).reduce(qe,[])).reduce(qe,[]).filter(ne=>ne!==void 0).filter(je)}function ue(){if(window.googletag&&ae(window.googletag.pubads)&&ae(window.googletag.pubads().getSlots))return!0}function ve(){if(window.apntag&&ae(window.apntag.getTag))return!0}function Pe(ne){let ge=ne.length;for(;ge>0;){let _e=Math.floor(Math.random()*ge);ge--;let ke=ne[ge];ne[ge]=ne[_e],ne[_e]=ke}return ne}function Ne(ne){return(0,e.Q)(ne)||{}}function De(){try{return F.getWindowSelf()!==F.getWindowTop()}catch(ne){return!0}}function We(){if(!De())return!1;const ne=F.getWindowSelf();return!(!ne.$sf||!ne.$sf.ext)}function Me(){try{const ne=R();return typeof ne.$sf.ext.geom=="function"?ne.$sf.ext.geom():void 0}catch(ne){return void x("Error getting SafeFrame geometry",ne)}}function ze(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Ve(ne,ge){if(ne)return Object.entries(ge).reduce((_e,ke)=>{let[Be,Le]=ke;return _e.replace(new RegExp("\\$\\{"+Be+"\\}","g"),Le||"")},ne)}function He(ne,ge){return Ve(ne,{AUCTION_PRICE:ge})}function Xe(ne,ge){if(ne&&ge&&typeof ge=="string")return ne.replace(/\${CLICKTHROUGH}/g,ge)}function tt(){return new Date().getTime()}function ut(){return window.performance&&window.performance.now&&window.performance.now()||0}function yt(ne){var ge;let _e=-1;const ke=(ne=ne||R()).performance;if((ge=ne.performance)!=null&&ge.timing&&ne.performance.timing.navigationStart>0){const Be=ke.timing.domLoading-ke.timing.navigationStart;Be>0&&(_e=Be)}return _e}function mt(){return A.$W.getConfig("deviceAccess")!==!1}function st(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ct(ne,ge){if(ge<1)throw new Error(`numRequiredCalls must be a positive number. Got ${ge}`);let _e=0;return function(){_e++,_e===ge&&ne.apply(this,arguments)}}function nt(ne,ge){return ne.reduce(function(_e,ke){return(_e[ke[ge]]=_e[ke[ge]]||[]).push(ke),_e},{})}function Ke(ne,ge){return ge.filter(_e=>ne[_e]).reduce((_e,ke)=>Object.assign(_e,{[ke]:ne[ke]}),{})}function Qe(ne){const ge=["banner","native","video"],_e=["instream","outstream","adpod"];return!!Object.keys(ne).every(ke=>(0,u.mK)(ge,ke))&&(!ne.video||!ne.video.context||(0,u.mK)(_e,ne.video.context))}function Ge(ne,ge,_e){return ne.filter(ke=>ke.code===ge).flatMap(ke=>ke.bids).filter(ke=>ke.bidder===_e).map(ke=>ke.params||{})}function Je(){return navigator.doNotTrack==="1"||window.doNotTrack==="1"||navigator.msDoNotTrack==="1"||navigator.doNotTrack==="yes"}const Ze=(ne,ge)=>ne.getAdUnitPath()===ge||ne.getSlotElementId()===ge;function dt(ne){return ge=>Ze(ne,ge)}function rt(ne,ge){const _e=Object.keys(ne.mediaTypes||{banner:"banner"}).join(", ");return`
    ${ne.code} is a ${_e} ad unit
    containing bidders that don't support ${_e}: ${ge}.
    This bidder won't fetch demand.
  `}const ct=Number.isInteger.bind(Number);function lt(ne){return Object.fromEntries(Object.entries(ne).filter(ge=>{let[_e,ke]=ge;return ke!==void 0}))}function vt(ne,ge){return typeof ne!="object"?{}:ge.reduce((_e,ke,Be)=>{if(typeof ke=="function")return _e;let Le=ke,Ye=ke.match(/^(.+?)\sas\s(.+?)$/i);Ye&&(ke=Ye[1],Le=Ye[2]);let gt=ne[ke];return typeof ge[Be+1]=="function"&&(gt=ge[Be+1](gt,_e)),gt!==void 0&&(_e[Le]=gt),_e},{})}function ft(ne,ge){return Ie(ne)&&(!ge||ne.length===ge)&&ne.every(_e=>ct(_e))}function pt(ne){return ne?ne.replace(/^\?/,"").split("&").reduce((ge,_e)=>{let[ke,Be]=_e.split("=");return/\[\]$/.test(ke)?(ke=ke.replace("[]",""),ge[ke]=ge[ke]||[],ge[ke].push(Be)):ge[ke]=Be||"",ge},{}):{}}function At(ne){return Object.keys(ne).map(ge=>Array.isArray(ne[ge])?ne[ge].map(_e=>`${ge}[]=${_e}`).join("&"):`${ge}=${ne[ge]}`).join("&")}function bt(ne,ge){let _e=document.createElement("a");ge&&"noDecodeWholeURL"in ge&&ge.noDecodeWholeURL?_e.href=ne:_e.href=decodeURIComponent(ne);let ke=ge&&"decodeSearchAsString"in ge&&ge.decodeSearchAsString;return{href:_e.href,protocol:(_e.protocol||"").replace(/:$/,""),hostname:_e.hostname,port:+_e.port,pathname:_e.pathname.replace(/^(?!\/)/,"/"),search:ke?_e.search:F.parseQS(_e.search||""),hash:(_e.hash||"").replace(/^#/,""),host:_e.host||window.location.host}}function $t(ne){return(ne.protocol||"http")+"://"+(ne.host||ne.hostname+(ne.port?`:${ne.port}`:""))+(ne.pathname||"")+(ne.search?`?${F.formatQS(ne.search||"")}`:"")+(ne.hash?`#${ne.hash}`:"")}function wt(ne,ge){let{checkTypes:_e=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(ne===ge)return!0;if(typeof ne!="object"||ne===null||typeof ge!="object"||ge===null||_e&&ne.constructor!==ge.constructor)return!1;{const ke=Object.keys(ne);if(ke.length!==Object.keys(ge).length)return!1;for(let Be of ke)if(!ge.hasOwnProperty(Be)||!wt(ne[Be],ge[Be],{checkTypes:_e}))return!1;return!0}}function Tt(ne){for(var ge=arguments.length,_e=new Array(ge>1?ge-1:0),ke=1;ke<ge;ke++)_e[ke-1]=arguments[ke];if(!_e.length)return ne;const Be=_e.shift();if(Ae(ne)&&Ae(Be))for(const Le in Be)Ae(Be[Le])?(ne[Le]||Object.assign(ne,{[Le]:{}}),Tt(ne[Le],Be[Le])):Ie(Be[Le])?ne[Le]?Ie(ne[Le])&&Be[Le].forEach(Ye=>{let gt=1;for(let St=0;St<ne[Le].length;St++)if(wt(ne[Le][St],Ye)){gt=0;break}gt&&ne[Le].push(Ye)}):Object.assign(ne,{[Le]:[...Be[Le]]}):Object.assign(ne,{[Le]:Be[Le]});return Tt(ne,..._e)}function qt(ne){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_e=function(Le,Ye){if(ae(Math.imul))return Math.imul(Le,Ye);var gt=(4194303&Le)*(Ye|=0);return 4290772992&Le&&(gt+=(4290772992&Le)*Ye|0),0|gt},ke=3735928559^ge,Be=1103547991^ge;for(let Le,Ye=0;Ye<ne.length;Ye++)Le=ne.charCodeAt(Ye),ke=_e(ke^Le,2654435761),Be=_e(Be^Le,1597334677);return ke=_e(ke^ke>>>16,2246822507)^_e(Be^Be>>>13,3266489909),Be=_e(Be^Be>>>16,2246822507)^_e(ke^ke>>>13,3266489909),(4294967296*(2097151&Be)+(ke>>>0)).toString()}function Nt(ne){try{return JSON.parse(ne)}catch(ge){}}function Wt(ne){try{return JSON.stringify(ne)}catch(ge){return""}}function Mt(ne){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Be){return Be};const _e=new Map,ke=function(){const Be=ge.apply(this,arguments);return _e.has(Be)||_e.set(Be,ne.apply(this,arguments)),_e.get(Be)};return ke.clear=_e.clear.bind(_e),ke}function zt(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"d";if(["m","d"].indexOf(ge)<0)return Date.now();const _e=ne/(ge==="m"?1440:1);return Date.now()+(ne&&ne>0?864e5*_e:0)}function Ft(ne){return Object.keys(ne).map(ge=>({[ge]:ne[ge]}))}function Lt(ne,ge){Object.entries(ge).forEach(_e=>{let[ke,Be]=_e;return ne.setAttribute(ke,Be)})}function Gt(ne,ge){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ye=>Ye,ke=0,Be=ne.length&&ne.length-1;const Le=_e(ge);for(;Be-ke>1;){const Ye=ke+Math.round((Be-ke)/2);Le>_e(ne[Ye])?ke=Ye:Be=Ye}for(;ne.length>ke&&Le>_e(ne[ke]);)ke++;return ke}function jt(ne){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const _e in ne){const ke=ne[_e],Be=typeof ke;if(ke===void 0||Be==="function"||Be==="symbol"||ke instanceof RegExp||ke instanceof Map||ke instanceof Set||ke instanceof Date||ke!==null&&Be==="object"&&ke.hasOwnProperty("toJSON")||ke!==null&&Be==="object"&&ke.constructor===Object&&(ge.has(ke)||(ge.add(ke),jt(ke,ge))))return!0}return!1}function Jt(ne,ge){for(let _e,ke=0;ke<ne.length;ke++)if(_e=(0,j.A)(ne[ke],ge),_e)return _e}function Vt(ne){let ge=null;try{let _e=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(ne);if(_e!=null&&_e.length>0){ge=_e[0];for(let ke=1;ke<_e.length;ke++)_e[ke].length>ge.length&&(ge=_e[ke])}}catch(_e){ge=null}return ge}function Kt(ne,ge){ye(ne.nurl)&&ne.nurl!==""&&(ne.nurl=ne.nurl.replace(/\${AUCTION_PRICE}/,ge),Ce(ne.nurl))}},57176:(re,Q,t)=>{t.d(Q,{y:()=>l});var A=t(67314),e=t(12693),u=t(91069);function l(y,B,j){let{index:G=A.n.index,bs:D=e.u}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};j=j||G.getBidRequest(B);const M=B==null?void 0:B.adapterCode,b=(B==null?void 0:B.bidderCode)||(j==null?void 0:j.bidder),m=D.get(B==null?void 0:B.adapterCode,"adjustAlternateBids"),g=D.getOwn(b,"bidCpmAdjustment")||D.get(m?M:b,"bidCpmAdjustment");if(g&&typeof g=="function")try{return g(y,Object.assign({},B),j)}catch(n){(0,u.logError)("Error during bid adjustment",n)}return y}},82621:(re,Q,t)=>{t.d(Q,{C:()=>e});var A=t(70433);function e(u){return!(u!=null&&u.gdprApplies)||(0,A.A)(u,"vendorData.purpose.consents.1")===!0}},16894:(re,Q,t)=>{t.d(Q,{Ak:()=>n,BO:()=>b,K7:()=>m,NL:()=>s});var A=t(43272);const e="performanceMetrics",u=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),l=new WeakMap;function y(){let{now:i=u,mkNode:p=G,mkTimer:h=j,mkRenamer:C=W=>W,nodes:O=l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(){return function W(J){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>({forEach(w){w(r)}});N=C(N);const F=(U="timestamps",function(r){return J.dfWalk({visit(w,_){const c=_[U];if(c.hasOwnProperty(r))return c[r]}})});var U;function f(r,w){const _=N(r);J.dfWalk({follow:(c,v)=>v.propagate&&(!c||!c.stopPropagation),visit(c,v){_.forEach($=>{c==null?v.metrics[$]=w:(v.groups.hasOwnProperty($)||(v.groups[$]=[]),v.groups[$].push(w))})}})}function o(r){return h(i,w=>f(r,w))}function d(){let r={};return J.dfWalk({visit(w,_){r=Object.assign({},!w||w.includeGroups?_.groups:null,_.metrics,r)}}),r}const a={startTiming:o,measureTime:function(r,w){return o(r).stopAfter(w)()},measureHookTime:function(r,w,_){const c=o(r);return _(function(v){const $=c.stopBefore(v);return $.bail=v.bail&&c.stopBefore(v.bail),$.stopTiming=c,$.untimed=v,$}(w))},checkpoint:function(r){J.timestamps[r]=i()},timeSince:function(r,w){const _=F(r),c=_!=null?i()-_:null;return w!=null&&f(w,c),c},timeBetween:function(r,w,_){const c=F(r),v=F(w),$=c!=null&&v!=null?v-c:null;return _!=null&&f(_,$),$},setMetric:f,getMetrics:d,fork:function(){let{propagate:r=!0,stopPropagation:w=!1,includeGroups:_=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return W(p([[J,{propagate:r,stopPropagation:w,includeGroups:_}]]),N)},join:function(r){let{propagate:w=!0,stopPropagation:_=!1,includeGroups:c=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=O.get(r);v!=null&&v.addParent(J,{propagate:w,stopPropagation:_,includeGroups:c})},newMetrics:function(){return W(J.newSibling(),N)},renameWith:function(r){return W(J,r)},toJSON:()=>d()};return O.set(a,J),a}(p([]))}}function B(i,p,h){return function(){p&&p();try{return i.apply(this,arguments)}finally{h&&h()}}}function j(i,p){const h=i();let C=!1;function O(){C||(p(i()-h),C=!0)}return O.stopBefore=W=>B(W,O),O.stopAfter=W=>B(W,null,O),O}function G(i){return{metrics:{},timestamps:{},groups:{},addParent(p,h){i.push([p,h])},newSibling:()=>G(i.slice()),dfWalk(){let p,{visit:h,follow:C=()=>!0,visited:O=new Set,inEdge:W}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!O.has(this)){if(O.add(this),p=h(W,this),p!=null)return p;for(const[J,N]of i)if(C(W,N)&&(p=J.dfWalk({visit:h,follow:C,visited:O,inEdge:N}),p!=null))return p}}}}const D=(()=>{const i=function(){},p=()=>({}),h={forEach:i},C=()=>null;C.stopBefore=W=>W,C.stopAfter=W=>W;const O=Object.defineProperties({dfWalk:i,newSibling:()=>O,addParent:i},Object.fromEntries(["metrics","timestamps","groups"].map(W=>[W,{get:p}])));return y({now:()=>0,mkNode:()=>O,mkRenamer:()=>()=>h,mkTimer:()=>C,nodes:{get:i,set:i}})()})();let M=!0;function b(i){return M&&i||D}A.$W.getConfig(e,i=>{M=!!i[e]});const m=(()=>{const i=y();return function(){return M?i():D}})();function g(i,p){return function(h,C){return function(O){for(var W=arguments.length,J=new Array(W>1?W-1:0),N=1;N<W;N++)J[N-1]=arguments[N];const F=this;return b(p.apply(F,J)).measureHookTime(i+h,O,function(U){return C.call(F,U,...J)})}}}const n=g("requestBids.",i=>i.metrics),s=g("addBidResponse.",(i,p)=>p.metrics)},25555:(re,Q,t)=>{var A,e,u,l;t.d(Q,{k:()=>G,v:()=>D});const y=0,B=1,j=class Rt{constructor(b){if(at(this,A,void 0),at(this,e,void 0),typeof b!="function")throw new Error("resolver not a function");const m=[],g=[];let[n,s]=[y,B].map(i=>function(p){if(i===y&&typeof(p==null?void 0:p.then)=="function")p.then(n,s);else if(!m.length)for(m.push(i,p);g.length;)g.shift()()});try{b(n,s)}catch(i){s(i)}it(this,A,m),it(this,e,g)}static timeout(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Rt(m=>{b===0?m():setTimeout(m,b)})}then(b,m){const g=et(this,A);return new this.constructor((n,s)=>{const i=()=>{let p=g[1],[h,C]=g[0]===y?[b,n]:[m,s];if(typeof h=="function"){try{p=h(p)}catch(O){return void s(O)}C=n}C(p)};g.length?i():et(this,e).push(i)})}catch(b){return this.then(null,b)}finally(b){let m;return this.then(g=>(m=g,b()),g=>(m=this.constructor.reject(g),b())).then(()=>m)}static race(b){return new this((m,g)=>{ht(this,u,l).call(this,b,(n,s)=>n?m(s):g(s))})}static all(b){return new this((m,g)=>{let n=[];ht(this,u,l).call(this,b,(s,i,p)=>s?n[p]=i:g(i),()=>m(n))})}static allSettled(b){return new this(m=>{let g=[];ht(this,u,l).call(this,b,(n,s,i)=>g[i]=n?{status:"fulfilled",value:s}:{status:"rejected",reason:s},()=>m(g))})}static resolve(b){return new this(m=>m(b))}static reject(b){return new this((m,g)=>g(b))}};A=new WeakMap,e=new WeakMap,u=new WeakSet,l=function(M,b,m){let g=M.length;function n(){b.apply(this,arguments),--g<=0&&m&&m()}M.length===0&&m?m():M.forEach((s,i)=>this.resolve(s).then(p=>n(!0,p,i),p=>n(!1,p,i)))},at(j,u);let G=j;function D(){let M,b,{promiseFactory:m=n=>new G(n)}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function g(n){return s=>n(s)}return{promise:m((n,s)=>{M=n,b=s}),resolve:g(M),reject:g(b)}}},12713:(re,Q,t)=>{function A(b,m){return b===m?0:b<m?-1:1}function e(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m=>m;return(m,g)=>A(b(m),b(g))}function u(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;return(m,g)=>-b(m,g)||0}function l(){for(var b=arguments.length,m=new Array(b),g=0;g<b;g++)m[g]=arguments[g];return function(n,s){for(const i of m){const p=i(n,s);if(p!==0)return p}return 0}}function y(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;return(m,g)=>b(g,m)<0?g:m}function B(){return y(u(arguments.length>0&&arguments[0]!==void 0?arguments[0]:A))}t.d(Q,{Bp:()=>y,Bq:()=>M,NV:()=>e,Ph:()=>B,Vk:()=>D});const j=e(b=>b.cpm),G=e(b=>b.responseTimestamp),D=B(l(j,u(e(b=>b.timeToRespond)))),M=B(l(j,u(G)));B(l(j,G))},76853:(re,Q,t)=>{t.d(Q,{H:()=>G});var A=t(25555),e=t(91069);let u=null,l=0,y=[];function B(){document.hidden?u=Date.now():(l+=Date.now()-(u!=null?u:0),u=null,y.forEach(D=>{let{callback:M,startTime:b,setTimerId:m}=D;return m(j(M,l-b)())}),y=[])}function j(D,M){const b=l;let m=setTimeout(()=>{l===b&&u==null?D():u!=null?y.push({callback:D,startTime:b,setTimerId(g){m=g}}):m=j(D,l-b)()},M);return()=>m}function G(){let{startTime:D=e.timestamp,ttl:M=()=>null,monotonic:b=!1,slack:m=5e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const g=new Map,n=[],s=[],i=b?J=>s.push(J):J=>s.splice((0,e.binarySearch)(s,J,N=>N.expiry),0,J);let p,h;function C(){if(h&&clearTimeout(h),s.length>0){const J=(0,e.timestamp)();p=Math.max(J,s[0].expiry+m),h=j(()=>{const N=(0,e.timestamp)();let F=0;for(const U of s){if(U.expiry>N)break;n.forEach(f=>{try{f(U.item)}catch(o){(0,e.logError)(o)}}),g.delete(U.item),F++}s.splice(0,F),h=null,C()},p-J)}else h=null}function O(J){const N={},F=W;let U;const[f,o]=Object.entries({start:D,delta:M}).map(a=>{let r,[w,_]=a;return function(){const c=r={};A.k.resolve(_(J)).then(v=>{c===r&&(N[w]=v,F===W&&N.start!=null&&N.delta!=null&&(U=N.start+N.delta,i(d),(h==null||p>U+m)&&C()))})}}),d={item:J,refresh:o,get expiry(){return U}};return f(),o(),d}let W={};return{[Symbol.iterator]:()=>g.keys(),add(J){!g.has(J)&&g.set(J,O(J))},clear(){s.length=0,C(),g.clear(),W={}},toArray:()=>Array.from(g.keys()),refresh(){s.length=0,C();for(const J of g.values())J.refresh()},onExpiry:J=>(n.push(J),()=>{const N=n.indexOf(J);N>=0&&n.splice(N,1)})}}document.addEventListener("visibilitychange",B)},63895:(re,Q,t)=>{t.d(Q,{E2:()=>m,H6:()=>B,V0:()=>D,Zy:()=>G,aP:()=>M,mn:()=>j,vk:()=>b});var A=t(91069),e=t(70433),u=t(43272),l=t(16833),y=t(67314);const B="outstream",j="instream",G=new Map([["mimes",g=>Array.isArray(g)&&g.length>0&&g.every(n=>typeof n=="string")],["minduration",A.isInteger],["maxduration",A.isInteger],["startdelay",A.isInteger],["maxseq",A.isInteger],["poddur",A.isInteger],["protocols",A.isArrayOfNums],["w",A.isInteger],["h",A.isInteger],["podid",A.isStr],["podseq",A.isInteger],["rqddurs",A.isArrayOfNums],["placement",A.isInteger],["plcmt",A.isInteger],["linearity",A.isInteger],["skip",g=>[1,0].includes(g)],["skipmin",A.isInteger],["skipafter",A.isInteger],["sequence",A.isInteger],["slotinpod",A.isInteger],["mincpmpersec",A.isNumber],["battr",A.isArrayOfNums],["maxextended",A.isInteger],["minbitrate",A.isInteger],["maxbitrate",A.isInteger],["boxingallowed",A.isInteger],["playbackmethod",A.isArrayOfNums],["playbackend",A.isInteger],["delivery",A.isArrayOfNums],["pos",A.isInteger],["api",A.isArrayOfNums],["companiontype",A.isArrayOfNums],["poddedupe",A.isArrayOfNums]]);function D(g){var n;const s=(n=g==null?void 0:g.mediaTypes)==null?void 0:n.video;s!=null&&s.plcmt==null&&(s.context===B||[2,3,4].includes(s.placement)?s.plcmt=4:s.context!==B&&[2,6].includes(s.playbackmethod)&&(s.plcmt=2))}function M(g,n){var s;const i=(s=g==null?void 0:g.mediaTypes)==null?void 0:s.video;(0,A.isPlainObject)(i)?i!=null&&Object.entries(i).forEach(p=>{let[h,C]=p;G.has(h)&&(G.get(h)(C)||(typeof n=="function"?n(h,C,g):(delete i[h],(0,A.logWarn)(`Invalid prop in adUnit "${g.code}": Invalid value for mediaTypes.video.${h} ORTB property. The property has been removed.`))))}):(0,A.logWarn)("validateOrtbVideoFields: videoParams must be an object.")}function b(g){let{index:n=y.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(0,e.A)(n.getMediaTypes(g),"video"),i=s&&(0,e.A)(s,"context"),p=s&&(0,e.A)(s,"useCacheKey"),h=n.getAdUnit(g);return m(g,h,s,i,p)}const m=(0,l.A_)("sync",function(g,n,s,i,p){return s&&(p||i!==B)?u.$W.getConfig("cache.url")||!g.vastXml||g.vastUrl?!(!g.vastUrl&&!g.vastXml):((0,A.logError)(`
        This bid contains only vastXml and will not work when a prebid cache url is not specified.
        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });
      `),!1):!(i===B&&!p)||!!(g.renderer||n&&n.renderer||s.renderer)},"checkVideoBidSetup")},68693:(re,Q,t)=>{t.d(Q,{M_:()=>G,X5:()=>g});var A=t(68044),e=t(43272),u=t(67314),l=t(91069),y=t(81657);const B=15;function j(n){let{index:s=u.n.index}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=n.vastXml?n.vastXml:(p=n.vastUrl,h=n.vastImpUrl,`<VAST version="3.0">
    <Ad>
      <Wrapper>
        <AdSystem>prebid.org wrapper</AdSystem>
        <VASTAdTagURI><![CDATA[${p}]]></VASTAdTagURI>
        ${(h=h&&(Array.isArray(h)?h:[h]))?h.map(W=>`<Impression><![CDATA[${W}]]></Impression>`).join(""):""}
        <Creatives></Creatives>
      </Wrapper>
    </Ad>
  </VAST>`);var p,h;const C=s.getAuction(n);let O={type:"xml",value:i,ttlseconds:Number(n.ttl)+B};return e.$W.getConfig("cache.vasttrack")&&(O.bidder=n.bidder,O.bidid=n.requestId,O.aid=n.auctionId),C!=null&&(O.timestamp=C.getAuctionStart()),typeof n.customCacheKey=="string"&&n.customCacheKey!==""&&(O.key=n.customCacheKey),O}function G(n,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.g4;const p={puts:n.map(j)};i(e.$W.getConfig("cache.timeout"))(e.$W.getConfig("cache.url"),function(h){return{success:function(C){let O;try{O=JSON.parse(C).responses}catch(W){return void h(W,[])}O?h(null,O):h(new Error("The cache server didn't respond with a responses property."),[])},error:function(C,O){h(new Error(`Error storing video ad in the cache: ${C}: ${JSON.stringify(O)}`),[])}}}(s),JSON.stringify(p),{contentType:"text/plain",withCredentials:!0})}const D={store:G};function M(n){const s=n.map(i=>i.bidResponse);D.store(s,function(i,p){var h;i?(h=i,(0,l.logError)(`Failed to save to the video cache: ${h}. Video bids will be discarded:`,s)):n.length!==p.length?(0,l.logError)(`expected ${n.length} cache IDs, got ${p.length} instead`):p.forEach((C,O)=>{const{auctionInstance:W,bidResponse:J,afterBidAdded:N}=n[O];var F;C.uuid===""?(0,l.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(J.videoCacheKey=C.uuid,J.vastUrl||(J.vastUrl=(F=J.videoCacheKey,`${e.$W.getConfig("cache.url")}?uuid=${F}`)),(0,y.v8)(W,J),N())})})}let b,m;e.$W.getConfig("cache",n=>{b=typeof n.cache.batchSize=="number"&&n.cache.batchSize>0?n.cache.batchSize:1,m=typeof n.cache.batchTimeout=="number"&&n.cache.batchTimeout>0?n.cache.batchTimeout:0});const g=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:setTimeout,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,i=[[]],p=!1;const h=C=>C();return function(C,O,W){const J=m>0?n:h;i[i.length-1].length>=b&&i.push([]),i[i.length-1].push({auctionInstance:C,bidResponse:O,afterBidAdded:W}),p||(p=!0,J(()=>{i.forEach(s),i=[[]],p=!1},m))}}()}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[51085],{34595:(re,Q,t)=>{t.d(Q,{G:()=>A});const A='(()=>{"use strict";window.render=function({ad:d,adUrl:e,width:i,height:r},{mkFrame:n},o){if(!d&&!e)throw{reason:"noAd",message:"Missing ad markup or URL"};{const s=o.document,t={width:i,height:r};e&&!d?t.src=e:t.srcdoc=d,s.body.appendChild(n(s,t))}}})();'}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[95444],{554:(re,Q,t)=>{t.d(Q,{QF:()=>b,T_:()=>M,gg:()=>G});var A=t(91069),e=t(70433),u=t(28656),l=t(73858);const y={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},B=["user.data"].concat(l.Dy.map(m=>`${m}.content.data`));function j(m,g,n){return g==null?n:(0,A.isStr)(g)?g:(0,A.isNumber)(g)?g.toString():void(0,A.logWarn)("Unsuported type for param: "+m+" required type: String")}function G(m){return(0,A.isStr)(m)&&m!==""?D(m.split(/\s*(?:,)\s*/)):{}}function D(m){const g={};return m.forEach(n=>{if(n.indexOf("=")!==-1){let s=n.split("="),i=s[0],p=s[1];g.hasOwnProperty(i)?g[i].push(p):g[i]=[p]}else g.hasOwnProperty(n)||(g[n]=[])}),g}function M(){for(var m=arguments.length,g=new Array(m),n=0;n<m;n++)g[n]=arguments[n];return function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"keywords";const p=[];return(0,A._each)(s,(h,C)=>{if((0,A.isArray)(h)){let W=[];(0,A._each)(h,J=>{((J=j(i+"."+C,J))||J==="")&&W.push(J)}),h=W}else{if(h=j(i+"."+C,h),!(0,A.isStr)(h))return;h=[h]}h=h.filter(W=>W!=="");const O={key:C};h.length>0&&(O.value=h),p.push(O)}),p}((0,A.mergeDeep)(...g.map(s=>Object.fromEntries(Object.entries(s||{}).map(i=>{let[p,h]=i;return[p,(0,A.isNumber)(h)||(0,A.isStr)(h)?[h]:h]})))))}function b(m){for(var g=arguments.length,n=new Array(g>1?g-1:0),s=1;s<g;s++)n[s-1]=arguments[s];return M(function(i){return D((0,u.D)(i))}(m),function(i){let p={};return B.forEach(h=>{((0,e.A)(i,h)||[]).forEach(C=>{const O=y[(0,e.A)(C,"ext.segtax")];O&&C.segment.forEach(W=>{p[O]?p[O].push(W.id):p[O]=[W.id]})})}),p}(m),...n)}},2349:(re,Q,t)=>{t.d(Q,{DX:()=>u,GS:()=>l,vk:()=>e});var A=t(91069);function e(y){return y.replace(/(?:^|\.?)([A-Z])/g,function(B,j){return"_"+j.toLowerCase()}).replace(/^_/,"")}const u=[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"emetriq",gvlid:213},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"stailamedia",gvlid:32},{code:"uol",gvlid:32},{code:"adzymic",gvlid:723}];function l(y,B){let j=[];for(let G=0;G<B;G++){let D=(0,A.isPlainObject)(y)?(0,A.deepClone)(y):y;j.push(D)}return j}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[12126],{25761:(re,Q,t)=>{t.d(Q,{$:()=>e});var A=t(91069);function e(u,l){return Object.keys(u).forEach(y=>{var B,j;l[y]&&((0,A.isFn)(u[y])?l[y]=u[y](l[y]):l[y]=(B=u[y],j=l[y],B==="string"?j&&j.toString():B==="number"?Number(j):j),isNaN(l[y])&&delete l.key)}),l}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[97247],{28656:(re,Q,t)=>{t.d(Q,{D:()=>l});var A=t(73858),e=t(70433);const u=["user.keywords"].concat(A.Dy.flatMap(y=>["keywords","content.keywords"].map(B=>`${y}.${B}`)));function l(y){for(var B=arguments.length,j=new Array(B>1?B-1:0),G=1;G<B;G++)j[G-1]=arguments[G];return function(){const D=new Set;for(var M=arguments.length,b=new Array(M),m=0;m<M;m++)b[m]=arguments[m];return b.filter(g=>g).flatMap(g=>Array.isArray(g)?g:g.split(",")).map(g=>g.replace(/^\s*/,"").replace(/\s*$/,"")).filter(g=>g).forEach(g=>D.add(g)),Array.from(D.keys())}(...u.map(D=>(0,e.A)(y,D)),...j)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[44982],{29906:(re,Q,t)=>{function A(e,u){let l=[];for(let y=0;y<Math.ceil(e.length/u);y++){let B=y*u,j=B+u;l.push(e.slice(B,j))}return l}t.d(Q,{i:()=>A})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[42698],{24673:(re,Q,t)=>{t.d(Q,{n:()=>A});const A={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2630],{88910:(re,Q,t)=>{t.d(Q,{Ay:()=>M});var A=t(78969),e=t(68044),u=t(91069),l=t(75023);const y={ajax:e.RD},B="endpoint",j="bundle",G=Object.values(A.qY).filter(b=>b!==A.qY.AUCTION_DEBUG);let D=100;function M(b){let{url:m,analyticsType:g,global:n,handler:s}=b;const i=[];let p,h,C=!1,O=!0;const W=(()=>{let F,U=!1;const f=()=>{if(!U){U=!0;try{let o=0,d=0;for(;i.length>0;){o++;const a=i.length;if(i.shift()(),i.length>=a?d++:d=0,d>=10)return(0,u.logError)("Detected probable infinite loop, discarding events",i),void(i.length=0)}(0,u.logMessage)(`${h} analytics: processed ${o} events`)}finally{U=!1}}};return function(){F!=null&&(clearTimeout(F),F=null),D===0?f():F=setTimeout(f,D)}})();return Object.defineProperties({track:function(F){let{eventType:U,args:f}=F;this.getAdapterType()===j&&window[n](s,U,f),this.getAdapterType()===B&&function(o){let{eventType:d,args:a,callback:r}=o;y.ajax(m,r,JSON.stringify({eventType:d,args:a}))}(...arguments)},enqueue:J,enableAnalytics:N,disableAnalytics:function(){Object.entries(p||{}).forEach(F=>{let[U,f]=F;l.off(U,f)}),this.enableAnalytics=this._oldEnable?this._oldEnable:N,C=!1},getAdapterType:()=>g,getGlobal:()=>n,getHandler:()=>s,getUrl:()=>m},{enabled:{get:()=>C}});function J(F){let{eventType:U,args:f}=F;i.push(()=>{this.track({eventType:U,args:f})}),W()}function N(F){h=F==null?void 0:F.provider;var U=this;if(O=typeof F!="object"||typeof F.options!="object"||F.options.sampling===void 0||Math.random()<parseFloat(F.options.sampling),O){const f=(()=>{const{includeEvents:o=G,excludeEvents:d=[]}=F||{};return new Set(Object.values(A.qY).filter(a=>o.includes(a)).filter(a=>!d.includes(a)))})();l.getEvents().forEach(o=>{if(!o||!f.has(o.eventType))return;const{eventType:d,args:a}=o;J.call(U,{eventType:d,args:a})}),p=Object.fromEntries(Array.from(f).map(o=>{const d=a=>this.enqueue({eventType:o,args:a});return l.on(o,d),[o,d]}))}else(0,u.logMessage)(`Analytics adapter for "${n}" disabled by sampling`);this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return(0,u.logMessage)(`Analytics adapter for "${n}" already enabled, unnecessary call to \`enableAnalytics\`.`)},C=!0}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[57109],{20965:(re,Q,t)=>{t.d(Q,{c5:()=>y,q4:()=>l});var A=t(25555);const e=0,u=1,l=2;function y(B){let{apiName:j,apiVersion:G,apiArgs:D=["command","callback","parameter","version"],callbackArgs:M=["returnValue","success"],mode:b=e}=B,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;const g={},n=`${j}Call`,s=`${j}Return`;function i(J){var N;const F=typeof J.data=="string"&&J.data.includes(s)?JSON.parse(J.data):J.data;if((N=F==null?void 0:F[s])!=null&&N.callId){const U=F[s];g.hasOwnProperty(U.callId)&&g[U.callId](...M.map(f=>U[f]))}}const[p,h]=function(){let J,N=m,F=!1;for(;N!=null;){try{if(typeof N[j]=="function"){J=N,F=!0;break}}catch(U){}try{if(N.frames[`${j}Locator`]){J=N;break}}catch(U){}if(N===m.top)break;N=N.parent}return[J,F]}();if(!p)return;function C(J){return J=Object.assign({version:G},J),D.map(N=>[N,J[N]])}function O(J,N,F,U){const f=typeof J=="function";return function(o,d){U&&U(),b!==u&&(d==null||d?N:F)(f?void 0:o),f&&J.apply(this,arguments)}}let W;return h?W=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new A.k((N,F)=>{const U=p[j](...C(ot(Fe({},J),{callback:J.callback||b===l?O(J.callback,N,F):void 0})).map(f=>{let[o,d]=f;return d}));(b===u||J.callback==null&&b===e)&&N(U)})}:(m.addEventListener("message",i,!1),W=function(J){let N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new A.k((F,U)=>{const f=Math.random().toString(),o={[n]:ot(Fe({},Object.fromEntries(C(J).filter(d=>{let[a]=d;return a!=="callback"}))),{callId:f})};g[f]=O(J==null?void 0:J.callback,F,U,(N||(J==null?void 0:J.callback)==null)&&(()=>{delete g[f]})),p.postMessage(o,"*"),b===u&&F()})}),Object.assign(W,{isDirect:h,close(){!h&&m.removeEventListener("message",i)}})}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[90010],{63806:(re,Q,t)=>{t.d(Q,{R:()=>u});var A=t(16894),e=t(91069);function u(l,y,B){return(0,A.Ak)(l,function(j,G){var D;D=function(M,b){if(b){let s=e.logWarn;M&&(s=e.logError,b=`${b} Canceling auction as per consentManagement config.`);for(var m=arguments.length,g=new Array(m>2?m-2:0),n=2;n<m;n++)g[n-2]=arguments[n];s(b,...g)}M?(j.stopTiming(),typeof G.bidsBackHandler=="function"?G.bidsBackHandler():(0,e.logError)("Error executing bidsBackHandler")):j.call(this,G)},y()?((0,e.logInfo)("User consent information already known.  Pulling internally stored information..."),D(!1)):B(D)})}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[58498],{89766:(re,Q,t)=>{t.d(Q,{T:()=>m,A:()=>b});const A=new WeakMap;var e=t(91069),u=t(70433),l=t(71371),y=t(63895),B=t(75561),j=t(1e3),G=t(73858);const D={[j.S3]:{fpd:{priority:99,fn(g,n){(0,e.mergeDeep)(g,n.ortb2)}},onlyOneClient:{priority:-99,fn:(0,G.i8)("ORTB request")},props:{fn(g,n){Object.assign(g,{id:g.id||(0,e.generateUUID)(),test:g.test||0});const s=parseInt(n.timeout,10);isNaN(s)||(g.tmax=s)}}},[j.Tb]:{fpd:{priority:99,fn(g,n){(0,e.mergeDeep)(g,n.ortb2Imp)}},id:{fn(g,n){g.id=n.bidId}},banner:{fn:function(g,n,s){if(s.mediaType&&s.mediaType!==l.D4)return;const i=(0,u.A)(n,"mediaTypes.banner");if(i){const p={topframe:(0,e.inIframe)()===!0?0:1};i.sizes&&(p.format=(0,e.sizesToSizeTuples)(i.sizes).map(e.sizeTupleToRtbSize)),i.hasOwnProperty("pos")&&(p.pos=i.pos),g.banner=(0,e.mergeDeep)(p,g.banner)}}},pbadslot:{fn(g){var n,s,i,p;const h=(s=(n=g.ext)==null?void 0:n.data)==null?void 0:s.pbadslot;h&&typeof h=="string"||((p=(i=g.ext)==null?void 0:i.data)==null||delete p.pbadslot)}}},[j.WR]:{mediaType:{priority:99,fn:B.K},banner:{fn:function(){let{createPixel:g=n=>(0,e.createTrackPixelHtml)(decodeURIComponent(n),e.encodeMacroURI)}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n,s){n.mediaType===l.D4&&(s.adm&&s.nurl?(n.ad=s.adm,n.ad+=g(s.nurl)):s.adm?n.ad=s.adm:s.nurl&&(n.adUrl=s.nurl))}}()},props:{fn(g,n,s){var i,p;Object.entries({requestId:(i=s.bidRequest)==null?void 0:i.bidId,seatBidId:n.id,cpm:n.price,currency:s.ortbResponse.cur||s.currency,width:n.w,height:n.h,dealId:n.dealid,creative_id:n.crid,creativeId:n.crid,burl:n.burl,ttl:n.exp||s.ttl,netRevenue:s.netRevenue}).filter(h=>{let[C,O]=h;return O!==void 0}).forEach(h=>{let[C,O]=h;return g[C]=O}),g.meta||(g.meta={}),n.adomain&&(g.meta.advertiserDomains=n.adomain),(p=n.ext)!=null&&p.dsa&&(g.meta.dsa=n.ext.dsa)}}}};D[j.Tb].native={fn:function(g,n,s){var i;if(s.mediaType&&s.mediaType!==l.s6)return;let p=n.nativeOrtbRequest;p&&(p=Object.assign({},s.nativeRequest,p),(i=p.assets)!=null&&i.length?g.native=(0,e.mergeDeep)({},{request:JSON.stringify(p),ver:p.ver},g.native):(0,e.logWarn)("mediaTypes.native is set, but no assets were specified. Native request skipped.",n))}},D[j.WR].native={fn:function(g,n){if(g.mediaType===l.s6){let s;if(s=typeof n.adm=="string"?JSON.parse(n.adm):n.adm,!(0,e.isPlainObject)(s)||!Array.isArray(s.assets))throw new Error("ORTB native response contained no assets");g.native={ortb:s}}}},D[j.Tb].video={fn:function(g,n,s){if(s.mediaType&&s.mediaType!==l.G_)return;const i=(0,u.A)(n,"mediaTypes.video");if(!(0,e.isEmpty)(i)){const p=Object.fromEntries(Object.entries(i).filter(h=>{let[C]=h;return y.Zy.has(C)}));if(i.playerSize){const h=(0,e.sizesToSizeTuples)(i.playerSize).map(e.sizeTupleToRtbSize);h.length>1&&(0,e.logWarn)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(p,h[0])}g.video=(0,e.mergeDeep)(p,g.video)}}},D[j.WR].video={fn:function(g,n,s){g.mediaType===l.G_&&((0,u.A)(s.imp,"video.w")&&(0,u.A)(s.imp,"video.h")&&([g.playerWidth,g.playerHeight]=[s.imp.video.w,s.imp.video.h]),n.adm&&(g.vastXml=n.adm),n.nurl&&(g.vastUrl=n.nurl))}};var M=t(99466);function b(){let{context:g={},processors:n=m,overrides:s={},imp:i,request:p,bidResponse:h,response:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const O=new WeakMap;function W(f,o,d,a){let r;return function(){return r==null&&(r=function(){let w=d.bind(this,function(_){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!A.has(_)){const $=Object.entries(_);$.sort((k,q)=>(k=k[1].priority||0)===(q=q[1].priority||0)?0:k>q?-1:1),A.set(_,$.map(k=>{let[q,I]=k;return[q,I.fn]}))}const v=A.get(_).filter($=>{let[k]=$;return!c.hasOwnProperty(k)||c[k]}).map(function($){let[k,q]=$;return c.hasOwnProperty(k)?c[k].bind(this,q):q});return function(){const $=Array.from(arguments);v.forEach(k=>{k.apply(this,$)})}}(n()[f]||{},s[f]||{}));return o&&(w=o.bind(this,w)),function(){try{return w.apply(this,arguments)}catch(_){a.call(this,_,...arguments)}}}()),r.apply(this,arguments)}}const J=W(j.Tb,i,function(f,o,d){const a={};return f(a,o,d),a},function(f,o,d){(0,e.logError)("Error while converting bidRequest to ORTB imp; request skipped.",{error:f,bidRequest:o,context:d})}),N=W(j.S3,p,function(f,o,d,a){const r={imp:o};return f(r,d,a),r},function(f,o,d,a){throw(0,e.logError)("Error while converting to ORTB request",{error:f,imps:o,bidderRequest:d,context:a}),f}),F=W(j.WR,h,function(f,o,d){const a={};return f(a,o,d),a},function(f,o,d){(0,e.logError)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:f,bid:o,context:d})}),U=W(j.Cf,C,function(f,o,d,a){const r={bids:o};return f(r,d,a),r},function(f,o,d,a){throw(0,e.logError)("Error while converting from ORTB response",{error:f,bidResponses:o,ortbResponse:d,context:a}),f});return{toORTB(f){let{bidderRequest:o,bidRequests:d,context:a={}}=f;d=d||o.bids;const r={req:Object.assign({bidRequests:d},g,a),imp:{}};r.req.impContext=r.imp;const w=d.map(c=>{const v=Object.assign({bidderRequest:o,reqContext:r.req},g,a),$=J(c,v);if($!=null){if($.hasOwnProperty("id"))return Object.assign(v,{bidRequest:c,imp:$}),r.imp[$.id]=v,$;(0,e.logError)("Converted ORTB imp does not specify an id, ignoring bid request",c,$)}}).filter(Boolean),_=N(w,o,r.req);return r.req.bidderRequest=o,_!=null&&O.set(_,r),_},fromORTB(f){let{request:o,response:d}=f;const a=O.get(o);if(a==null)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function r(c){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign(c,{ortbRequest:o},v)}const w=Object.fromEntries((o.imp||[]).map(c=>[c.id,c])),_=(d.seatbid||[]).flatMap(c=>(c.bid||[]).map(v=>{if(w.hasOwnProperty(v.impid)&&a.imp.hasOwnProperty(v.impid))return F(v,r(a.imp[v.impid],{imp:w[v.impid],seatbid:c,ortbResponse:d}));(0,e.logError)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",v)})).filter(Boolean);return U(_,d,r(a.req))}}}const m=(0,e.memoize)(()=>(0,M.U)(D,(0,j.yB)(j.qN)))},99466:(re,Q,t)=>{t.d(Q,{U:()=>e});var A=t(1e3);function e(){for(var u=arguments.length,l=new Array(u),y=0;y<u;y++)l[y]=arguments[y];const B=l.shift(),j=l.length>1?e(...l):l[0];return Object.fromEntries(A.zt.map(G=>[G,Object.assign({},B[G],j[G])]))}},75561:(re,Q,t)=>{t.d(Q,{K:()=>u,X:()=>e});var A=t(71371);const e={1:A.D4,2:A.G_,4:A.s6};function u(l,y,B){if(l.mediaType)return;const j=B.mediaType;if(!j&&!e.hasOwnProperty(y.mtype))throw new Error("Cannot determine mediaType for response");l.mediaType=j||e[y.mtype]}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[15889],{54406:(re,Q,t)=>{t.d(Q,{FE:()=>y});var A=t(70433),e=t(63172),u=t(91069);const l=Object.freeze([...["device.sua","source.schain","regs.gdpr","regs.us_privacy","regs.gpp","regs.gpp_sid","user.consent","user.eids"].map(B=>function(j){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(b,m)=>`${b}.ext.${m}`;const[D,M]=function(b){const m=b.split(".");return[m.slice(0,m.length-1).join("."),m[m.length-1]]}(j);return G=G(D,M),b=>{const m=(0,A.A)(b,D);if((m==null?void 0:m[M])!=null)return(0,e.J)(b,G,m[M]),()=>delete m[M]}}(B)),...["app","content","site","user"].map(function(B){return j=>{var G;const D=(G=j[B])==null?void 0:G.kwarray;if(D!=null){let M=(j[B].keywords||"").split(",");return Array.isArray(D)&&M.push(...D),j[B].keywords=M.join(","),()=>delete j[B].kwarray}}})]);function y(){let B=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return function(G){return j.forEach(D=>{try{const M=D(G);typeof M=="function"&&B&&M()}catch(M){(0,u.logError)("Error translating request to ORTB 2.5",M)}}),G}}y()}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[33005],{51252:(re,Q,t)=>{t.d(Q,{Cn:()=>G,eu:()=>D,mw:()=>y,n9:()=>B,p:()=>j});var A=t(73858),e=t(15901),u=t(91069),l=t(70433);function y(b){return m=>(0,u.compareCodeAndSlot)(m,b)}function B(b){let m;return(0,u.isGptPubadsDefined)()&&(m=(0,e.I6)(window.googletag.pubads().getSlots(),y(b))),m}function j(b){const m=B(b);return m?{gptSlot:m.getAdUnitPath(),divId:m.getSlotElementId()}:{}}const G=["IAB_AUDIENCE_1_1","IAB_CONTENT_2_2"];function D(b){return Object.entries({[G[0]]:M(b,["user.data"],4),[G[1]]:M(b,A.Dy.map(m=>`${m}.content.data`),6)}).map(m=>{let[g,n]=m;return n.length?{taxonomy:g,values:n}:null}).filter(m=>m)}function M(b,m,g){return m.flatMap(n=>(0,l.A)(b,n)||[]).filter(n=>{var s;return((s=n.ext)==null?void 0:s.segtax)===g}).flatMap(n=>{var s;return(s=n.segment)==null?void 0:s.map(i=>i.id)}).filter(n=>n).filter(u.uniques)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[47650],{25246:(re,Q,t)=>{t.d(Q,{Mu:()=>A,P8:()=>e,ec:()=>u});const A={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},e={protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},u=(l,y)=>{l&&(typeof l.gdprApplies=="boolean"&&(y.gdpr=Number(l.gdprApplies)),l.consentString&&(y.gdpr_consent=l.consentString),l.addtlConsent&&(y.addtl_consent=l.addtlConsent))}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[41225],{76743:(re,Q,t)=>{t.d(Q,{hZ:()=>u,x4:()=>l});var A=t(7873),e=t(12713);function u(y,B,j){let G=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(B===j)return y;let D=y;try{D=(0,A.m)().convertCurrency(y,B,j)}catch(M){if(!G)throw M}return D}function l(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j=>[j.cpm,j.currency],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u;return function(M,b){return j==null&&(j=b),D(M,b,j,G)}}();return(0,e.NV)(j=>B.apply(null,y(j)))}},53812:(re,Q,t)=>{t.d(Q,{M:()=>u});var A=t(91069),e=t(70433);function u(l){if(!A.isFn(l.getFloor))return e.A(l,"params.bidfloor",0);try{return l.getFloor({currency:"USD",mediaType:"*",size:"*"}).floor}catch(y){return 0}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[47606],{27194:(re,Q,t)=>{t.d(Q,{$:()=>e});var A=t(67314);const e=()=>function(u){const l=new WeakMap;return function(y){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=u(y);if(j!=null)return l.has(j)||l.set(j,B),l.get(j)}}(u=>A.n.index.getAuction({auctionId:u}))}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[47618],{34610:(re,Q,t)=>{t.d(Q,{m:()=>n});var A=t(99466),e=t(1e3),u=t(70433),l=t(91069),y=t(25825),B=t(11445),j=t(43272),G=t(63172),D=t(43323),M=t(7873),b=t(71371);const m={[e.S3]:{extPrebid:{fn:function(s,i){var p;(0,G.J)(s,"ext.prebid",(0,l.mergeDeep)({auctiontimestamp:i.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},(p=s.ext)==null?void 0:p.prebid)),j.$W.getConfig("debug")&&(s.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(s){var i,p;(0,G.J)(s,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,M.m)().version},(p=(i=s.ext)==null?void 0:i.prebid)==null?void 0:p.channel))}},extPrebidAliases:{fn:function(s,i,p){var h;let{am:C=B.Ay}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(C.aliasRegistry[i.bidderCode]){const O=C.bidderRegistry[i.bidderCode];if(!O||!O.getSpec().skipPbsAliasing){(0,G.J)(s,`ext.prebid.aliases.${i.bidderCode}`,C.aliasRegistry[i.bidderCode]);const W=j.$W.getConfig(`gvlMapping.${i.bidderCode}`)||((h=O==null?void 0:O.getSpec)==null?void 0:h.call(O).gvlid);W&&(0,G.J)(s,`ext.prebid.aliasgvlids.${i.bidderCode}`,W)}}}}},[e.Tb]:{params:{fn:D.W},adUnitCode:{fn:function(s,i){const p=i.adUnitCode;p&&(0,G.J)(s,"ext.prebid.adunitcode",p)}}},[e.WR]:{mediaType:{fn:y.o,priority:99},videoCache:{fn:function(s,i){if(s.mediaType===b.G_){let{cacheId:p,url:h}=(0,u.A)(i,"ext.prebid.cache.vastXml")||{};if(!p||!h){const{hb_uuid:C,hb_cache_host:O,hb_cache_path:W}=(0,u.A)(i,"ext.prebid.targeting")||{};C&&O&&W&&(p=C,h=`https://${O}${W}?uuid=${C}`)}p&&h&&Object.assign(s,{videoCacheKey:p,vastUrl:h})}},priority:-10},bidderCode:{fn(s,i,p){var h;s.bidderCode=p.seatbid.seat,s.adapterCode=(0,u.A)(i,"ext.prebid.meta.adaptercode")||((h=p.bidRequest)==null?void 0:h.bidder)||s.bidderCode}},pbsBidId:{fn(s,i){const p=(0,u.A)(i,"ext.prebid.bidid");(0,l.isStr)(p)&&(s.pbsBidId=p)}},adserverTargeting:{fn(s,i){const p=(0,u.A)(i,"ext.prebid.targeting");(0,l.isPlainObject)(p)&&(s.adserverTargeting=p)}},extPrebidMeta:{fn(s,i){s.meta=(0,l.mergeDeep)({},(0,u.A)(i,"ext.prebid.meta"),s.meta)}},pbsWurl:{fn(s,i){const p=(0,u.A)(i,"ext.prebid.events.win");(0,l.isStr)(p)&&(s.pbsWurl=p)}}},[e.Cf]:{serverSideStats:{fn(s,i,p){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach(h=>{let[C,O]=h;const W=(0,u.A)(i,`ext.${C}.${p.bidderRequest.bidderCode}`);W&&(p.bidderRequest[O]=W,p.bidRequests.forEach(J=>J[O]=W))})}}}};var g=t(89766);const n=(0,l.memoize)(()=>(0,A.U)((0,g.T)(),m,(0,e.yB)(e.e4)))},25825:(re,Q,t)=>{t.d(Q,{o:()=>l,s:()=>u});var A=t(71371),e=t(75561);const u={[A.D4]:"banner",[A.s6]:"native",[A.G_]:"video"};function l(y,B,j){var G,D;let M=j.mediaType;M||(M=e.X.hasOwnProperty(B.mtype)?e.X[B.mtype]:(D=(G=B.ext)==null?void 0:G.prebid)==null?void 0:D.type,u.hasOwnProperty(M)||(M=A.D4)),y.mediaType=M}},43323:(re,Q,t)=>{t.d(Q,{W:()=>e});var A=t(63172);function e(u,l){let y=l.params;y&&(0,A.J)(u,`ext.prebid.bidder.${l.bidder}`,y)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[60041],{63399:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(70433),l=t(81657),y=t(42627),B=t(63895),j=t(16833),G=t(68693),D=t(43272),M=t(71371),b=t(15901),m=t(67314),g=t(78969);const n="hb_pb_cat_dur",s="hb_cache_id";let i=50,p=5,h=function(){let f={};function o(d){f[d]={},f[d].bidStorage=new Set,f[d].queueDispatcher=function(a){let r,w=1;return function(_,c,v,$){const k=this;var q=function(){O.call(k,_,c,v)};clearTimeout(r),$?w=1:w===p?(w=1,q()):(w++,r=setTimeout(q,a))}}(i),f[d].initialCacheKey=(0,e.generateUUID)()}return{addBid:function(d){f[d.auctionId]||o(d.auctionId),f[d.auctionId].bidStorage.add(d)},removeBid:function(d){f[d.auctionId].bidStorage.delete(d)},getBids:function(d){return f[d.auctionId]&&f[d.auctionId].bidStorage.values()},getQueueDispatcher:function(d){return f[d.auctionId]&&f[d.auctionId].queueDispatcher},setupInitialCacheKey:function(d){f[d.auctionId]||(f[d.auctionId]={},f[d.auctionId].initialCacheKey=(0,e.generateUUID)())},getInitialCacheKey:function(d){return f[d.auctionId]&&f[d.auctionId].initialCacheKey}}}();function C(f,o){let d=h.getInitialCacheKey(f),a=(0,u.A)(f,"video.durationBucket");const r=function(_){let c;if(D.$W.getConfig("adpod.prioritizeDeals")&&(0,u.A)(_,"video.dealTier")){const v=D.$W.getConfig(`adpod.dealTier.${_.bidderCode}.prefix`);c=v?v+(0,u.A)(_,"video.dealTier"):(0,u.A)(_,"video.dealTier")}else{const v=(0,l.mO)(_);c=(0,l.ZV)(v)(_)}return c}(f);let w;o?w=`${r}_${(0,u.A)(f,"meta.adServerCatId")}_${a}s`:w=`${r}_${a}s`,f.adserverTargeting||(f.adserverTargeting={}),f.adserverTargeting[n]=w,f.adserverTargeting[s]=d,f.videoCacheKey=d,f.customCacheKey=`${w}_${d}`}function O(f,o,d){(function(a){for(let r=0;r<a.length;r++)h.removeBid(a[r])})(o),(0,G.M_)(o,function(a,r){if(a)(0,e.logWarn)(`Failed to save to the video cache: ${a}. Video bid(s) must be discarded.`);else for(let w=0;w<r.length;w++)r[w].uuid!==""?(0,l.v8)(f,o[w]):(0,e.logInfo)(`Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ${o[w].customCacheKey}. Bid was: `,o[w]),d()})}function W(f,o,d,a,r){if(r&&r.context===M.LM){let w=D.$W.getConfig("adpod.brandCategoryExclusion");!(0,u.A)(d,"meta.adServerCatId")&&w?((0,e.logWarn)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",d),a()):D.$W.getConfig("adpod.deferCaching")===!1?(h.addBid(d),C(d,w),function(_,c,v){let $=h.getBids(c);if($){let k=(0,b.A6)($),q=h.getQueueDispatcher(c),I=_.getAuctionStatus()!==l.AA;q(_,k,v,I)}else(0,e.logWarn)("Attempted to cache a bid from an unknown auction. Bid:",c)}(o,d,a)):(h.setupInitialCacheKey(d),C(d,w),(0,l.v8)(o,d),a())}else f.call(this,o,d,a,r)}function J(f,o){o=o.filter(a=>{let r=(0,u.A)(a,"mediaTypes"),w=(0,u.A)(r,"video");if(w&&w.context===M.LM){if(Object.keys(r).length>1)return(0,e.logWarn)(`Detected more than one mediaType in adUnitCode: ${a.code} while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.`),!1;let _=`Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ${a.code}.  This adUnit will be removed from the auction.`,c=!!(w.playerSize&&((0,e.isArrayOfNums)(w.playerSize,2)||(0,e.isArray)(w.playerSize)&&w.playerSize.every(k=>(0,e.isArrayOfNums)(k,2)))||w.sizeConfig),v=!!(w.adPodDurationSec&&(0,e.isNumber)(w.adPodDurationSec)&&w.adPodDurationSec>0),$=!!(w.durationRangeSec&&(0,e.isArrayOfNums)(w.durationRangeSec)&&w.durationRangeSec.every(k=>k>0));if(!c||!v||!$)return _+=c?"":`
mediaTypes.video.playerSize`,_+=v?"":`
mediaTypes.video.adPodDurationSec`,_+=$?"":`
mediaTypes.video.durationRangeSec`,(0,e.logWarn)(_),!1}return!0}),f.call(this,o)}function N(f,o,d,a,r){if(r===M.LM){let w=!0;D.$W.getConfig("adpod.brandCategoryExclusion")&&!(0,u.A)(o,"meta.primaryCatId")&&(w=!1),(0,u.A)(o,"video")&&((0,u.A)(o,"video.context")&&o.video.context===M.LM||(w=!1),!(0,u.A)(o,"video.durationSeconds")||o.video.durationSeconds<=0?w=!1:function(c,v){let $=(0,u.A)(v,"video.durationSeconds"),k=c.durationRangeSec;if(k.sort((q,I)=>q-I),c.requireExactDuration){if(!(0,b.I6)(k,q=>q===$))return(0,e.logWarn)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",v),!1;v.video.durationBucket=$}else{let q=Math.max(...k);if(!($<=q+2))return(0,e.logWarn)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",v),!1;{let I=(0,b.I6)(k,P=>P+2>=$);v.video.durationBucket=I}}return!0}(a,o)||(w=!1)),D.$W.getConfig("cache.url")||!o.vastXml||o.vastUrl||((0,e.logError)(`
        This bid contains only vastXml and will not work when a prebid cache url is not specified.
        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });
      `),w=!1),f.bail(w)}else f.call(this,o,d,a,r)}function F(f,o){return f.adserverTargeting[g.xS.PRICE_BUCKET]/f.video.durationBucket<o.adserverTargeting[g.xS.PRICE_BUCKET]/o.video.durationBucket?1:f.adserverTargeting[g.xS.PRICE_BUCKET]/f.video.durationBucket>o.adserverTargeting[g.xS.PRICE_BUCKET]/o.video.durationBucket?-1:0}D.$W.getConfig("adpod",f=>function(o){o.bidQueueTimeDelay!==void 0&&(typeof o.bidQueueTimeDelay=="number"&&o.bidQueueTimeDelay>0?i=o.bidQueueTimeDelay:(0,e.logWarn)(`Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ${i}`)),o.bidQueueSizeLimit!==void 0&&(typeof o.bidQueueSizeLimit=="number"&&o.bidQueueSizeLimit>0?p=o.bidQueueSizeLimit:(0,e.logWarn)(`Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ${p}`))}(f.adpod)),(0,j.pT)((0,j.Yn)("callPrebidCache"),W),(0,j.pT)(y.Z,J),(0,j.pT)(B.E2,N);const U={TARGETING_KEY_PB_CAT_DUR:n,TARGETING_KEY_CACHE_ID:s,getTargeting:function(){let{codes:f,callback:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!o)return void(0,e.logError)("No callback function was defined in the getTargeting call.  Aborting getTargeting().");f=f||[];const d=function($){return m.n.getAdUnits().filter(k=>(0,u.A)(k,"mediaTypes.video.context")===M.LM).filter(k=>!($.length>0)||$.indexOf(k.code)!=-1)}(f),a=m.n.getBidsReceived(),r=D.$W.getConfig("adpod.brandCategoryExclusion"),w=D.$W.getConfig("adpod.deferCaching"),_=typeof w!="boolean"||w;let c=function($,k){let q=k.map(I=>I.code);return $.filter(I=>q.indexOf(I.adUnitCode)!=-1&&I.video&&I.video.context===M.LM)}(a,d);if(c=r||_?function($){let k=$.map(I=>Object.assign({},I,{[n]:I.adserverTargeting[n]}));k=(0,e.groupBy)(k,n);let q=[];return Object.keys(k).forEach(I=>{var P;k[I].sort((P="responseTimestamp",function(X,Y){return X[P]<Y[P]?1:X[P]>Y[P]?-1:0})),q.push(k[I][0])}),q}(c):c,D.$W.getConfig("adpod.prioritizeDeals")){let[$,k]=c.reduce((q,I)=>{let P=(0,u.A)(I,"video.dealTier"),X=D.$W.getConfig(`adpod.dealTier.${I.bidderCode}.minDealTier`);return X&&P?P>=X?q[1].push(I):q[0].push(I):P?q[1].push(I):q[0].push(I),q},[[],[]]);k.sort(F),$.sort(F),c=k.concat($)}else c.sort(F);let v={};if(_===!1)d.forEach($=>{let k=[],q=(0,u.A)($,"mediaTypes.video.adPodDurationSec");c.filter(I=>I.adUnitCode===$.code).forEach((I,P,X)=>{I.video.durationBucket<=q&&(k.push({[n]:I.adserverTargeting[n]}),q-=I.video.durationBucket),P===X.length-1&&k.length>0&&k.push({[s]:I.adserverTargeting[s]})}),v[$.code]=k}),o(null,v);else{let $=[];d.forEach(k=>{let q=(0,u.A)(k,"mediaTypes.video.adPodDurationSec");c.filter(I=>I.adUnitCode===k.code).forEach(I=>{I.video.durationBucket<=q&&($.push(I),q-=I.video.durationBucket)})}),function(k,q){(0,G.M_)(k,function(I,P){if(I)q(I,null);else{let X=[];for(let Y=0;Y<P.length;Y++)P[Y]!==""&&X.push(k[Y]);q(null,X)}})}($,function(k,q){if(k)o(k,null);else{let I=(0,e.groupBy)(q,"adUnitCode");Object.keys(I).forEach(P=>{let X=[];I[P].forEach((Y,R,H)=>{X.push({[n]:Y.adserverTargeting[n]}),R===H.length-1&&X.length>0&&X.push({[s]:Y.adserverTargeting[s]})}),v[P]=X}),o(null,v)}})}return v}};Object.freeze(U),(0,j.xG)("adpod",function(){(0,e.isPlainObject)(arguments.length<=0?void 0:arguments[0])?function(f,o){for(let d in o)f[d]=o[d]}(arguments.length<=0?void 0:arguments[0],U):(0,e.logError)("Adpod module needs plain object to share methods with submodule")}),(0,A.E)("adpod")}},re=>{re.O(0,[60802,51085],()=>{return Q=63399,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[20887],{16475:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(16833),l=t(43272),y=t(2349),B=t(25761),j=t(11445);function G(M){let b="";return Object.keys(M).forEach(m=>{(0,e.isStr)(M[m])?M[m]!==""?b+=`${m}=${M[m]},`:b+=`${m},`:(0,e.isArray)(M[m])&&(M[m][0]===""?b+=`${m},`:M[m].forEach(g=>{b+=`${m}=${g},`}))}),b=b.substring(0,b.length-1),b}function D(M){var b,m,g;let n=!1;(b=M==null?void 0:M.bidders)!=null&&b.includes("appnexus")&&(n=!0);const s=y.DX.map(i=>i.code);return!n&&((m=M==null?void 0:M.bidders)==null?void 0:m.filter(i=>s.includes(i)).length)>0&&(n=!0),n||(n=!!((g=M==null?void 0:M.bidders)!=null&&g.find(i=>j.Ay.resolveAlias(i)==="appnexus"))),n}(0,u.Yn)("makeBidRequests").after(function(M,b){const m=l.$W.getConfig("s2sConfig");let g=!1;(0,e.isPlainObject)(m)?g=D(m):(0,e.isArray)(m)&&m.forEach(n=>{g=D(n)}),g&&b.flatMap(n=>n.bids).filter(n=>n.src==="s2s"&&j.Ay.resolveAlias(n.bidder)==="appnexus").forEach(n=>{(function(s){let i=s.params;i&&(i=(0,B.$)({member:"string",invCode:"string",placementId:"number",keywords:G,publisherId:"number"},i),Object.keys(i).forEach(p=>{let h=(0,y.vk)(p);h!==p&&(i[h]=i[p],delete i[p])}),i.use_pmt_rule=typeof i.use_payment_rule=="boolean"&&i.use_payment_rule,i.use_payment_rule&&delete i.use_payment_rule)})(n)}),M(b)},9),(0,A.E)("anPspParamsConverter")}},re=>{re.O(0,[95444,12126,60802,51085],()=>{return Q=16475,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[44599],{50791:(re,Q,t)=>{t.d(Q,{I:()=>$});var A=t(7873),e=t(91069),u=t(70433),l=t(95789),y=t(43272),B=t(57377),j=t(71371),G=t(15901),D=t(63895),M=t(12938),b=t(12693),m=t(82621),g=t(12449),n=t(24673),s=t(554),i=t(2349),p=t(25761),h=t(29906);const C="appnexus",O="https://ib.adnxs.com/ut/v3/prebid",W="https://ib.adnxs-simple.com/ut/v3/prebid",J=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],N=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay","placement","plcmt"],F=["age","externalUid","external_uid","segments","gender","dnt","language"],U=["geo","device_id"],f=["enabled","dongle","member_id","debug_timeout"],o={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},d={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5,"in-feed":6,interstitial:7,accompanying_content_pre_roll:8,accompanying_content_mid_roll:9,accompanying_content_post_roll:10}},a={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},r="<script",w=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,_="trk.js",c=(0,M.vM)({bidderCode:C}),v=new Map([[1,"Mobile/Tablet - General"],[2,"Personal Computer"],[3,"Connected TV"],[4,"Phone"],[5,"Tablet"],[6,"Connected Device"],[7,"Set Top Box"],[8,"OOH Device"]]),$={code:C,gvlid:32,aliases:i.DX,supportedMediaTypes:[j.D4,j.G_,j.s6],isBidRequestValid:function(x){return!!(x.params.placementId||x.params.placement_id||x.params.member&&(x.params.invCode||x.params.inv_code))},buildRequests:function(x,K){var z,le,ce,ee,te,Z;const ie=(x=(0,g.Xj)(x)).map(k),ae=(0,G.I6)(x,I);let ye={};y.$W.getConfig("coppa")===!0&&(ye={coppa:!0}),ae&&Object.keys(ae.params.user).filter(Oe=>(0,G.mK)(F,Oe)).forEach(Oe=>{let Te=(0,i.vk)(Oe);if(Oe==="segments"&&(0,e.isArray)(ae.params.user[Oe])){let je=[];ae.params.user[Oe].forEach(qe=>{(0,e.isNumber)(qe)?je.push({id:qe}):(0,e.isPlainObject)(qe)&&je.push(qe)}),ye[Te]=je}else Oe!=="segments"&&(ye[Te]=ae.params.user[Oe])});const Ie=(0,G.I6)(x,X);let xe;Ie&&Ie.params&&Ie.params.app&&(xe={},Object.keys(Ie.params.app).filter(Oe=>(0,G.mK)(U,Oe)).forEach(Oe=>xe[Oe]=Ie.params.app[Oe]));const Ae=(0,G.I6)(x,Y);let me;Ae&&Ae.params&&Ie.params.app&&Ie.params.app.id&&(me={appid:Ae.params.app.id});let E={},oe={};const de=c.getCookie("apn_prebid_debug")||null;if(de)try{E=JSON.parse(de)}catch(Oe){(0,e.logError)(`AppNexus Debug Auction Cookie Error:

`+Oe)}else{Object.keys(o).forEach(Te=>{let je=(0,e.getParameterByName)(Te);(0,e.isStr)(je)&&je!==""&&(E[o[Te]]=je,E.enabled=!0)}),E=(0,p.$)({member_id:"number",debug_timeout:"number"},E);const Oe=(0,G.I6)(x,R);Oe&&Oe.debug&&(E=Oe.debug)}E&&E.enabled&&Object.keys(E).filter(Oe=>(0,G.mK)(f,Oe)).forEach(Oe=>{oe[Oe]=E[Oe]});const se=(0,G.I6)(x,P),he=se?parseInt(se.params.member,10):0,we=x[0].schain,Se=(0,G.I6)(x,T),Ce={tags:[...ie],user:ye,sdk:{source:"pbjs",version:"9.8.0-pre"},schain:we};Se&&(Ce.iab_support={omidpn:"Appnexus",omidpv:"9.8.0-pre"}),he>0&&(Ce.member_id=he),Ie&&(Ce.device=xe),Ae&&(Ce.app=me),(z=K==null?void 0:K.ortb2)!=null&&z.device&&(Ce.device=Ce.device||{},(0,e.mergeDeep)(Ce.device,function(Oe){const Te={useragent:Oe.ua,devicetype:v.get(Oe.devicetype),make:Oe.make,model:Oe.model,os:Oe.os,os_version:Oe.osv,w:Oe.w,h:Oe.h,ppi:Oe.ppi,pxratio:Oe.pxratio};return Object.keys(Te).reduce((je,qe)=>(Te[qe]&&(je[qe]=Te[qe]),je),{})}(K.ortb2.device)));let Ee=(0,e.deepClone)(K&&K.ortb2),$e=(0,e.deepClone)(y.$W.getConfig("appnexusAuctionKeywords"))||{},Re=(0,s.QF)(Ee,$e);if(Re.length>0&&(Ce.keywords=Re),y.$W.getConfig("adpod.brandCategoryExclusion")&&(Ce.brand_category_uniqueness=!0),oe.enabled&&(Ce.debug=oe,(0,e.logInfo)(`AppNexus Debug Auction Settings:

`+JSON.stringify(oe,null,4))),K&&K.gdprConsent&&(Ce.gdpr_consent={consent_string:K.gdprConsent.consentString,consent_required:K.gdprConsent.gdprApplies},K.gdprConsent.addtlConsent&&K.gdprConsent.addtlConsent.indexOf("~")!==-1)){let Oe=K.gdprConsent.addtlConsent,Te=Oe.substring(Oe.indexOf("~")+1);Ce.gdpr_consent.addtl_consent=Te.split(".").map(je=>parseInt(je,10))}if(K&&K.uspConsent&&(Ce.us_privacy=K.uspConsent),K!=null&&K.gppConsent?Ce.privacy={gpp:K.gppConsent.gppString,gpp_sid:K.gppConsent.applicableSections}:(ce=(le=K==null?void 0:K.ortb2)==null?void 0:le.regs)!=null&&ce.gpp&&(Ce.privacy={gpp:K.ortb2.regs.gpp,gpp_sid:K.ortb2.regs.gpp_sid}),K&&K.refererInfo){let Oe={rd_ref:encodeURIComponent(K.refererInfo.topmostLocation),rd_top:K.refererInfo.reachedTop,rd_ifs:K.refererInfo.numIframes,rd_stk:K.refererInfo.stack.map(je=>encodeURIComponent(je)).join(",")},Te=K.refererInfo.canonicalUrl;(0,e.isStr)(Te)&&Te!==""&&(Oe.rd_can=Te),Ce.referrer_detection=Oe}if((0,G.I6)(x,H)&&x.filter(H).forEach(Oe=>{const Te=function(qe,pe){const{durationRangeSec:fe,requireExactDuration:be}=pe.mediaTypes.video,ue=function(De){const{adPodDurationSec:We,durationRangeSec:Me,requireExactDuration:ze}=De,Ve=Math.min(...Me),He=Math.floor(We/Ve);return ze?Math.max(He,Me.length):He}(pe.mediaTypes.video),ve=Math.max(...fe),Pe=qe.filter(De=>De.uuid===pe.bidId);let Ne=(0,i.GS)(...Pe,ue);if(be){const De=Math.ceil(ue/fe.length),We=(0,h.i)(Ne,De);fe.forEach((Me,ze)=>{We[ze].map(Ve=>{S(Ve,"minduration",Me),S(Ve,"maxduration",Me)})})}else Ne.map(De=>S(De,"maxduration",ve));return Ne}(ie,Oe),je=Ce.tags.filter(qe=>qe.uuid!==Oe.bidId);Ce.tags=[...je,...Te]}),x[0].userId){let Oe=[];x[0].userIdAsEids.forEach(Te=>{!Te||!Te.uids||Te.uids.length<1||Te.uids.forEach(je=>{let qe={source:Te.source,id:je.id};Te.source=="adserver.org"?qe.rti_partner="TDID":Te.source=="uidapi.com"&&(qe.rti_partner="UID2"),Oe.push(qe)})}),Oe.length&&(Ce.eids=Oe)}if((Z=(te=(ee=K==null?void 0:K.ortb2)==null?void 0:ee.regs)==null?void 0:te.ext)!=null&&Z.dsa){const Oe=K.ortb2.regs.ext.dsa,Te={};if(["dsarequired","pubrender","datatopub"].forEach(je=>{(0,e.isNumber)(Oe[je])&&(Te[je]=Oe[je])}),(0,e.isArray)(Oe.transparency)&&Oe.transparency.every(je=>(0,e.isPlainObject)(je))){const je=[];Oe.transparency.forEach(qe=>{(0,e.isStr)(qe.domain)&&qe.domain!=""&&(0,e.isArray)(qe.dsaparams)&&qe.dsaparams.every(pe=>(0,e.isNumber)(pe))&&je.push(qe)}),je.length>0&&(Te.transparency=je)}(0,e.isEmpty)(Te)||(Ce.dsa=Te)}return ie[0].publisher_id&&(Ce.publisher_id=ie[0].publisher_id),function(Oe,Te){let je=[],qe={withCredentials:!0},pe=O;if((0,m.C)(Te==null?void 0:Te.gdprConsent)||(pe=W),(0,e.getParameterByName)("apn_test").toUpperCase()!=="TRUE"&&y.$W.getConfig("apn_test")!==!0||(qe.customHeaders={"X-Is-Test":1}),Oe.tags.length>15){const fe=(0,e.deepClone)(Oe);(0,h.i)(Oe.tags,15).forEach(be=>{fe.tags=be;const ue=JSON.stringify(fe);je.push({method:"POST",url:pe,data:ue,bidderRequest:Te,options:qe})})}else{const fe=JSON.stringify(Oe);je={method:"POST",url:pe,data:fe,bidderRequest:Te,options:qe}}return je}(Ce,K)},interpretResponse:function(x,K){let{bidderRequest:z}=K;x=x.body;const le=[];if(!x||x.error){let ce=`in response for ${z.bidderCode} adapter`;return x&&x.error&&(ce+=`: ${x.error}`),(0,e.logError)(ce),le}if(x.tags&&x.tags.forEach(ce=>{const ee=(te=ce)&&te.ads&&te.ads.length&&(0,G.I6)(te.ads,Z=>Z.rtb);var te;if(ee&&(b.u.get(z.bidderCode,"allowZeroCpmBids")===!0?ee.cpm>=0:ee.cpm>0)&&(0,G.mK)(this.supportedMediaTypes,ee.ad_type)){const Z=function(ie,ae,ye){const Ie=(0,e.getBidRequest)(ie.uuid,[ye]),xe=(0,e.getUniqueIdentifierStr)(),Ae={adId:xe,requestId:ie.uuid,cpm:ae.cpm,creativeId:ae.creative_id,dealId:ae.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:Ie.adUnitCode,appnexus:{buyerMemberId:ae.buyer_member_id,dealPriority:ae.deal_priority,dealCode:ae.deal_code}};ae.adomain&&(Ae.meta=Object.assign({},Ae.meta,{advertiserDomains:[ae.adomain]})),ae.advertiser_id&&(Ae.meta=Object.assign({},Ae.meta,{advertiserId:ae.advertiser_id})),ae.dsa&&(Ae.meta=Object.assign({},Ae.meta,{dsa:ae.dsa}));function me(E){return{ver:"1.0",complete:0,nodes:[{bsid:E.buyer_member_id.toString()}]}}if(ae.buyer_member_id&&(Ae.meta=Object.assign({},Ae.meta,{dchain:me(ae)})),ae.brand_id&&(Ae.meta=Object.assign({},Ae.meta,{brandId:ae.brand_id})),ae.rtb.video)switch(Object.assign(Ae,{width:ae.rtb.video.player_width,height:ae.rtb.video.player_height,vastImpUrl:ae.notify_url,ttl:3600}),(0,u.A)(Ie,"mediaTypes.video.context")){case j.LM:const E=n.n[ae.brand_category_id]?n.n[ae.brand_category_id]:null;Ae.meta=Object.assign({},Ae.meta,{primaryCatId:E});const oe=ae.deal_priority;Ae.video={context:j.LM,durationSeconds:Math.floor(ae.rtb.video.duration_ms/1e3),dealTier:oe},Ae.vastUrl=ae.rtb.video.asset_url;break;case D.H6:if(Ae.adResponse=ie,Ae.adResponse.ad=Ae.adResponse.ads[0],Ae.adResponse.ad.video=Ae.adResponse.ad.rtb.video,Ae.vastXml=ae.rtb.video.content,ae.renderer_url){const de=(0,G.I6)(ye.bids,he=>he.bidId===ie.uuid);let se=(0,u.A)(de,"mediaTypes.video.renderer.options");se||(se=(0,u.A)(de,"renderer.options")),Ae.renderer=function(he,we){let Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ce=l.A4.install({id:we.renderer_id,url:we.renderer_url,config:Se,loaded:!1,adUnitCode:he});try{Ce.setRender(L)}catch(Ee){(0,e.logWarn)("Prebid Error calling setRender on renderer",Ee)}return Ce.setEventHandlers({impression:()=>(0,e.logMessage)("AppNexus outstream video impression event"),loaded:()=>(0,e.logMessage)("AppNexus outstream video loaded event"),ended:()=>{(0,e.logMessage)("AppNexus outstream renderer video event"),document.querySelector(`#${he}`).style.display="none"}}),Ce}(Ae.adUnitCode,ae,se)}break;case D.mn:Ae.vastUrl=ae.notify_url+"&redir="+encodeURIComponent(ae.rtb.video.asset_url)}else if(ae.rtb[j.s6]){const E=ae.rtb[j.s6];let oe;if(function(se){if(!se||se==="")return!1;let he=se.match(w),we=he!=null&&he.length>=1,Se=se.match(_),Ce=Se!=null&&Se.length>=1;return se.startsWith(r)&&Ce&&we}(ae.viewability.config)){let se="pbjs_adid="+xe+";pbjs_auc="+Ie.adUnitCode;oe=ae.viewability.config.replace("dom_id=%native_dom_id%",se)}let de=E.javascript_trackers;de==null?de=oe:(0,e.isStr)(de)?de=[de,oe]:de.push(oe),Ae[j.s6]={title:E.title,body:E.desc,body2:E.desc2,cta:E.ctatext,rating:E.rating,sponsoredBy:E.sponsored,privacyLink:E.privacy_link,address:E.address,downloads:E.downloads,likes:E.likes,phone:E.phone,price:E.price,salePrice:E.saleprice,clickUrl:E.link.url,displayUrl:E.displayurl,clickTrackers:E.link.click_trackers,impressionTrackers:E.impression_trackers,video:E.video,javascriptTrackers:de},E.main_img&&(Ae.native.image={url:E.main_img.url,height:E.main_img.height,width:E.main_img.width}),E.icon&&(Ae.native.icon={url:E.icon.url,height:E.icon.height,width:E.icon.width})}else{Object.assign(Ae,{width:ae.rtb.banner.width,height:ae.rtb.banner.height,ad:ae.rtb.banner.content});try{if(ae.rtb.trackers)for(let E=0;E<ae.rtb.trackers[0].impression_urls.length;E++){const oe=ae.rtb.trackers[0].impression_urls[E],de=(0,e.createTrackPixelHtml)(oe);Ae.ad+=de}}catch(E){(0,e.logError)("Error appending tracking pixel",E)}}return Ae}(ce,ee,z);Z.mediaType=function(ie){const ae=ie.ad_type;return ae===j.G_?j.G_:ae===j.s6?j.s6:j.D4}(ee),le.push(Z)}}),x.debug&&x.debug.debug_info){let ce=`AppNexus Debug Auction for Prebid

`+x.debug.debug_info;ce=ce.replace(/(<td>|<th>)/gm,"	").replace(/(<\/td>|<\/th>)/gm,`
`).replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,`
`).replace(/<h1>(.*)<\/h1>/gm,`

===== $1 =====

`).replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,`

*** $1 ***

`).replace(/(<([^>]+)>)/gim,""),(0,e.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,e.logMessage)(ce)}return le},getUserSyncs:function(x,K,z,le,ce){if(x.iframeEnabled&&(0,m.C)(z))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]}};function k(x){var K;const z={};Object.keys(x.params).forEach(Z=>{let ie=(0,i.vk)(Z);ie!==Z&&(x.params[ie]=x.params[Z],delete x.params[Z])}),z.sizes=q(x.sizes),z.primary_size=z.sizes[0],z.ad_types=[],z.uuid=x.bidId,x.params.placement_id?z.id=parseInt(x.params.placement_id,10):z.code=x.params.inv_code;const le=(0,e.getParameterByName)("ast_override_div");if((0,e.isStr)(le)&&le!==""){const Z=le.split(",").find(ie=>ie.startsWith(`${x.adUnitCode}:`));if(Z){const ie=Z.split(":")[1];ie&&(z.force_creative_id=parseInt(ie,10))}}z.allow_smaller_sizes=x.params.allow_smaller_sizes||!1,z.use_pmt_rule=typeof x.params.use_payment_rule=="boolean"?x.params.use_payment_rule:typeof x.params.use_pmt_rule=="boolean"&&x.params.use_pmt_rule,z.prebid=!0,z.disable_psa=!0;let ce=function(Z){if(!(0,e.isFn)(Z.getFloor))return Z.params.reserve?Z.params.reserve:null;let ie=Z.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,e.isPlainObject)(ie)&&!isNaN(ie.floor)&&ie.currency==="USD"?ie.floor:null}(x);if(ce&&(z.reserve=ce),x.params.position)z.position={above:1,below:2}[x.params.position]||0;else{let Z=(0,u.A)(x,"mediaTypes.banner.pos")||(0,u.A)(x,"mediaTypes.video.pos");Z!==0&&Z!==1&&Z!==3||(z.position=Z===3?2:Z)}x.params.traffic_source_code&&(z.traffic_source_code=x.params.traffic_source_code),x.params.private_sizes&&(z.private_sizes=q(x.params.private_sizes)),x.params.supply_type&&(z.supply_type=x.params.supply_type),x.params.pub_click&&(z.pubclick=x.params.pub_click),x.params.ext_inv_code&&(z.ext_inv_code=x.params.ext_inv_code),x.params.publisher_id&&(z.publisher_id=parseInt(x.params.publisher_id,10)),x.params.external_imp_id&&(z.external_imp_id=x.params.external_imp_id);const ee=(0,s.T_)((0,s.gg)((0,u.A)(x,"ortb2Imp.ext.data.keywords")),(K=x.params)==null?void 0:K.keywords);ee.length>0&&(z.keywords=ee);let te=(0,u.A)(x,"ortb2Imp.ext.gpid")||(0,u.A)(x,"ortb2Imp.ext.data.pbadslot");if(te&&(z.gpid=te),(x.mediaType===j.s6||(0,u.A)(x,`mediaTypes.${j.s6}`))&&(z.ad_types.push(j.s6),z.sizes.length===0&&(z.sizes=q([1,1])),x.nativeParams)){const Z=function(ie){const ae={};return Object.keys(ie).forEach(ye=>{const Ie=a[ye]&&a[ye].serverName||a[ye]||ye,xe=a[ye]&&a[ye].requiredParams;if(ae[Ie]=Object.assign({},xe,ie[ye]),!(Ie!==a.image.serverName&&Ie!==a.icon.serverName)&&ae[Ie].sizes){let Ae=ae[Ie].sizes;((0,e.isArrayOfNums)(Ae)||(0,e.isArray)(Ae)&&Ae.length>0&&Ae.every(me=>(0,e.isArrayOfNums)(me)))&&(ae[Ie].sizes=q(ae[Ie].sizes))}Ie===a.privacyLink&&(ae.privacy_supported=!0)}),ae}(x.nativeParams);z[j.s6]={layouts:[Z]}}{const Z=(0,u.A)(x,`mediaTypes.${j.G_}`),ie=(0,u.A)(x,"mediaTypes.video.context");z.hb_source=Z&&ie==="adpod"?7:1,(x.mediaType===j.G_||Z)&&z.ad_types.push(j.G_),(x.mediaType===j.G_||Z&&ie!=="outstream")&&(z.require_asset_url=!0),x.params.video&&(z.video={},Object.keys(x.params.video).filter(ae=>(0,G.mK)(J,ae)).forEach(ae=>{switch(ae){case"context":case"playback_method":let ye=x.params.video[ae];ye=(0,e.isArray)(ye)?ye[0]:ye,z.video[ae]=d[ae][ye];break;case"frameworks":break;default:z.video[ae]=x.params.video[ae]}}),x.params.video.frameworks&&(0,e.isArray)(x.params.video.frameworks)&&(z.video_frameworks=x.params.video.frameworks)),Z&&(z.video=z.video||{},Object.keys(Z).filter(ae=>(0,G.mK)(N,ae)).forEach(ae=>{switch(ae){case"minduration":case"maxduration":typeof z.video[ae]!="number"&&(z.video[ae]=Z[ae]);break;case"skip":typeof z.video.skippable!="boolean"&&(z.video.skippable=Z[ae]===1);break;case"skipafter":typeof z.video.skipoffset!="number"&&(z.video.skippoffset=Z[ae]);break;case"playbackmethod":if(typeof z.video.playback_method!="number"){let ye=Z[ae];ye=(0,e.isArray)(ye)?ye[0]:ye,ye>=1&&ye<=4&&(z.video.playback_method=ye)}break;case"api":if(!z.video_frameworks&&(0,e.isArray)(Z[ae])){let ye=Z[ae].map(Ie=>{let xe=Ie===4?5:Ie===5?4:Ie;if(xe>=1&&xe<=5)return xe}).filter(Ie=>Ie);z.video_frameworks=ye}break;case"startdelay":case"plcmt":case"placement":if(typeof z.video.context!="number"){const ye=Z.plcmt,Ie=Z.placement,xe=Z.startdelay,Ae=function(me,E){if(me)if(me===2){if(E===void 0)return;if(E===0)return"accompanying_content_pre_roll";if(E===-1)return"accompanying_content_mid_roll";if(E===-2)return"accompanying_content_post_roll"}else{if(me===3)return"interstitial";if(me===4)return"outstream"}}(ye,xe)||function(me){if(me){if(me===2)return"in-banner";if(me===3)return"outstream";if(me===4)return"in-feed";if(me===5)return"intersitial"}}(Ie)||function(me){if(me){if(me===0)return"pre_roll";if(me===-1)return"mid_roll";if(me===-2)return"post_roll"}}(xe);z.video.context=d.context[Ae]}}})),x.renderer&&(z.video=Object.assign({},z.video,{custom_renderer_present:!0}))}return x.params.frameworks&&(0,e.isArray)(x.params.frameworks)&&(z.banner_frameworks=x.params.frameworks),(0,u.A)(x,`mediaTypes.${j.D4}`)&&z.ad_types.push(j.D4),z.ad_types.length===0&&delete z.ad_types,z}function q(x){let K=[],z={};if((0,e.isArray)(x)&&x.length===2&&!(0,e.isArray)(x[0]))z.width=parseInt(x[0],10),z.height=parseInt(x[1],10),K.push(z);else if(typeof x=="object")for(let le=0;le<x.length;le++){let ce=x[le];z={},z.width=parseInt(ce[0],10),z.height=parseInt(ce[1],10),K.push(z)}return K}function I(x){return!!x.params.user}function P(x){return!!parseInt(x.params.member,10)}function X(x){if(x.params)return!!x.params.app}function Y(x){return x.params&&x.params.app?!!x.params.app.id:!!x.params.app}function R(x){return!!x.debug}function H(x){return x.mediaTypes&&x.mediaTypes.video&&x.mediaTypes.video.context===j.LM}function T(x){let K=!1;const z=x.params,le=x.params.video;return z.frameworks&&(0,e.isArray)(z.frameworks)&&(K=(0,G.mK)(x.params.frameworks,6)),!K&&le&&le.frameworks&&(0,e.isArray)(le.frameworks)&&(K=(0,G.mK)(x.params.video.frameworks,6)),K}function S(x,K,z){(0,e.isEmpty)(x.video)&&(x.video={}),x.video[K]=z}function L(x,K){(function(z){try{const le=document.getElementById(z).querySelectorAll("div[id^='google_ads']");le[0]&&le[0].style.setProperty("display","none")}catch(le){}})(x.adUnitCode),function(z){try{const le=document.getElementById(z).querySelectorAll("script[id^='sas_script']");le[0].nextSibling&&le[0].nextSibling.localName==="iframe"&&le[0].nextSibling.style.setProperty("display","none")}catch(le){}}(x.adUnitCode),x.renderer.push(()=>{((K==null?void 0:K.defaultView)||window).ANOutstreamVideo.renderAd({tagId:x.adResponse.tag_id,sizes:[x.getSize().split("x")],targetId:x.adUnitCode,uuid:x.adResponse.uuid,adResponse:x.adResponse,rendererOptions:x.renderer.getConfig()},V.bind(null,x))})}function V(x,K,z){x.renderer.handleVideoEvent({id:K,eventName:z})}(0,B.a$)($),(0,A.E)("appnexusBidAdapter")}},re=>{re.O(0,[60802,97247,44982,95444,42698,12126,51085],()=>{return Q=50791,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[20234],{62694:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(88910),l=t(78969),y=t(11445),B=t(68044),j=t(12938),G=t(45569);const D="atsAnalytics",M=(0,j.vM)({moduleType:G.Tn,moduleName:D}),b="https://analytics.rlcdn.com";let m=[],g=[],n=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],s=["Safari","Chrome","Firefox","Microsoft Edge"];function i(){let C=h.getUserAgent();try{let O=n.filter(function(J){return J.test.test(C)}),W=O&&O.length?O[0].name:"";return s.indexOf(W)>=0?W:"Unknown"}catch(O){(0,e.logError)("ATS Analytics - Error while checking user browser!",O)}}function p(C){try{let O={Data:C},W=JSON.stringify(O);(0,e.logInfo)("ATS Analytics - tried to send analytics data!"),(0,B.RD)(b,function(){(0,e.logInfo)("ATS Analytics - events sent successfully!")},W,{method:"POST",contentType:"application/json"})}catch(O){(0,e.logError)("ATS Analytics - request encounter an error: ",O)}}let h=Object.assign((0,u.Ay)({analyticsType:"endpoint"}),{track(C){let{eventType:O,args:W}=C;W!==void 0&&h.callHandler(O,W)}});h.originEnableAnalytics=h.enableAnalytics,h.shouldFireRequest=function(C){if(C!==0){let O=Math.floor(100*Math.random()+1)===100;return(0,e.logInfo)("ATS Analytics - Should Fire Request: ",O),O}return(0,e.logInfo)("ATS Analytics - Should Fire Request: ",!1),!1},h.getUserAgent=function(){return window.navigator.userAgent},h.setSamplingCookie=function(C){const O=new Date;O.setTime(O.getTime()+864e5),M.setCookie("_lr_sampling_rate",C,O.toUTCString())},h.enableAnalytics=function(C){if(!C.options.pid)return void(0,e.logError)("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work");h.context={events:[],pid:C.options.pid,bidWonTimeout:C.options.bidWonTimeout};let O=C.options;(0,e.logInfo)("ATS Analytics - adapter enabled! "),h.originEnableAnalytics(O)},h.callHandler=function(C,O){if(C===l.qY.BID_REQUESTED?m=m.concat(function(W){let J,N=M.getCookie("_lr_env_src_ats")==="true";return J=W.bids.map(function(F){return{envelope_source:N,has_envelope:!!F.userId&&!!F.userId.idl_env,bidder:F.bidder,bid_id:F.bidId,auction_id:W.auctionId,user_browser:i(),user_platform:navigator.platform,auction_start:new Date(W.auctionStart).toJSON(),domain:window.location.hostname,pid:h.context.pid,adapter_version:3,bid_won:!1}}),J}(O)):C===l.qY.BID_RESPONSE&&g.push(function(W){return{bid_id:W.requestId,response_time_stamp:new Date(W.responseTimestamp).toJSON(),currency:W.currency,cpm:W.cpm,net_revenue:W.netRevenue}}(O)),C===l.qY.AUCTION_END){let W=h.context.bidWonTimeout?h.context.bidWonTimeout:2e3,J=[];setTimeout(()=>{let N=(0,A.m)().getAllWinningBids();if((0,e.logInfo)("ATS Analytics - winning bids: ",N),m.length){let F={};g.length?(J=m.filter(U=>g.filter(function(f){U.bid_id===f.bid_id&&Object.assign(U,f)})),N.length&&(J=J.filter(U=>N.filter(function(f){F.bid_id=f.requestId,F.bid_won=!0,U.bid_id===F.bid_id&&Object.assign(U,F)})))):J=m;try{let U=M.getCookie("_lr_sampling_rate");U?h.shouldFireRequest(parseInt(U))&&((0,e.logInfo)("ATS Analytics - events to send: ",J),p(J)):function(f){(0,e.logInfo)("ATS Analytics - preflight request!"),(0,B.RD)("https://check.analytics.rlcdn.com/check/"+h.context.pid,{success:function(o){let d=JSON.parse(o);(0,e.logInfo)("ATS Analytics - Sampling Rate: ",d);let a=d.samplingRate;h.setSamplingCookie(a);let r=Number(a);o&&a&&h.shouldFireRequest(r)&&((0,e.logInfo)("ATS Analytics - events to send: ",f),p(f))},error:function(){h.setSamplingCookie(0),(0,e.logInfo)("ATS Analytics - Sampling Rate Request Error!")}},void 0,{method:"GET",crossOrigin:!0})}(J),J=[]}catch(U){(0,e.logError)("ATS Analytics - preflight request encounter an error: ",U)}}},W)}},y.Ay.registerAnalyticsAdapter({adapter:h,code:D,gvlid:97}),(0,A.E)("atsAnalyticsAdapter")}},re=>{re.O(0,[2630,60802,51085],()=>{return Q=62694,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[15081],{66117:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(63172),l=t(43272),y=t(16916),B=t(15901),j=t(1e3),G=t(20687),D=t(20965),M=t(63806);const b=2;let m,g,n,s,i,p,h=!1,C=!1;const O={iab:function(U){let{onSuccess:f,onError:o,onEvent:d}=U;const a=(0,D.c5)({apiName:"__tcfapi",apiVersion:b,apiArgs:["command","version","callback","parameter"]});if(!a)return o("TCF2 CMP not found.");a.isDirect?(0,e.logInfo)("Detected CMP API is directly accessible, calling it now..."):(0,e.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),a({command:"addEventListener",callback:function(r,w){(0,e.logInfo)("Received a response from CMP",r),w?(d(r),r.gdprApplies!==!1&&r.eventStatus!=="tcloaded"&&r.eventStatus!=="useractioncomplete"||N(r,{onSuccess:f,onError:o})):o("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(U){let{onSuccess:f,onError:o}=U;N(s,{onSuccess:f,onError:o})}};function W(U){let f,o,d=!1,a=null,r=!1;function w(v){a!=null&&clearTimeout(a),d||v==null||(v===0?f():a=setTimeout(f,v))}function _(v,$,k){if(w(null),d=!0,y.mW.setConsentData(v),typeof U=="function"){for(var q=arguments.length,I=new Array(q>3?q-3:0),P=3;P<q;P++)I[P-3]=arguments[P];U($,k,...I)}}if(!(0,B.mK)(Object.keys(O),m))return void _(null,!1,`CMP framework (${m}) is not a supported framework.  Aborting consentManagement module and resuming auction.`);const c={onSuccess:v=>_(v,!1),onError:function(v){for(var $=arguments.length,k=new Array($>1?$-1:0),q=1;q<$;q++)k[q-1]=arguments[q];_(null,!0,v,...k)},onEvent:function(v){o=v,r||(r=!0,i!=null&&w(i))}};f=()=>{const v=$=>{_($,!1,(r?"Timeout waiting for user action on CMP":"CMP did not load")+", continuing auction...")};N(o,{onSuccess:v,onError:()=>v(F(void 0))})},O[m](c),i!=null&&r||w(g)}const J=(0,M.R)("gdpr",()=>p,W);function N(U,f){let{onSuccess:o,onError:d}=f;(function(){const a=U&&typeof U.gdprApplies=="boolean"?U.gdprApplies:n,r=U&&U.tcString;return!(typeof a=="boolean"&&(a!==!0||r&&(0,e.isStr)(r)))})()?d("CMP returned unexpected value during lookup process.",U):o(F(U))}function F(U){return p={consentString:U?U.tcString:void 0,vendorData:U||void 0,gdprApplies:U&&typeof U.gdprApplies=="boolean"?U.gdprApplies:n},U&&U.addtlConsent&&(0,e.isStr)(U.addtlConsent)&&(p.addtlConsent=U.addtlConsent),p.apiVersion=b,p}l.$W.getConfig("consentManagement",U=>function(f){(f=f&&(f.gdpr||f.usp||f.gpp?f.gdpr:f))&&typeof f=="object"?((0,e.isStr)(f.cmpApi)?m=f.cmpApi:(m="iab",(0,e.logInfo)("consentManagement config did not specify cmp.  Using system default setting (iab).")),(0,e.isNumber)(f.timeout)?g=f.timeout:(g=1e4,(0,e.logInfo)("consentManagement config did not specify timeout.  Using system default setting (10000).")),i=(0,e.isNumber)(f.actionTimeout)?f.actionTimeout:null,n=f.defaultGdprScope===!0,h=!!f.dsaPlatform,(0,e.logInfo)("consentManagement module has been activated..."),m==="static"&&((0,e.isPlainObject)(f.consentData)?(s=f.consentData,(s==null?void 0:s.getTCData)!=null&&(s=s.getTCData),g=0):(0,e.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),C||(0,A.m)().requestBids.before(J,50),C=!0,y.mW.enable(),W()):(0,e.logWarn)("consentManagement (gdpr) config not defined, exiting consent manager")}(U.consentManagement)),G.w.before(function(U,f){return U(f.then(o=>{const d=y.mW.getConsentData();return d&&(typeof d.gdprApplies=="boolean"&&(0,u.J)(o,"regs.ext.gdpr",d.gdprApplies?1:0),(0,u.J)(o,"user.ext.consent",d.consentString)),h&&(0,u.J)(o,"regs.ext.dsa.dsarequired",3),o}))}),(0,j.pS)({type:j.S3,name:"gdprAddtlConsent",fn:function(U,f){var o;const d=(o=f.gdprConsent)==null?void 0:o.addtlConsent;d&&typeof d=="string"&&(0,u.J)(U,"user.ext.ConsentedProvidersSettings.consented_providers",d)}}),(0,A.E)("consentManagementTcf")}},re=>{re.O(0,[60802,57109,90010,51085],()=>{return Q=66117,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[98662],{86056:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(63172),l=t(43272),y=t(11445),B=t(16916),j=t(16894),G=t(16833),D=t(20687),M=t(20965);const b="iab";let m,g,n=b,s=50,i=!1;const p={iab:function(J){let{onSuccess:N,onError:F}=J,U=function(){const o={};return{consentDataCallback:(d,a)=>{a&&d.uspString&&(o.usPrivacy=d.uspString),o.usPrivacy?O(o,{onSuccess:N,onError:F}):F("Unable to get USP consent string.")}}}();const f=(0,M.c5)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!f)return F("USP CMP not found.");f.isDirect?(0,e.logInfo)("Detected USP CMP is directly accessible, calling it now..."):(0,e.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),f({command:"getUSPData",callback:U.consentDataCallback}),f({command:"registerDeletion",callback:(o,d)=>(d==null||d)&&y.Ay.callDataDeletionRequest(o)}).catch(o=>{(0,e.logError)("Error invoking CMP `registerDeletion`:",o)})},static:function(J){let{onSuccess:N,onError:F}=J;O(m,{onSuccess:N,onError:F})}};function h(J){let N=null,F=!1;function U(o,d){if(N!=null&&clearTimeout(N),F=!0,B.t6.setConsentData(o),J!=null){for(var a=arguments.length,r=new Array(a>2?a-2:0),w=2;w<a;w++)r[w-2]=arguments[w];J(d,...r)}}if(!p[n])return void U(null,`USP framework (${n}) is not a supported framework. Aborting consentManagement module and resuming auction.`);const f={onSuccess:U,onError:function(o){for(var d=arguments.length,a=new Array(d>1?d-1:0),r=1;r<d;r++)a[r-1]=arguments[r];U(null,`${o} Resuming auction without consent data as per consentManagement config.`,...a)}};p[n](f),F||(s===0?O(void 0,f):N=setTimeout(f.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),s))}const C=(0,j.Ak)("usp",function(J,N){var F=this;i||W(),h(function(U){if(U!=null){for(var f=arguments.length,o=new Array(f>1?f-1:0),d=1;d<f;d++)o[d-1]=arguments[d];(0,e.logWarn)(U,...o)}J.call(F,N)})});function O(J,N){let{onSuccess:F,onError:U}=N;!J||!J.usPrivacy?U("USPAPI returned unexpected value during lookup process.",J):(function(f){f&&f.usPrivacy&&(g=f.usPrivacy)}(J),F(g))}function W(){let J=arguments.length>0&&arguments[0]!==void 0&&arguments[0];i||((0,e.logInfo)("USPAPI consentManagement module has been activated"+(J?"":` using default values (api: '${n}', timeout: ${s}ms)`)),i=!0,B.t6.enable()),h()}l.$W.getConfig("consentManagement",J=>function(N){(N=N&&N.usp)&&typeof N=="object"||(0,e.logWarn)("consentManagement.usp config not defined, using defaults"),N&&(0,e.isStr)(N.cmpApi)?n=N.cmpApi:(n=b,(0,e.logInfo)(`consentManagement.usp config did not specify cmpApi. Using system default setting (${b}).`)),N&&(0,e.isNumber)(N.timeout)?s=N.timeout:(s=50,(0,e.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (50).")),n==="static"&&((0,e.isPlainObject)(N.consentData)&&(0,e.isPlainObject)(N.consentData.getUSPData)?(N.consentData.getUSPData.uspString&&(m={usPrivacy:N.consentData.getUSPData.uspString}),s=0):(0,e.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),W(!0)}(J.consentManagement)),(0,G.Yn)("requestBids").before(C,50),D.w.before(function(J,N){return J(N.then(F=>{const U=B.t6.getConsentData();return U&&(0,u.J)(F,"regs.ext.us_privacy",U),F}))}),(0,A.E)("consentManagementUsp")}},re=>{re.O(0,[57109,60802,51085],()=>{return Q=86056,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[21829],{91493:(re,Q,t)=>{var A=t(7873),e=t(63172),u=t(70433),l=t(91069),y=t(57377),B=t(71371),j=t(12938),G=t(27934),D=t(82621),M=t(95789),b=t(63895),m=t(68044),g=t(89766),n=t(54406);const s="criteo",i="https://grid-bidder.criteo.com/openrtb_2_5/pbjs/auction/request",p=(0,j.vM)({bidderCode:s}),h="Criteo: ",C=(0,n.FE)(),O="https://static.criteo.net/js/ld/publishertag.renderer.js",W="cto_optout",J="cto_bundle",N=(0,g.A)({context:{netRevenue:!0,ttl:60},imp:function(_,c,v){var $;let k=_(c,v);const q=c.params;if(k.tagid=c.adUnitCode,(0,e.J)(k,"ext",ot(Fe(Fe({},c.params.ext),k.ext),{rwdd:k.rwdd,floors:w(c),bidder:{publishersubid:q==null?void 0:q.publisherSubId,zoneid:q==null?void 0:q.zoneId,uid:q==null?void 0:q.uid}})),delete k.rwdd,!v.fledgeEnabled&&(($=k.ext.igs)!=null&&$.ae)&&delete k.ext.igs.ae,r(c)){const I=c.params.video;I!==void 0&&(0,e.J)(k,"video",ot(Fe({},k.video),{skip:k.video.skip||I.skip||0,placement:k.video.placement||I.placement,minduration:k.video.minduration||I.minduration,playbackmethod:k.video.playbackmethod||I.playbackmethod,startdelay:k.video.startdelay||I.startdelay||0})),(0,e.J)(k,"video.ext",{context:c.mediaTypes.video.context,playersizes:d((0,u.A)(c,"mediaTypes.video.playerSize"),a),plcmt:c.mediaTypes.video.plcmt,poddur:c.mediaTypes.video.adPodDurationSec,rqddurs:c.mediaTypes.video.durationRangeSec})}if(k.native&&k.native.request!==void 0){let I=JSON.parse(k.native.request);I.assets&&(I.assets.length!==1||Object.keys(I.assets[0]).length)||delete I.assets,(0,e.J)(k,"native.request_native",I),delete k.native.request}return k},request:function(_,c,v,$){let k=_(c,v,$);return $.publisherId!==void 0&&(k.app!==void 0?(0,e.J)(k,"app.publisher.id",$.publisherId):(0,e.J)(k,"site.publisher.id",$.publisherId)),v&&v.gdprConsent&&(0,e.J)(k,"regs.ext.gdprversion",v.gdprConsent.apiVersion),k=C(k),k},bidResponse:function(_,c,v){var $;v.mediaType=(0,u.A)(c,"ext.mediatype"),v.mediaType===B.s6&&c.adm_native!==void 0&&(c.adm=c.adm_native,delete c.adm_native);let k=_(c,v);const{bidRequest:q}=v;return k.currency=(0,u.A)(c,"ext.cur"),(0,u.A)(c,"ext.meta")!==void 0&&(0,e.J)(k,"meta",Fe(Fe({},k.meta),c.ext.meta)),(0,u.A)(c,"ext.paf.content_id")!==void 0&&(0,e.J)(k,"meta.paf.content_id",c.ext.paf.content_id),k.mediaType===B.G_&&(k.vastUrl=($=c.ext)==null?void 0:$.displayurl,(0,u.A)(q,"mediaTypes.video.context")===b.H6&&(k.renderer=function(I){var P,X;if(((P=I.ext)==null?void 0:P.videoPlayerConfig)===void 0||((X=I.ext)==null?void 0:X.videoPlayerType)===void 0)return;const Y={documentResolver:(T,S,L)=>L!=null?L:S},R=(T,S)=>{var L;let V={slotid:I.id,vastUrl:(L=I.ext)==null?void 0:L.displayurl,vastXml:I.adm,documentContext:S},x=I.ext.videoPlayerConfig;window.CriteoOutStream[I.ext.videoPlayerType].play(V,x)},H=M.A4.install({url:O,config:Y});return H.setRender(R),H}(c))),k},response:function(_,c,v,$){let k=_(c,v,$);const q=(0,u.A)(v,"ext.paf.transmission");return k.bids.forEach(I=>{q!==void 0&&(0,u.A)(I,"meta.paf.content_id")!==void 0?(0,e.J)(I,"meta.paf.transmission",q):delete I.meta.paf}),k}}),F={code:s,gvlid:91,supportedMediaTypes:[B.D4,B.G_,B.s6],getUserSyncs:function(_,c,v,$){let k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},{gppString:q="",applicableSections:I=[]}=k;const P=(0,G.EN)(),X="criteoPrebidAdapter";if(_.iframeEnabled&&(0,D.C)(v)){const Y=[];if(Y.push(`origin=${X}`),Y.push(`topUrl=${P.domain}`),v&&(v.gdprApplies&&Y.push("gdpr="+(v.gdprApplies==1?1:0)),v.consentString&&Y.push(`gdpr_consent=${v.consentString}`)),$&&Y.push(`us_privacy=${$}`),Y.push(`gpp=${q}`),Array.isArray(I))for(const S of I)Y.push(`gpp_sid=${S}`);const R=Math.random().toString(),H={bundle:U(J),cw:p.cookiesAreEnabled(),lsw:p.localStorageIsEnabled(),optoutCookie:U(W),origin:X,requestId:R,tld:P.domain,topUrl:P.domain,version:"9.8.0-pre".replace(/\./g,"_")};window.addEventListener("message",function S(L){if(!L.data||L.origin!="https://gum.criteo.com"||L.data.requestId!==R)return;this.removeEventListener("message",S),L.stopImmediatePropagation();const V=L.data;V.optout?(o(J),f(W,!0,43200)):V.bundle&&f(J,V.bundle,9360)},!0);const T=JSON.stringify(H).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${Y.join("&")}#${T}`}]}if(_.pixelEnabled&&(0,D.C)(v)){const Y=[];if(Y.push("profile=207"),v&&(v.gdprApplies===!0&&Y.push("gdprapplies=true"),v.consentString&&Y.push(`gdpr=${v.consentString}`)),$&&Y.push(`ccpa=${$}`),Y.push(`gpp=${q}`),Array.isArray(I))for(const R of I)Y.push(`gpp_sid=${R}`);return[{type:"image",url:`https://ssp-sync.criteo.com/user-sync/redirect?${Y.join("&")}`}]}return[]},isBidRequestValid:_=>!(!_||!_.params||!_.params.zoneId&&!_.params.networkId)&&!(r(_)&&!function(c){let v=!0;return["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach(function($){$==="placement"?(0,u.A)(c,"mediaTypes.video."+$)===void 0&&(0,u.A)(c,"params.video."+$)===void 0&&(0,u.A)(c,"mediaTypes.video.plcmt")===void 0&&(0,u.A)(c,"params.video.plcmt")===void 0&&(v=!1,(0,l.logError)("Criteo Bid Adapter: mediaTypes.video."+$+" or mediaTypes.video.plcmt is required")):(0,u.A)(c,"mediaTypes.video."+$)===void 0&&(0,u.A)(c,"params.video."+$)===void 0&&(v=!1,(0,l.logError)("Criteo Bid Adapter: mediaTypes.video."+$+" is required"))}),v}(_)),buildRequests:(_,c)=>{_.forEach(q=>{(function(I){return(0,u.A)(I,"mediaTypes.native")!==void 0})(q)&&(function(I){return!(I.nativeParams&&(I.nativeParams.image&&(I.nativeParams.image.sendId!==!0||I.nativeParams.image.sendTargetingKeys===!0)||I.nativeParams.icon&&(I.nativeParams.icon.sendId!==!0||I.nativeParams.icon.sendTargetingKeys===!0)||I.nativeParams.clickUrl&&(I.nativeParams.clickUrl.sendId!==!0||I.nativeParams.clickUrl.sendTargetingKeys===!0)||I.nativeParams.displayUrl&&(I.nativeParams.displayUrl.sendId!==!0||I.nativeParams.displayUrl.sendTargetingKeys===!0)||I.nativeParams.privacyLink&&(I.nativeParams.privacyLink.sendId!==!0||I.nativeParams.privacyLink.sendTargetingKeys===!0)||I.nativeParams.privacyIcon&&(I.nativeParams.privacyIcon.sendId!==!0||I.nativeParams.privacyIcon.sendTargetingKeys===!0)))}(q)||(0,l.logWarn)(h+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),(0,u.A)(q,"nativeOrtbRequest.assets")==null&&((0,l.logWarn)(h+"native asset requirements are missing"),(0,e.J)(q,"nativeOrtbRequest.assets",[{}])))});const v=function(q,I){var P,X,Y,R,H;const T=(0,l.parseUrl)((P=I==null?void 0:I.refererInfo)==null?void 0:P.topmostLocation).search;return{url:((X=I==null?void 0:I.refererInfo)==null?void 0:X.page)||"",debug:T.pbt_debug==="1",noLog:T.pbt_nolog==="1",fledgeEnabled:(Y=I.paapi)==null?void 0:Y.enabled,amp:q.some(S=>S.params.integrationMode==="amp"),networkId:(R=q.find(S=>{var L;return(L=S.params)==null?void 0:L.networkId}))==null?void 0:R.params.networkId,publisherId:(H=q.find(S=>{var L;return(L=S.params)==null?void 0:L.pubid}))==null?void 0:H.params.pubid}}(_,c),$=function(q){let I=i;I+="?profileId=207",I+="&av="+String(37),I+="&wv="+encodeURIComponent("9.8.0-pre"),I+="&cb="+String(Math.floor(99999999999*Math.random())),p.localStorageIsEnabled()?I+="&lsavail=1":I+="&lsavail=0",q.amp&&(I+="&im=1"),q.debug&&(I+="&debug=1"),q.noLog&&(I+="&nolog=1");const P=U(J);return P&&(I+=`&bundle=${P}`),U(W)&&(I+="&optout=1"),q.networkId&&(I+="&networkId="+q.networkId),I}(v),k=N.toORTB({bidderRequest:c,bidRequests:_,context:v});if(k)return{method:"POST",url:$,data:k,bidRequests:_}},interpretResponse:(_,c)=>{var v;if((_==null?void 0:_.body)===void 0)return[];const $=N.fromORTB({response:_.body,request:c.data}).bids||[],k=(v=(0,u.A)(_.body,"ext.igi"))==null?void 0:v.filter(q=>(0,l.isArray)(q==null?void 0:q.igs)).flatMap(q=>q.igs);return k!=null&&k.length?{bids:$,paapi:k}:$},onDataDeletionRequest:_=>{const c=U(J);c&&(o(J),(0,m.RD)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:c}),{contentType:"application/json",method:"POST"}))}};function U(_){const c=p.getCookie(_),v=p.getDataFromLocalStorage(_);return c||v||void 0}function f(_,c,v){const $=new Date;$.setTime($.getTime()+60*v*60*1e3);const k=`expires=${$.toUTCString()}`;p.setCookie(_,c,k),p.setDataInLocalStorage(_,c)}function o(_){p.setCookie(_,"",0),p.removeDataFromLocalStorage(_)}function d(_){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v=>v;return _==null?[]:Array.isArray(_[0])?_.map(v=>c(v)):[c(_)]}function a(_){return _[0]+"x"+_[1]}function r(_){return(0,u.A)(_,"mediaTypes.video")!==void 0}function w(_){var c,v,$;try{const k={},q=function(I){if(I.getFloor)return I.getFloor;if(I.params.bidFloor&&I.params.bidFloorCur)try{const P=parseFloat(I.params.bidFloor);return()=>({currency:I.params.bidFloorCur,floor:P})}catch(P){}}(_);if(q)return(c=_.mediaTypes)!=null&&c.banner&&(k.banner={},d((0,u.A)(_,"mediaTypes.banner.sizes")).forEach(I=>k.banner[a(I).toString()]=q.call(_,{size:I,mediaType:B.D4}))),(v=_.mediaTypes)!=null&&v.video&&(k.video={},d((0,u.A)(_,"mediaTypes.video.playerSize")).forEach(I=>k.video[a(I).toString()]=q.call(_,{size:I,mediaType:B.G_}))),($=_.mediaTypes)!=null&&$.native&&(k.native={},k.native["*"]=q.call(_,{size:"*",mediaType:B.s6})),k}catch(k){(0,l.logError)("Could not parse floors from Prebid: "+k)}}(0,y.a$)(F),(0,A.E)("criteoBidAdapter")}},re=>{re.O(0,[60802,58498,15889,51085],()=>{return Q=91493,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[70931],{32843:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(68044),l=t(27934),y=t(16833),B=t(12938),j=t(45569),G=t(16916);const D="criteo",M=(0,B.vM)({moduleType:j.fW,moduleName:D}),b="cto_bidid",m="cto_bundle",g="html5",n="cookie",s=new Date(0).toString(),i=new Date((0,e.timestamp)()+33696e6).toString();function p(N){let F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const U=(0,e.parseUrl)(N,{noDecodeWholeURL:!0});return F?`${U.hostname}`:`${U.protocol}://${U.hostname}${U.port?":"+U.port:""}/`}function h(N,F){var U,f;return((U=N==null?void 0:N.storage)==null?void 0:U.type)===g?M.getDataFromLocalStorage(F):((f=N==null?void 0:N.storage)==null?void 0:f.type)===n?M.getCookie(F):M.getCookie(F)||M.getDataFromLocalStorage(F)}function C(N,F,U,f){var o,d;F&&U&&(((o=N==null?void 0:N.storage)==null?void 0:o.type)===g?M.setDataInLocalStorage(F,U):(((d=N==null?void 0:N.storage)==null?void 0:d.type)===n||M.setDataInLocalStorage(F,U),O(F,U,i,f,!0)))}function O(N,F,U,f,o){const d=f.split(".");for(let a=0;a<d.length;++a){const r=d.slice(d.length-a-1,d.length).join(".");try{if(M.setCookie(N,F,U,null,"."+r),o){const w=M.getCookie(N);if(w&&w===F)break}}catch(w){}}}function W(N,F,U){var f,o,d,a;const r=(((f=N==null?void 0:N.storage)==null?void 0:f.type)===void 0||((o=N==null?void 0:N.storage)==null?void 0:o.type)===n)&&M.cookiesAreEnabled(),w=(((d=N==null?void 0:N.storage)==null?void 0:d.type)===void 0||((a=N==null?void 0:N.storage)==null?void 0:a.type)===g)&&M.localStorageIsEnabled(),_=p((0,l.EN)().page),c=p(document.location.href,!0),v=typeof criteo_pubtag!="undefined",$=function(q,I,P,X,Y,R,H){let T="https://gum.criteo.com/sid/json?origin=prebid"+(q?"&topUrl="+encodeURIComponent(q):"")+(I?"&domain="+encodeURIComponent(I):"")+(P?"&bundle="+encodeURIComponent(P):"")+(X?"&info="+encodeURIComponent(X):"")+(Y?"&cw=1":"")+(H?"&pbt=1":"")+(R?"&lsw=1":"");const S=G.t6.getConsentData();S&&(T+=`&us_privacy=${encodeURIComponent(S)}`);const L=G.mW.getConsentData();L&&(T=T+(L.consentString?"&gdprString="+encodeURIComponent(L.consentString):""),T=T+"&gdpr="+(L.gdprApplies===!0?1:0));const V=G.ad.getConsentData();return V&&(T=T+(V.gppString?"&gpp="+encodeURIComponent(V.gppString):""),T=T+(V.applicableSections?"&gpp_sid="+encodeURIComponent(V.applicableSections):"")),T}(_,c,F.bundle,F.dnaBundle,r,w,v),k={success:q=>{const I=JSON.parse(q);if(I.pixels&&I.pixels.forEach(X=>function(Y,R,H){H.writeBundleInStorage&&H.bundlePropertyName&&H.storageKeyName?(0,u.RD)(H.pixelUrl,{success:T=>{if(T){const S=JSON.parse(T);S&&S[H.bundlePropertyName]&&C(Y,H.storageKeyName,S[H.bundlePropertyName],R)}},error:T=>{(0,e.logError)("criteoIdSystem: unable to sync user id",T)}},void 0,{method:"GET",withCredentials:!0}):(0,e.triggerPixel)(H.pixelUrl)}(N,c,X)),I.acwsUrl?(typeof I.acwsUrl=="string"?[I.acwsUrl]:I.acwsUrl).forEach(X=>(0,e.triggerPixel)(X)):I.bundle&&C(N,m,I.bundle,c),I.bidId){C(N,b,I.bidId,c);const X={criteoId:I.bidId};U(X)}else O(P=b,"",s,c,!0),M.removeDataFromLocalStorage(P),U();var P},error:q=>{(0,e.logError)("criteoIdSystem: unable to sync user id",q),U()}};(0,u.RD)($,k,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}const J={name:D,gvlid:91,decode:N=>N,getId(N){let F=function(U){return{bundle:h(U,m),dnaBundle:h(U,"cto_dna_bundle"),bidId:h(U,b)}}(N);return{id:F.bidId?{criteoId:F.bidId}:void 0,callback:U=>W(N,F,U)}},eids:{criteoId:{source:"criteo.com",atype:1}}};(0,y.bz)("userId",J),(0,A.E)("criteoIdSystem")}},re=>{re.O(0,[60802,51085],()=>{return Q=32843,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[36050],{96480:(re,Q,t)=>{var A=t(7873),e=t(25246),u=t(51252),l=t(10201),y=t(16916),B=t(51692),j=t(67314),G=t(43272),D=t(78969),M=t(75023),b=t(16833),m=t(27934),g=t(97779),n=t(91069),s=t(70433);const i={ri:m.EN};function p(C,O,W){return(0,s.A)(O,`${W}.description_url`)||encodeURIComponent(i.ri().page)}function h(C,O,W){const J=C&&C.adserverTargeting||{};let N={};const F=O&&O.adUnit;if(F){let a=g.iS.getAllTargeting(F.code);N=a?a[F.code]:{}}const U=Object.assign({},{hb_uuid:C&&C.videoCacheKey},{hb_cache_id:C&&C.videoCacheKey},N,J);M.emit(D.qY.SET_TARGETING,{[F.code]:U});const f=(0,s.A)(O,"params.cust_params"),o=Object.assign({},U,f);let d=encodeURIComponent((0,n.formatQS)(o));return W&&(d=W+"%26"+d),d}G.$W.getConfig("brandCategoryTranslation.translationFile")&&(0,b.Yn)("registerAdserver").before(function(C){C.call(this,"dfp")}),(0,l.U)("dfp",{buildVideoUrl:function(C){var O,W,J,N,F,U;if(!C.params&&!C.url)return void(0,n.logError)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl");const f=C.adUnit,o=C.bid||g.iS.getWinningBids(f.code)[0];let d={};if(C.url&&(d=(0,n.parseUrl)(C.url,{noDecodeWholeURL:!0}),(0,n.isEmpty)(C.params)))return function(P,X,Y){const R=p(X,P,"search");return R&&(P.search.description_url=R),P.search.cust_params=h(X,Y,P.search.cust_params),(0,n.buildUrl)(P)}(d,o,C);const a={correlator:Date.now(),sz:(0,n.parseSizesInput)((0,s.A)(f,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},r=d.search,w=r&&r.sz;w&&(a.sz=w+"|"+a.sz);let _=h(o,C,r&&r.cust_params);const c=Object.assign({},e.Mu,d.search,a,C.params,{cust_params:_}),v=p(o,C,"params");v&&(c.description_url=v);const $=y.mW.getConsentData();if((0,e.ec)($,c),!c.ppid){const P=(0,B.Q)();P!=null&&(c.ppid=P)}const k=(W=(O=C.adUnit)==null?void 0:O.mediaTypes)==null?void 0:W.video;Object.entries({plcmt:()=>k==null?void 0:k.plcmt,min_ad_duration:()=>(0,n.isNumber)(k==null?void 0:k.minduration)?1e3*k.minduration:null,max_ad_duration:()=>(0,n.isNumber)(k==null?void 0:k.maxduration)?1e3*k.maxduration:null,vpos(){const P=k==null?void 0:k.startdelay;if((0,n.isNumber)(P))return P===-2?"postroll":P===-1||P>0?"midroll":"preroll"},vconp:()=>Array.isArray(k==null?void 0:k.playbackmethod)&&k.playbackmethod.every(P=>P===7)?"2":void 0,vpa(){if(Array.isArray(k==null?void 0:k.playbackmethod)){const P=k.playbackmethod.some(Y=>Y===3),X=k.playbackmethod.some(Y=>[1,2,4,5,6].includes(Y));if(P&&!X)return"click";if(X&&!P)return"auto"}},vpmute(){if(Array.isArray(k==null?void 0:k.playbackmethod)){const P=k.playbackmethod.some(Y=>[2,6].includes(Y)),X=k.playbackmethod.some(Y=>[1,3,4,5].includes(Y));if(P&&!X)return"1";if(X&&!P)return"0"}}}).forEach(P=>{let[X,Y]=P;if(!c.hasOwnProperty(X)){const R=Y();R!=null&&(c[X]=R)}});const q=(U=(J=j.n.index.getBidRequest(C.bid||{}))==null?void 0:J.ortb2)!=null?U:(F=(N=j.n.index.getAuction(C.bid||{}))==null?void 0:N.getFPD())==null?void 0:F.global,I=(0,u.eu)(q);return I.length&&(c.ppsj=btoa(JSON.stringify({PublisherProvidedTaxonomySignals:I}))),(0,n.buildUrl)(Object.assign({},e.P8,d,{search:c}))}}),(0,A.E)("dfpAdServerVideo")}},re=>{re.O(0,[60802,33005,47650,51085],()=>{return Q=96480,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[21807],{88178:(re,Q,t)=>{var A=t(7873),e=t(43272),u=t(16833),l=t(91069),y=t(25555),B=t(16894);let j=[];const G=(0,B.Ak)("fpd",function(D,M){(function(){let{global:b={},bidder:m={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=e.$W.getConfig("firstPartyData")||{},n=y.k.resolve({global:b,bidder:m});return j.sort((s,i)=>(s.queue||1)-(i.queue||1)).forEach(s=>{n=n.then(i=>{let{global:p,bidder:h}=i;return y.k.resolve(s.processFpd(g,{global:p,bidder:h})).catch(C=>((0,l.logError)(`Error in FPD module ${s.name}`,C),{})).then(C=>({global:C.global||p,bidder:C.bidder||h}))})}),n})(M.ortb2Fragments).then(b=>{Object.assign(M.ortb2Fragments,b),D.call(this,M)})});(0,u.xG)("firstPartyData",function(D){j.push(D)}),(0,u.Yn)("startAuction").before(G,10),(0,A.E)("fpdModule")}},re=>{re.O(0,[60802,51085],()=>{return Q=88178,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4584],{84232:(re,Q,t)=>{var A=t(7873),e=t(51252),u=t(67314),l=t(43272),y=t(78969),B=t(16833),j=t(15901),G=t(91069),D=t(63172),M=t(70433);let b={},m=!1;function g(C){return(0,e.eu)(C)}const n=C=>(l.$W.getConfig("gptPreAuction")||{}).mcmEnabled?C.replace(/(^\/\d*),\d*\//,"$1/"):C;function s(C){(0,G.logWarn)("pbadslot is deprecated and will soon be removed, use gpid instead",C)}const i=function(C,O){(f=>{const{customGptSlotMatching:o}=b;if(!(0,G.isGptPubadsDefined)())return;const d=f.reduce((a,r)=>(a[r.code]=a[r.code]||[],a[r.code].push(r),a),{});window.googletag.pubads().getSlots().forEach(a=>{const r=(0,j.I6)(Object.keys(d),o?o(a):(0,G.isAdUnitCodeMatchingSlot)(a));if(r){const w={name:"gam",adslot:n(a.getAdUnitPath())};d[r].forEach(_=>{var c,v,$;(0,D.J)(_,"ortb2Imp.ext.data.adserver",Object.assign({},($=(v=(c=_.ortb2Imp)==null?void 0:c.ext)==null?void 0:v.data)==null?void 0:$.adserver,w))})}})})(O);const{useDefaultPreAuction:W,customPreAuction:J}=b;O.forEach(f=>{var o;f.ortb2Imp=f.ortb2Imp||{},f.ortb2Imp.ext=f.ortb2Imp.ext||{},f.ortb2Imp.ext.data=f.ortb2Imp.ext.data||{};const d=f.ortb2Imp.ext;if(J||W){(o=d.data)!=null&&o.pbadslot&&s(f);let a,r=(0,M.A)(d,"data.adserver.adslot");J?a=J(f,r):W&&(a=((w,_)=>{const c=w.ortb2Imp.ext.data;if(c.pbadslot)return c.pbadslot;if((0,G.isGptPubadsDefined)()){var v=window.googletag.pubads().getSlots().filter($=>$.getAdUnitPath()===_);if(v.length!==0)return v.length===1?_:`${_}#${w.code}`}})(f,r)),a&&(d.gpid=d.data.pbadslot=a)}else{s(f);const a=(r=>{const w=r.ortb2Imp.ext.data,{customPbAdSlot:_}=b;if(!w.pbadslot)if(_)w.pbadslot=_(r.code,(0,M.A)(w,"adserver.adslot"));else{try{const c=document.getElementById(r.code);if(c.dataset.adslotid)return void(w.pbadslot=c.dataset.adslotid)}catch(c){}if(!(0,M.A)(w,"adserver.adslot"))return w.pbadslot=r.code,!0;w.pbadslot=w.adserver.adslot}})(f);d.gpid||a||(d.gpid=d.data.pbadslot)}});for(var N=arguments.length,F=new Array(N>2?N-2:0),U=2;U<N;U++)F[U-2]=arguments[U];return C.call(void 0,O,...F)},p=(C,O)=>{const W=function(J){const N={};return e.Cn.forEach(F=>{const U=J.flatMap(f=>f).filter(f=>f.taxonomy===F).map(f=>f.values);N[F]=U.length?U.reduce((f,o)=>f.filter(d=>o.includes(d))):[],N[F]={values:N[F]}}),N}(function(J){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.n.index;return J.map(F=>{var U,f;return(f=(U=N.getAuction({auctionId:F}))==null?void 0:U.getFPD())==null?void 0:f.global}).map(g).filter(F=>F)}(function(J){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.n;return Object.values(J).flatMap(F=>Object.entries(F)).filter(F=>F[0]===y.xS.AD_ID||F[0].startsWith(y.xS.AD_ID+"_")).flatMap(F=>F[1]).map(F=>{var U;return(U=N.findBidByAdId(F))==null?void 0:U.auctionId}).filter(F=>F!=null).filter(G.uniques)}(O)));window.googletag.setConfig&&window.googletag.setConfig({pps:{taxonomies:W}}),C(O)},h=C=>{b=(0,G.pick)(C,["enabled",O=>O!==!1,"customGptSlotMatching",O=>typeof O=="function"&&O,"customPbAdSlot",O=>typeof O=="function"&&O,"customPreAuction",O=>typeof O=="function"&&O,"useDefaultPreAuction",O=>O!=null?O:!0]),b.enabled?m||((0,B.Yn)("makeBidRequests").before(i),(0,B.Yn)("targetingDone").after(p),m=!0):((0,G.logInfo)("GPT Pre-Auction: Turning off module"),b={},(0,B.Yn)("makeBidRequests").getHooks({hook:i}).remove(),(0,B.Yn)("targetingDone").getHooks({hook:p}).remove(),m=!1)};l.$W.getConfig("gptPreAuction",C=>h(C.gptPreAuction)),h({}),(0,A.E)("gptPreAuction")}},re=>{re.O(0,[33005,60802,51085],()=>{return Q=84232,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[55153],{13557:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(68044),l=t(16833),y=t(12938),B=t(45569),j=t(16916);const G="identityLink",D=(0,y.vM)({moduleType:B.fW,moduleName:G}),M="_lr_env",b={name:G,gvlid:97,decode:n=>({idl_env:n}),getId(n,s){const i=n&&n.params||{};if(!i||typeof i.pid!="string")return void e.logError("identityLink: requires partner id to be defined");const p=s&&typeof s.gdprApplies=="boolean"&&s.gdprApplies?1:0,h=p?s.consentString:"";if(p&&(!h||h===""))return void e.logInfo("identityLink: Consent string is required to call envelope API.");const C=j.ad.getConsentData(),O=!(!C||!C.gppString)&&C.gppString,W=!!(C&&C.gppString&&C.applicableSections.length>0&&C.applicableSections[0]!==-1)&&C.applicableSections[0],J=O&&W,N=`https://api.rlcdn.com/api/identity/envelope?pid=${i.pid}${p?"&ct=4&cv="+h:""}${J?"&gpp="+O+"&gpp_sid="+W:""}`;let F;return F=function(U){if(window.ats&&window.ats.retrieveEnvelope)e.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(f){f?(e.logInfo("identityLink: An envelope can be retrieved from ATS!"),g(!0),U(JSON.parse(f).envelope)):m(N,U,i)});else{let f=function(){let o=D.getCookie(M)||D.getDataFromLocalStorage(M);return o?window.atob(o):void 0}();f?(e.logInfo("identityLink: LiveRamp envelope successfully retrieved from storage!"),U(JSON.parse(f).envelope)):m(N,U,i)}},{callback:F}},eids:{idl_env:{source:"liveramp.com",atype:3}}};function m(n,s,i){const p={success:h=>{let C;if(h)try{C=JSON.parse(h)}catch(O){e.logInfo(O)}s(C&&C.envelope?C.envelope:"")},error:h=>{e.logInfo("identityLink: identityLink: ID fetch encountered an error",h),s()}};i.notUse3P||D.getCookie("_lr_retry_request")||(function(){let h=new Date;h.setTime(h.getTime()+36e5),D.setCookie("_lr_retry_request","true",h.toUTCString())}(),e.logInfo("identityLink: A 3P retrieval is attempted!"),g(!1),(0,u.RD)(n,p,void 0,{method:"GET",withCredentials:!0}))}function g(n){let s=new Date;s.setTime(s.getTime()+2592e6),D.setCookie("_lr_env_src_ats",n,s.toUTCString())}(0,l.bz)("userId",b),(0,A.E)("identityLinkIdSystem")}},re=>{re.O(0,[60802,51085],()=>{return Q=13557,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[53170],{77764:(re,Q,t)=>{var A=t(7873),e=t(70433),u=t(91069),l=t(63172),y=t(71371),B=t(43272),j=t(12938),G=t(15901),D=t(57377),M=t(63895),b=t(95789),m=t(51252);const g="ix",n=[y.D4,y.G_,y.s6],s=50,i=[144,144],p={JPY:1},h={PBJS:"p",IX:"x"},C={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},O={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},W=["lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],J=["mimes","minduration","maxduration"],N=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],F=`${g}_features`,U=(0,j.vM)({bidderCode:g}),f={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(E){return(0,e.A)(this.featureToggles,`features.${E}.activated`,!1)},getFeatureToggles:function(){if(U.localStorageIsEnabled()){const E=(0,u.safeJSONParse)(U.getDataFromLocalStorage(F));(0,e.A)(E,"expiry")&&E.expiry>=new Date().getTime()?this.featureToggles=E:this.clearFeatureToggles()}},setFeatureToggles:function(E){const oe=E.body,de=new Date,se=(0,e.A)(oe,"ext.features");se&&(this.featureToggles={expiry:de.setHours(de.getHours()+1),features:se},U.localStorageIsEnabled()&&U.setDataInLocalStorage(F,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},U.localStorageIsEnabled()&&U.removeDataFromLocalStorage(F)}};let o=0,d="",a="",r=!1;const w=2;function _(E){const oe=c(E,y.G_),de=(0,e.A)(E,"mediaTypes.video"),se=(0,e.A)(E,"params.video");if(I(de,se).length)return{};oe.video=se?(0,u.deepClone)(E.params.video):{};let he=(0,e.A)(E,"ortb2Imp.ext.tid");he&&(0,l.J)(oe,"ext.tid",he),function(Se,Ce){if((0,e.A)(Ce,"mediaTypes.video.context")===M.H6){let Ee=(0,e.A)(Ce,"mediaTypes.video.renderer");if(Ee||(Ee=(0,e.A)(Ce,"renderer")),(0,e.A)(Ce,"schain",!1))Se.displaymanager="pbjs_wrapper";else if(Ee&&typeof Ee=="object"){if(Ee.url!==void 0){let $e="";try{$e=new URL(Ee.url).hostname}catch(Re){return}$e.includes("js-sec.indexww")?Se.displaymanager="ix":Se.displaymanager=Ee.url}}else Se.displaymanager="ix"}}(oe,E),S(oe,E);for(const Se in de)N.indexOf(Se)===-1||oe.video.hasOwnProperty(Se)||(oe.video[Se]=de[Se]);if(oe.video.minduration>oe.video.maxduration)return(0,u.logError)(`IX Bid Adapter: video minduration [${oe.video.minduration}] cannot be greater than video maxduration [${oe.video.maxduration}]`),{};const we=se&&se.context||de&&de.context;if(function(Se){Se.video.hasOwnProperty("plcmt")&&(!(0,u.isInteger)(Se.video.plcmt)||Se.video.plcmt<1||Se.video.plcmt>4)&&((0,u.logWarn)(`IX Bid Adapter: video.plcmt [${Se.video.plcmt}] must be an integer between 1-4 inclusive`),delete Se.video.plcmt)}(oe),we&&!oe.video.hasOwnProperty("placement")&&(we===M.mn?oe.video.placement=1:we===M.H6?(0,e.A)(se,"playerConfig.floatOnScroll")?oe.video.placement=5:(oe.video.placement=3,r=!0):(0,u.logWarn)(`IX Bid Adapter: Video context '${we}' is not supported`)),!oe.video.w||!oe.video.h){const Se=P((0,e.A)(oe,"video.playerSize"))||P((0,e.A)(E,"params.size"));if(!Se)return(0,u.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};oe.video.w=Se[0],oe.video.h=Se[1]}return v(E,oe,y.G_),oe}function c(E,oe){const de={};if(de.id=E.bidId,ie()&&(0,e.A)(E,"params.externalId")&&(0,l.J)(de,"ext.externalID",E.params.externalId),(0,e.A)(E,`params.${oe}.siteId`)&&!isNaN(Number(E.params[oe].siteId)))switch(oe){case y.D4:(0,l.J)(de,"ext.siteID",E.params.banner.siteId.toString());break;case y.G_:(0,l.J)(de,"ext.siteID",E.params.video.siteId.toString());break;case y.s6:(0,l.J)(de,"ext.siteID",E.params.native.siteId.toString())}else E.params.siteId&&(0,l.J)(de,"ext.siteID",E.params.siteId.toString());return!E.params.hasOwnProperty("id")||typeof E.params.id!="string"&&typeof E.params.id!="number"||(0,l.J)(de,"ext.sid",String(E.params.id)),de}function v(E,oe,de){let se=null,he=null;if(E.params.bidFloor&&E.params.bidFloorCur&&(se={floor:E.params.bidFloor,currency:E.params.bidFloorCur}),(0,u.isFn)(E.getFloor)){let Se="*",Ce="*";if(de&&(0,u.contains)(n,de)){const{w:Ee,h:$e}=oe[de];Se=de,Ce=[Ee,$e]}try{he=E.getFloor({mediaType:Se,size:Ce})}catch(Ee){(0,u.logWarn)("priceFloors module call getFloor failed, error : ",Ee)}}let we=!1;he?(oe.bidfloor=he.floor,oe.bidfloorcur=he.currency,(0,l.J)(oe,"ext.fl",h.PBJS),we=!0):se&&(oe.bidfloor=se.floor,oe.bidfloorcur=se.currency,(0,l.J)(oe,"ext.fl",h.IX),we=!0),we&&(de==y.D4?((0,l.J)(oe,"banner.ext.bidfloor",oe.bidfloor),(0,l.J)(oe,"banner.ext.fl",oe.ext.fl)):de==y.G_?((0,l.J)(oe,"video.ext.bidfloor",oe.bidfloor),(0,l.J)(oe,"video.ext.fl",oe.ext.fl)):((0,l.J)(oe,"native.ext.bidfloor",oe.bidfloor),(0,l.J)(oe,"native.ext.fl",oe.ext.fl)))}function $(E,oe,de){var se;const he={},we=!(!(0,e.A)(E,"exp")||!(0,u.isInteger)(E.exp)),Se=(0,e.A)(E,"dealid")||(0,e.A)(E,"ext.dealid");p.hasOwnProperty(oe)?he.cpm=E.price/p[oe]:he.cpm=E.price/100,he.requestId=E.impid,Se&&(he.dealId=Se),he.netRevenue=!0,he.currency=oe,he.creativeId=E.hasOwnProperty("crid")?E.crid:"-",E.mtype!=w||(!E.ext||E.ext.vasturl)&&E.ext?E.ext&&E.ext.vasturl&&(he.vastUrl=E.ext.vasturl):he.vastXml=E.adm;let Ce=null;if(typeof E.adm=="string"&&E.adm[0]==="{"&&E.adm[E.adm.length-1]==="}")try{Ce=JSON.parse(E.adm)}catch(Ee){(0,u.logWarn)("adm looks like JSON but failed to parse: ",Ee)}return E.ext&&E.ext.vasturl||E.mtype==w?(he.width=de.video.w,he.height=de.video.h,he.mediaType=y.G_,he.mediaTypes=de.mediaTypes,he.ttl=we?E.exp:3600):Ce&&Ce.native?(he.native={ortb:Ce.native},he.width=E.w?E.w:1,he.height=E.h?E.h:1,he.mediaType=y.s6,he.ttl=we?E.exp:3600):(he.ad=E.adm,he.width=E.w,he.height=E.h,he.mediaType=y.D4,he.ttl=we?E.exp:300),he.meta={},he.meta.networkId=(0,e.A)(E,"ext.dspid"),he.meta.brandId=(0,e.A)(E,"ext.advbrandid"),he.meta.brandName=(0,e.A)(E,"ext.advbrand"),E.adomain&&E.adomain.length>0&&(he.meta.advertiserDomains=E.adomain),(se=E.ext)!=null&&se.dsa&&(he.meta.dsa=E.ext.dsa),he}function k(E){return Array.isArray(E)&&E.length===2&&(0,u.isInteger)(E[0])&&(0,u.isInteger)(E[1])}function q(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(k(E))return E[0]===oe[0]&&E[1]===oe[1];for(let de=0;de<E.length;de++)if(E[de][0]===oe[0]&&E[de][1]===oe[1])return!0;return!1}function I(E,oe){const de=[];E||(0,u.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let Ce of J){const Ee=E&&E.hasOwnProperty(Ce),$e=oe&&oe.hasOwnProperty(Ce);Ee||$e||de.push(`IX Bid Adapter: ${Ce} is not included in either the adunit or params level`)}const se=E&&E.hasOwnProperty("protocol"),he=E&&E.hasOwnProperty("protocols"),we=oe&&oe.hasOwnProperty("protocol"),Se=oe&&oe.hasOwnProperty("protocols");return se||he||we||Se||de.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),de}function P(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(E)?E:!!k(E[0])&&E[0]}function X(E,oe,de){if(E)return Fe(Fe({},(0,G.I6)(de,se=>se.bidId===E)),(0,G.I6)(oe,se=>se.id===E))}function Y(E,oe,de,se){let he="https://htlb.casalemedia.com/openrtb/pbjs",we=function(Te){let je=[],qe={};if((0,u.isArray)(Te))for(const pe of Te){const fe=O.hasOwnProperty(pe.source),be=f.isFeatureEnabled("pbjs_allow_all_eids"),ue=(0,e.A)(pe,"uids.0");if((fe||be)&&ue&&(qe[pe.source]=!0,fe&&O[pe.source]!==""&&(pe.uids[0].ext={rtiPartner:O[pe.source]}),je.push(pe),je.length>=s))break}return{toSend:je,seenSources:qe}}((0,e.A)(E,"0.userIdAsEids")),Se=we.toSend;window.headertag&&typeof window.headertag.getIdentityInfo=="function"&&function(Te,je){let qe=window.headertag.getIdentityInfo();if(qe&&typeof qe=="object")for(const pe in qe){if(Te.length>=s)return;if(qe.hasOwnProperty(pe)){let fe=qe[pe];!fe.responsePending&&fe.data&&typeof fe.data=="object"&&Object.keys(fe.data).length&&!je.seenSources[fe.data.source]&&Te.push(fe.data)}}}(Se,we);const Ce=[];let Ee=function(Te){const je={};return je.id=Te[0].bidderRequestId.toString(),je.site={},je.ext={},je.ext.source="prebid",je.ext.ixdiag={},je.ext.ixdiag.ls=U.localStorageIsEnabled(),je.imp=[],je.at=1,je}(E);Ee=function(Te,je){return je.length>0&&(Te.ext.features={},je.forEach(qe=>{Te.ext.features[qe]={activated:f.isFeatureEnabled(qe)}})),Te}(Ee,f.REQUESTED_FEATURE_TOGGLES);let $e=function(Te,je){var qe=Te.map(be=>be.adUnitCode).filter((be,ue,ve)=>ve.indexOf(be)===ue);let pe=(0,e.A)(Te,"0.userIdAsEids",[]),fe={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"9.8.0-pre",userIds:V(Te[0]),url:window.location.href.split("?")[0],vpd:r,ae:je,eidLength:pe.length};for(let be of qe){let ue=Te.filter(ve=>ve.adUnitCode===be)[0];(0,e.A)(ue,"mediaTypes")&&(Object.keys(ue.mediaTypes).length>1&&fe.mfu++,(0,e.A)(ue,"mediaTypes.native")&&fe.nu++,(0,e.A)(ue,"mediaTypes.banner")&&fe.bu++,(0,e.A)(ue,"mediaTypes.video.context")==="outstream"&&(fe.ou++,Z(ue)&&(fe.ren=!0)),(0,e.A)(ue,"mediaTypes.video.context")==="instream"&&fe.iu++,fe.allu++)}return fe}(E,(0,e.A)(oe,"paapi.enabled"));for(let Te in $e)Ee.ext.ixdiag[Te]=$e[Te];Ee=function(Te,je,qe,pe,fe){var be,ue;const ve=(0,e.A)(je,"timeout");return ve&&(Te.ext.ixdiag.tmax=ve),B.$W.getConfig("userSync")&&(Te.ext.ixdiag.syncsPerBidder=B.$W.getConfig("userSync").syncsPerBidder),Te.ext.ixdiag.imps=Object.keys(qe).length,Te.source={tid:(ue=(be=je==null?void 0:je.ortb2)==null?void 0:be.source)==null?void 0:ue.tid},pe[0].schain&&(Te.source.ext={},Te.source.ext.schain=pe[0].schain),fe.length>0&&(Te.user={},Te.user.eids=fe),document.referrer&&document.referrer!==""&&(Te.site.ref=document.referrer),Te}(Ee,oe,de,E,Se),Ee=function(Te,je){if(je){je.gdprConsent&&(d=je.gdprConsent,d.hasOwnProperty("gdprApplies")&&(Te.regs={ext:{gdpr:d.gdprApplies?1:0}}),d.hasOwnProperty("consentString")&&(Te.user=Te.user||{},Te.user.ext={consent:d.consentString||""},d.hasOwnProperty("addtlConsent")&&d.addtlConsent&&(Te.user.ext.consented_providers_settings={addtl_consent:d.addtlConsent}))),je.uspConsent&&((0,l.J)(Te,"regs.ext.us_privacy",je.uspConsent),a=je.uspConsent);const qe=(0,e.A)(je,"refererInfo.page");qe&&(Te.site.page=qe),je.gppConsent&&((0,l.J)(Te,"regs.gpp",je.gppConsent.gppString),(0,l.J)(Te,"regs.gpp_sid",je.gppConsent.applicableSections))}return B.$W.getConfig("coppa")&&(0,l.J)(Te,"regs.coppa",1),Te}(Ee,oe);let Re={};E[0].params.siteId&&(o=E[0].params.siteId,Re.s=o);const Ue=Object.keys(de);let Oe=!1;for(let Te=0;Te<Ue.length&&!(Ce.length>=4);Te++){Ee=R(de,Ue,Ee,Te);const je=(0,e.A)(oe,"ortb2")||{},qe=Fe({},je.site||je.context);qe.page=H(oe);const pe=Fe({},je.user);(0,u.isEmpty)(je)||Oe||(Ee=T(oe,Ee,je,qe,pe),Ee.site=(0,u.mergeDeep)({},Ee.site,qe),Ee.user=(0,u.mergeDeep)({},Ee.user,pe),Oe=!0),Ee=L(de,Ee,Ue,Te,Re,he);const fe=Te===Ue.length-1;if(Ee=me(Ee),Ee=Ie(Ee),Ee=xe(Ee),fe){let be=`${he}?`;o!==0&&(be+=`s=${o}`),ie()&&(be+=o!==0?"&":"",be+=`p=${B.$W.getConfig("exchangeId")}`),Ce.push({method:"POST",url:be,data:(0,u.deepClone)(Ee),option:{contentType:"text/plain"},validBidRequests:E}),Ee.imp=[],Oe=!1}}return Ce}function R(E,oe,de,se){const he=E[oe[se]],{missingImps:we=[],ixImps:Se=[]}=he,Ce={ixImps:Se,missingBannerImpressions:we},Ee=Object.keys(Ce).map(fe=>Ce[fe]).filter(fe=>Array.isArray(fe)).reduce((fe,be)=>fe.concat(...be),[]),$e=E[oe[se]].gpid,Re=E[oe[se]].dfp_ad_unit_code,Ue=E[oe[se]].tid,Oe=E[oe[se]].sid,Te=E[oe[se]].ae,je=E[oe[se]].paapi,qe=Ee.filter(fe=>y.D4 in fe),pe=Ee.filter(fe=>!(y.D4 in fe));if(qe.length>0){const fe=qe.reduce((be,ue)=>(be[ue.adunitCode]||(be[ue.adunitCode]=[]),be[ue.adunitCode].push(ue),be),{});for(const be in fe){const ue=fe[be],{id:ve,banner:{topframe:Pe}}=ue[0];let Ne=(0,e.A)(ue[0],"ext.externalID");const De={id:ve,banner:{topframe:Pe,format:ue.map(ze=>{let{banner:{w:Ve,h:He},ext:Xe}=ze;return{w:Ve,h:He,ext:Xe}})}};for(let ze=0;ze<De.banner.format.length;ze++)De.banner.format[ze].ext!=null&&(De.banner.format[ze].ext.sid!=null&&delete De.banner.format[ze].ext.sid,De.banner.format[ze].ext.externalID!=null&&delete De.banner.format[ze].ext.externalID),"bidfloor"in ue[ze]&&(De.banner.format[ze].ext.bidfloor=ue[ze].bidfloor),JSON.stringify(De.banner.format[ze].ext)==="{}"&&delete De.banner.format[ze].ext;const We=E[oe[se]].pos;(0,u.isInteger)(We)&&(De.banner.pos=We),(Re||$e||Ue||Oe||Te||Ne||je)&&(De.ext={},De.ext.dfp_ad_unit_code=Re,De.ext.gpid=$e,De.ext.tid=Ue,De.ext.sid=Oe,De.ext.externalID=Ne,Te==1&&(De.ext.ae=1,De.ext.paapi=je)),"bidfloor"in ue[0]&&(De.bidfloor=ue[0].bidfloor),"bidfloorcur"in ue[0]&&(De.bidfloorcur=ue[0].bidfloorcur);const Me=E[oe[se]].adUnitFPD;Me&&(0,l.J)(De,"ext.data",Me),de.imp.push(De)}}return pe.length>0&&pe.forEach(fe=>{if($e&&(0,l.J)(fe,"ext.gpid",$e),de.imp.length>0){let be=!1;de.imp.forEach((ue,ve)=>{fe.id===ue.id&&y.G_ in fe?(ue.video=fe.video,ue.video.ext=Object.assign({},fe.video.ext,fe.ext),(0,e.A)(ue,"video.ext.bidfloor",!1)&&(0,e.A)(ue,"bidfloor",!1)&&ue.video.ext.bidfloor<ue.bidfloor&&(ue.bidfloor=ue.video.ext.bidfloor),!(0,e.A)(ue,"ext.siteID",!1)&&(0,e.A)(fe,"video.ext.siteID")&&((0,l.J)(ue,"ext.siteID",fe.video.ext.siteID),(0,l.J)(de,"ext.ixdiag.usid",!0)),be=!0):fe.id===ue.id&&y.s6 in fe&&(ue.native=fe.native,ue.native.ext=Object.assign({},fe.native.ext,fe.ext),(0,e.A)(ue,"native.ext.bidfloor",!1)&&(0,e.A)(ue,"bidfloor",!1)&&ue.native.ext.bidfloor<ue.bidfloor&&(ue.bidfloor=ue.native.ext.bidfloor),!(0,e.A)(ue,"ext.siteID",!1)&&(0,e.A)(fe,"native.ext.siteID",!1)&&((0,l.J)(ue,"ext.siteID",fe.native.ext.siteID),(0,l.J)(de,"ext.ixdiag.usid",!0)),be=!0)}),be||de.imp.push(fe)}else de.imp.push(fe)}),de}function H(E){const oe=E&&E.bidderCode||"ix",de=B.$W.getConfig(oe);let se="";return se=(0,e.A)(E,"ortb2.site.page")?E.ortb2.site.page:(0,e.A)(E,"refererInfo.page"),de&&typeof de.firstPartyData=="object"?function(he,we,Se){let Ce;try{Ce=new URL(we)}catch($e){(0,u.logWarn)(`IX Bid Adapter: Invalid URL set in ortb2.site.page: ${we}. Using referer URL instead.`),Ce=new URL((0,e.A)(he,"refererInfo.page"))}const Ee=new URLSearchParams(Ce.search);for(const[$e,Re]of Object.entries(Se))Ee.has($e)||Ee.append($e,Re);return Ce.search=Ee.toString(),Ce.toString()}(E,se,de.firstPartyData):se}function T(E,oe,de,se,he){var we;if(oe.ext.ixdiag.fpd=!0,Object.keys(se).forEach(Se=>{C.SITE.indexOf(Se)===-1&&delete se[Se]}),Object.keys(he).forEach(Se=>{C.USER.indexOf(Se)===-1&&delete he[Se]}),de.device){const Se=Fe({},de.device.sua);(0,u.isEmpty)(Se)||(0,l.J)(oe,"device.sua",Se)}if(de.hasOwnProperty("regs")&&!E.gppConsent&&(de.regs.hasOwnProperty("gpp")&&typeof de.regs.gpp=="string"&&(0,l.J)(oe,"regs.gpp",de.regs.gpp),de.regs.hasOwnProperty("gpp_sid")&&Array.isArray(de.regs.gpp_sid)&&(0,l.J)(oe,"regs.gpp_sid",de.regs.gpp_sid),(we=de.regs.ext)==null?void 0:we.dsa)){const Se=de.regs.ext.dsa,Ce={};if(["dsarequired","pubrender","datatopub"].forEach(Ee=>{(0,u.isNumber)(Se[Ee])&&(Ce[Ee]=Se[Ee])}),(0,u.isArray)(Se.transparency)){const Ee=[];Se.transparency.forEach($e=>{(0,u.isPlainObject)($e)&&(0,u.isStr)($e.domain)&&$e.domain!=""&&(0,u.isArray)($e.dsaparams)&&$e.dsaparams.every(Re=>(0,u.isNumber)(Re))&&Ee.push($e)}),Ee.length>0&&(Ce.transparency=Ee)}(0,u.isEmpty)(Ce)||(0,l.J)(oe,"regs.ext.dsa",Ce)}return oe}function S(E,oe){const de=(0,e.A)(oe,"ortb2Imp.ext.data");de&&(0,l.J)(E,"ext.data",de)}function L(E,oe,de,se,he,we){const Se=E[de[se]].pbadslot,Ce=E[de[se]].tagId,Ee=E[de[se]].adUnitCode,$e=E[de[se]].divId;return(Se||Ce||Ee||$e)&&(oe.ext.ixdiag.pbadslot=Se,oe.ext.ixdiag.tagid=Ce,oe.ext.ixdiag.adunitcode=Ee,oe.ext.ixdiag.divId=$e),oe}function V(E){const oe=E.userId||{};return W.filter(de=>oe[de])}function x(E,oe){if(oe)for(let de=0;de<E.length;de++){const se=E[de];if(oe[0]===se[0]&&oe[1]===se[1]){E.splice(de,1);break}}}function K(E,oe){const de=function(se){const he=c(se,y.s6),we=se.nativeOrtbRequest;we.eventtrackers=[{event:1,methods:[1,2]}],we.privacy=1,he.native={request:JSON.stringify(we),ver:"1.2"};let Se=(0,e.A)(se,"ortb2Imp.ext.tid");return Se&&(0,l.J)(he,"ext.tid",Se),S(he,se),v(se,he,y.s6),he}(E);if(Object.keys(de).length!=0){oe[E.adUnitCode]={},oe[E.adUnitCode].ixImps=[],oe[E.adUnitCode].ixImps.push(de),oe[E.adUnitCode].gpid=(0,e.A)(E,"ortb2Imp.ext.gpid"),oe[E.adUnitCode].dfp_ad_unit_code=(0,e.A)(E,"ortb2Imp.ext.data.adserver.adslot"),oe[E.adUnitCode].pbadslot=(0,e.A)(E,"ortb2Imp.ext.data.pbadslot"),oe[E.adUnitCode].tagId=(0,e.A)(E,"params.tagId");const se=E.adUnitCode,he=document.getElementById(se)?se:(0,m.p)(se).divId;oe[E.adUnitCode].adUnitCode=se,oe[E.adUnitCode].divId=he}}function z(E,oe){const de=_(E);if(Object.keys(de).length!=0){oe[E.adUnitCode]={},oe[E.adUnitCode].ixImps=[],oe[E.adUnitCode].ixImps.push(de),oe[E.adUnitCode].gpid=(0,e.A)(E,"ortb2Imp.ext.gpid"),oe[E.adUnitCode].dfp_ad_unit_code=(0,e.A)(E,"ortb2Imp.ext.data.adserver.adslot"),oe[E.adUnitCode].pbadslot=(0,e.A)(E,"ortb2Imp.ext.data.pbadslot"),oe[E.adUnitCode].tagId=(0,e.A)(E,"params.tagId");const se=E.adUnitCode,he=document.getElementById(se)?se:(0,m.p)(se).divId;oe[E.adUnitCode].adUnitCode=se,oe[E.adUnitCode].divId=he}}function le(E,oe,de,se){let he=function(Re){const Ue=c(Re,y.D4);Ue.banner={},Ue.adunitCode=Re.adUnitCode;const Oe=(0,e.A)(Re,"params.size");return Oe&&(Ue.banner.w=Oe[0],Ue.banner.h=Oe[1]),Ue.banner.topframe=(0,u.inIframe)()?0:1,v(Re,Ue,y.D4),Ue}(E);const we=q((0,e.A)(E,"mediaTypes.banner.sizes"),(0,e.A)(E,"params.size"));if(de.hasOwnProperty(E.adUnitCode)||(de[E.adUnitCode]={}),de[E.adUnitCode].gpid=(0,e.A)(E,"ortb2Imp.ext.gpid"),de[E.adUnitCode].dfp_ad_unit_code=(0,e.A)(E,"ortb2Imp.ext.data.adserver.adslot"),de[E.adUnitCode].tid=(0,e.A)(E,"ortb2Imp.ext.tid"),de[E.adUnitCode].pbadslot=(0,e.A)(E,"ortb2Imp.ext.data.pbadslot"),de[E.adUnitCode].tagId=(0,e.A)(E,"params.tagId"),de[E.adUnitCode].pos=(0,e.A)(E,"mediaTypes.banner.pos"),(0,e.A)(se,"paapi.enabled")){const Re=(0,e.A)(E,"ortb2Imp.ext.ae"),Ue=(0,e.A)(E,"ortb2Imp.ext.paapi");Ue&&(de[E.adUnitCode].paapi=Ue),Re&&((0,u.isInteger)(Re)?de[E.adUnitCode].ae=Re:(0,u.logWarn)("error setting auction environment flag - must be an integer"))}const Se=(0,e.A)(E,"ortb2Imp.ext.data");Se&&(de[E.adUnitCode].adUnitFPD=Se);const Ce=(0,e.A)(E,"params.id");!Ce||typeof Ce!="string"&&typeof Ce!="number"||(de[E.adUnitCode].sid=String(Ce));const Ee=E.adUnitCode,$e=document.getElementById(Ee)?Ee:(0,m.p)(Ee).divId;de[E.adUnitCode].adUnitCode=Ee,de[E.adUnitCode].divId=$e,we&&(de[E.adUnitCode].hasOwnProperty("ixImps")||(de[E.adUnitCode].ixImps=[]),de[E.adUnitCode].ixImps.push(he)),function(Re,Ue,Oe){if(Ue.hasOwnProperty(Re.adUnitCode)){let Te=[];Ue[Re.adUnitCode].hasOwnProperty("missingSizes")&&(Te=Ue[Re.adUnitCode].missingSizes),x(Te,Re.params.size),Ue[Re.adUnitCode].missingSizes=Te}else if((0,e.A)(Re,"mediaTypes.banner.sizes")){let Te=(0,u.deepClone)(Re.mediaTypes.banner.sizes);x(Te,Re.params.size);let je={missingSizes:Te,impression:Oe};Ue[Re.adUnitCode]=je}}(E,oe,he)}function ce(E,oe,de){const se=(0,u.deepClone)(oe);return se.banner.w=de[0],se.banner.h=de[1],v(E,se,y.D4),se}function ee(E){E.renderer.push(function(){const oe=E.adUnitCode,de=document.getElementById(oe)?oe:(0,m.p)(oe).divId;de?window.createIXPlayer(de,E):(0,u.logWarn)(`IX Bid Adapter: adUnitCode: ${de} not found on page.`)})}function te(E,oe){const de=b.A4.install({id:E,url:oe,loaded:!1});try{de.setRender(ee)}catch(se){return(0,u.logWarn)("Prebid Error calling setRender on renderer",se),null}return oe?de:((0,u.logWarn)("Outstream renderer URL not found"),null)}function Z(E){if((0,e.A)(E,"mediaTypes.video.context")!=="outstream")return!1;let oe=(0,e.A)(E,"mediaTypes.video.renderer");return oe||(oe=(0,e.A)(E,"renderer")),typeof oe!="object"||!oe.url||!oe.render||oe.backupOnly}function ie(){let E=B.$W.getConfig("exchangeId");return!(typeof E!="number"||!isFinite(E))||!(typeof E!="string"||E.trim()===""||!isFinite(Number(E)))}const ae={code:g,gvlid:10,supportedMediaTypes:n,isBidRequestValid:function(E){const oe=(0,e.A)(E,"params.video"),de=(0,e.A)(E,"params.size"),se=(0,e.A)(E,"mediaTypes.banner.sizes"),he=(0,e.A)(E,"mediaTypes.video"),we=(0,e.A)(E,"mediaTypes.video.playerSize"),Se=E.params.hasOwnProperty("bidFloor"),Ce=E.params.hasOwnProperty("bidFloorCur");if(E.hasOwnProperty("mediaType")&&!(0,u.contains)(n,E.mediaType))return(0,u.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,e.A)(E,"mediaTypes.banner")&&!se)return!1;if(de){const Re=P(de);if(!Re)return(0,u.logError)("IX Bid Adapter: size has invalid format."),!1;if(!q(E.sizes,Re)&&!q(we,Re)&&!q(se,Re))return(0,u.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!ie()&&E.params.siteId==null)return(0,u.logError)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(E.params.siteId!==void 0){if(typeof E.params.siteId!="string"&&typeof E.params.siteId!="number")return(0,u.logError)("IX Bid Adapter: siteId must be string or number type."),!1;if(typeof E.params.siteId!="string"&&isNaN(Number(E.params.siteId)))return(0,u.logError)("IX Bid Adapter: siteId must valid value"),!1}if((Se||Ce)&&!(Se&&Ce&&(Ee=E.params.bidFloor,$e=E.params.bidFloorCur,!!(typeof Ee=="number"&&typeof $e=="string"&&$e.match(/^[A-Z]{3}$/)))))return(0,u.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;var Ee,$e;if(he&&oe){const Re=_(E).video,Ue=I(he,oe);if((0,e.A)(E,"mediaTypes.video.context")===M.H6&&Z(E)&&Re){const Oe=[(0,e.A)(Re,"w"),(0,e.A)(Re,"h")];if(!(Oe[0]>=i[0]&&Oe[1]>=i[1]))return(0,u.logError)(`IX Bid Adapter: ${Oe} is an invalid size for IX outstream renderer`),!1}if(Ue.length)return Ue.forEach(Oe=>{(0,u.logError)(Oe)}),!1}return function(Re){return(0,e.A)(Re,"mediaTypes.native")===void 0||Re.nativeOrtbRequest&&Array.isArray(Re.nativeOrtbRequest.assets)&&Re.nativeOrtbRequest.assets.length>0}(E)},resetSiteID:function(){o=0},buildRequests:function(E,oe){const de=[],se={},he={},we={},Se={};f.getFeatureToggles(),E.forEach(Ee=>{const $e=Object.keys((0,e.A)(Ee,"mediaTypes",{}));for(const Re in $e)switch($e[Re]){case y.D4:le(Ee,Se,se,oe);break;case y.G_:z(Ee,he);break;case y.s6:K(Ee,we);break;default:(0,u.logWarn)(`IX Bid Adapter: ad unit mediaTypes ${Re} is not supported`)}});for(let Ee in Se)if(Se.hasOwnProperty(Ee)){let $e=Se[Ee].missingSizes;se.hasOwnProperty(Ee)||(se[Ee]={}),se[Ee].hasOwnProperty("missingImps")||(se[Ee].missingImps=[],se[Ee].missingCount=0);let Re=Se[Ee].impression;for(let Ue=0;Ue<$e.length;Ue++){let Oe=ce(E[0],Re,$e[Ue]);se[Ee].missingImps.push(Oe),se[Ee].missingCount++}}let Ce=[];return Object.keys(se).length>0&&Ce.push(se),Object.keys(he).length>0&&Ce.push(he),Object.keys(we).length>0&&Ce.push(we),f.isFeatureEnabled("pbjs_enable_multiformat")?de.push(...Y(E,oe,function(Ee){const $e={};return Ee.forEach(Re=>{Object.keys(Re).forEach(Ue=>{Object.keys($e).includes(Ue)?$e[Ue].hasOwnProperty("ixImps")&&Re[Ue].hasOwnProperty("ixImps")?$e[Ue].ixImps=[...$e[Ue].ixImps,...Re[Ue].ixImps]:$e[Ue].hasOwnProperty("missingImps")&&Re[Ue].hasOwnProperty("missingImps")?$e[Ue].missingImps=[...$e[Ue].missingImps,...Re[Ue].missingImps]:Re[Ue].hasOwnProperty("ixImps")?$e[Ue].ixImps=Re[Ue].ixImps:Re[Ue].hasOwnProperty("missingImps")&&($e[Ue].missingImps=Re[Ue].missingImps):$e[Ue]=Re[Ue]})}),$e}(Ce))):(Object.keys(se).length>0&&de.push(...Y(E,oe,se)),Object.keys(he).length>0&&de.push(...Y(E,oe,he)),Object.keys(we).length>0&&de.push(...Y(E,oe,we))),de},interpretResponse:function(E,oe){const de=[];let se=null,he=(0,e.A)(E,"body.ext.protectedAudienceAuctionConfigs")||[];if(f.setFeatureToggles(E),!E.hasOwnProperty("body"))return de;const we=E.body,Se=we.seatbid||[];for(let Ce=0;Ce<Se.length;Ce++){if(!Se[Ce].hasOwnProperty("bid"))continue;const Ee=Se[Ce].bid,$e=oe.data;for(let Re=0;Re<Ee.length;Re++){const Ue=X(Ee[Re].impid,$e.imp,oe.validBidRequests);if(se=$(Ee[Re],we.cur,Ue),se.mediaType===y.G_&&Z(Ue)){const Oe=(0,e.A)(we,"ext.videoplayerurl");if(se.renderer=te(Ee[Re].bidId,Oe),!se.renderer)continue}de.push(se)}if((0,e.A)($e,"ext.ixdiag.err")&&U.localStorageIsEnabled())try{U.removeDataFromLocalStorage("ixdiag")}catch(Re){(0,u.logError)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(he)&&he.length>0))return de;he=he.filter(Ce=>!!function(Ee){return typeof Ee=="object"&&Ee!==null}(Ce)||((0,u.logWarn)("Malformed auction config detected:",Ce),!1));try{return{bids:de,paapi:he}}catch(Ce){return(0,u.logWarn)("Error attaching AuctionConfigs",Ce),de}},getUserSyncs:function(E,oe){const de=[];let se=null;if(oe.length>0&&(se=(0,e.A)(oe[0],"body.ext.publishersyncsperbidderoverride")),se!==void 0&&se==0)return[];if(E.iframeEnabled)de.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let he=null;B.$W.getConfig("userSync")&&(he=B.$W.getConfig("userSync").syncsPerBidder),he===0&&(he=se),he=se&&(he===0||he)?se>he?he:se:1;for(let we=0;we<he;we++)de.push({type:"image",url:ye(he,we)})}return de}};function ye(E,oe){let de="",se="0";return d&&d.hasOwnProperty("gdprApplies")&&(se=d.gdprApplies?"1":"0"),d&&d.hasOwnProperty("consentString")&&(de=d.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(o!==0?"&site_id="+o.toString():"")+"&p="+E.toString()+"&i="+oe.toString()+"&gdpr="+se+"&gdpr_consent="+de+"&us_privacy="+(a||"")}function Ie(E){return E.imp.forEach((oe,de)=>{const se=oe.ext;if(se==null)return E;Ae(oe)<2||Object.keys(se).forEach(he=>{if(y.D4 in oe){const we=oe.banner.ext;if(we!==void 0&&we[he]!==void 0&&we[he]==se[he]&&delete E.imp[de].banner.ext[he],oe.banner.format!==void 0)for(let Se=0;Se<oe.banner.format.length;Se++)oe.banner.format[Se].ext!=null&&oe.banner.format[Se].ext[he]!=null&&oe.banner.format[Se].ext[he]==se[he]&&delete E.imp[de].banner.format[Se].ext[he]}if(y.G_ in oe){const we=oe.video.ext;we!==void 0&&we[he]!==void 0&&we[he]==se[he]&&delete E.imp[de].video.ext[he]}if(y.s6 in oe){const we=oe.native.ext;we!==void 0&&we[he]!==void 0&&we[he]==se[he]&&delete E.imp[de].native.ext[he]}})}),E}function xe(E){return E.imp.forEach((oe,de)=>{if(oe.ext==null)return E;if(!(Ae(oe)<2)){if(y.D4 in oe){const se=oe.banner.ext;if(se!==void 0&&se.siteID!==void 0&&delete E.imp[de].banner.ext.siteID,oe.banner.format!==void 0)for(let he=0;he<oe.banner.format.length;he++)oe.banner.format[he].ext!==void 0&&oe.banner.format[he].ext.siteID!==void 0&&((0,l.J)(E.imp[de],"ext.siteID",oe.banner.format[he].ext.siteID),(0,l.J)(E,"ext.ixdiag.usid",!0),delete E.imp[de].banner.format[he].ext.siteID)}if(y.G_ in oe){const se=oe.video.ext;se!==void 0&&se.siteID!==void 0&&delete E.imp[de].video.ext.siteID}if(y.s6 in oe){const se=oe.native.ext;se!==void 0&&se.siteID!==void 0&&delete E.imp[de].native.ext.siteID}}}),E}function Ae(E){let oe=0;return E.banner!==void 0&&(oe+=1),E.video!==void 0&&(oe+=1),E.native!==void 0&&(oe+=1),oe}function me(E){return E.device==null&&(E.device={}),E.device.h=window.screen.height,E.device.w=window.screen.width,E}(0,D.a$)(ae),(0,A.E)("ixBidAdapter")}},re=>{re.O(0,[33005,60802,51085],()=>{return Q=77764,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[14426],{45840:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(68044),l=t(16833),y=t(12938),B=t(16916),j=t(45569);const G="panoramaId",D=`${G}_expiry`,M="_cc_id",b="lotamePanoramaId",m=(0,y.vM)({moduleType:j.fW,moduleName:b});let g;function n(h){let C=null;if(m.cookiesAreEnabled()&&(C=m.getCookie(h,void 0)),m.hasLocalStorage()&&C===null){const O=m.getDataFromLocalStorage(`${h}_exp`,void 0);(O===""||O===null||O&&new Date(parseInt(O,10)).getTime()-Date.now()>0)&&(C=m.getDataFromLocalStorage(h,void 0))}return C}function s(h,C){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,e.timestamp)()+6048e5;if(h&&C){let W=new Date(O).toUTCString();m.cookiesAreEnabled()&&m.setCookie(h,C,W,"Lax",g,void 0),m.hasLocalStorage()&&(m.setDataInLocalStorage(`${h}_exp`,String(O),void 0),m.setDataInLocalStorage(h,C,void 0))}}function i(h){if(h){if(m.cookiesAreEnabled()){let C=new Date(0).toUTCString();m.setCookie(h,"",C,"Lax",g,void 0)}m.hasLocalStorage()&&m.removeDataFromLocalStorage(h,void 0)}}const p={name:b,gvlid:95,decode:(h,C)=>(0,e.isStr)(h)?{lotamePanoramaId:h}:void 0,getId(h,C,O){g=p.findRootDomain();const W=(h&&h.params||{}).clientId,J=!(0,e.isEmpty)(W),N=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,a={data:n(G),expiryTimestampMs:0,clientExpiryTimestampMs:0};try{if(d){const w=n(`${D}_${d}`);(0,e.isStr)(w)&&(a.clientExpiryTimestampMs=parseInt(w,10))}const r=n(D);(0,e.isStr)(r)&&(a.expiryTimestampMs=parseInt(r,10))}catch(r){(0,e.logError)(r)}return a}(W),F=Date.now()>N.expiryTimestampMs;if(J&&Date.now()<N.clientExpiryTimestampMs)return{id:void 0,reason:"NO_CLIENT_CONSENT"};if(!F)return{id:N.data};const U=function(){let d;return m.cookiesAreEnabled()&&(d=m.getCookie(M,void 0)),!d&&m.hasLocalStorage()&&(d=m.getDataFromLocalStorage(M,void 0)),d}(),f=B.t6.getConsentData();let o;return f===void 0||(0,e.isEmpty)(f)||(0,e.isEmptyStr)(f)||(o=f),o||(o=n("us_privacy")),{callback:function(d){let a,r={};U&&(r.fp=U),C&&((0,e.isBoolean)(C.gdprApplies)&&(r.gdpr_applies=C.gdprApplies),a=C.consentString),a||(a=n("eupubconsent-v2")),a||(a=n("euconsent-v2")),a&&(r.gdpr_consent=a),o&&(r.us_privacy=o),J&&(r.c=W);const w=(0,e.buildUrl)({protocol:"https",host:navigator.userAgent&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1?"c.ltmsphrcl.net":"id.crwdcntrl.net",pathname:"/id",search:(0,e.isEmpty)(r)?void 0:r});(0,u.RD)(w,_=>{let c;if(_)try{let v=JSON.parse(_);const $=!((0,e.isArray)(v.errors)&&v.errors.indexOf(111)!==-1);if(J){if($)i(`${D}_${W}`);else if((0,e.isStr)(v.no_consent)&&v.no_consent==="CLIENT")return s(`${D}_${W}`,v.expiry_ts,v.expiry_ts),void d()}s(D,v.expiry_ts,v.expiry_ts),(0,e.isStr)(v.profile_id)?($&&function(k){if(m.cookiesAreEnabled()){let q=new Date((0,e.timestamp)()+23328e6).toUTCString();m.setCookie(M,k,q,"Lax",g,void 0)}m.hasLocalStorage()&&m.setDataInLocalStorage(M,k,void 0)}(v.profile_id),(0,e.isStr)(v.core_id)?(s(G,v.core_id,v.expiry_ts),c=v.core_id):i(G)):($&&i(M),i(G))}catch(v){(0,e.logError)(v)}d(c)},void 0,{method:"GET",withCredentials:!0})}}},eids:{lotamePanoramaId:{source:"crwdcntrl.net",atype:1}}};(0,l.bz)("userId",p),(0,A.E)("lotamePanoramaIdSystem")}},re=>{re.O(0,[60802,51085],()=>{return Q=45840,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[90362],{73294:(re,Q,t)=>{var A=t(7873),e=t(43272),u=t(16833),l=t(91069),y=t(63172),B=t(70433),j=t(1e3),G=t(75023),D=t(78969),M=t(76743),b=t(12713),m=t(27194);const g="PAAPI",n=[],s=new WeakSet;(0,u.xG)("paapi",function(v){n.push(v),v.init&&v.init({getPAAPIConfig:d,expandFilters:o})});const i=(0,m.$)(),p=(0,m.$)(),h=(0,m.$)();let C={},O={};function W(v,$,k){!v.hasOwnProperty($)&&(v[$]=[]),v[$].push(k)}function J(v,$){var k,q;let{ortb2:I,ortb2Imp:P}=$;return I!=null&&(0,y.J)(v,"prebid.ortb2",(0,l.mergeDeep)({},I,(k=v.prebid)==null?void 0:k.ortb2)),P!=null&&(0,y.J)(v,"prebid.ortb2Imp",(0,l.mergeDeep)({},P,(q=v.prebid)==null?void 0:q.ortb2Imp)),v}e.$W.getConfig("paapi",v=>{var $;($=v.paapi)&&$.enabled===!0?(O=$,(0,l.logInfo)(`${g} enabled (browser ${a()?"supports":"does NOT support"} runAdAuction)`,$)):(O={},(0,l.logInfo)(`${g} disabled`,$))}),(0,u.Yn)("addPaapiConfig").before(function(v,$,k){var q;if(r(e.$W.getCurrentBidder()).enabled){let P=function(T,S){const L=T(Y);L!=null?W(L,X,S):(0,l.logWarn)(g,`Received PAAPI config for auction that has closed (auction '${Y}', adUnit '${X}')`,S)};var I=P;const{adUnitCode:X,auctionId:Y}=$,{config:R,igb:H}=k;if(R){R.auctionSignals=J(R.auctionSignals||{},$);const T=R.perBuyerSignals=(q=R.perBuyerSignals)!=null?q:{};(R.interestGroupBuyers||[]).forEach(S=>{var L;T[S]=J((L=T[S])!=null?L:{},$)}),P(i,R)}H&&F(H)&&(H.pbs=J(H.pbs||{},$),P(h,[$,H]))}v($,k)}),(0,u.Yn)("makeBidRequests").before(function(v,$){a()&&O.enabled&&$.forEach(P=>{var X,Y,R,H,T;const S=((Y=(X=P.ortb2Imp)==null?void 0:X.ext)==null?void 0:Y.igs)!=null?P.ortb2Imp.ext.igs.ae||1:null,L=(H=(R=P.ortb2Imp)==null?void 0:R.ext)==null?void 0:H.ae;S!==L&&S!=null&&L!=null&&(0,l.logWarn)(g,"Ad unit defines conflicting ortb2Imp.ext.ae and ortb2Imp.ext.igs, using the latter",P);const V=(T=S!=null?S:L)!=null?T:O.defaultForSlots;if(V){(0,y.J)(P,"ortb2Imp.ext.ae",V),P.ortb2Imp.ext.igs=Object.assign({ae:V,biddable:1},P.ortb2Imp.ext.igs);const x=_(P);x&&(0,y.J)(P,"ortb2Imp.ext.paapi.requestedSize",x),P.bids.forEach(K=>{r(K.bidder).enabled||((0,y.J)(K,"ortb2Imp.ext.ae",0),K.ortb2Imp.ext.igs={ae:0,biddable:0})})}});for(var k=arguments.length,q=new Array(k>2?k-2:0),I=2;I<k;I++)q[I-2]=arguments[I];v($,...q)}),(0,u.Yn)("makeBidRequests").after(function(v,$){a()&&$.forEach(k=>{var q;const{enabled:I}=r(k.bidderCode);Object.assign(k,{paapi:{enabled:I,componentSeller:!!((q=O.componentSeller)!=null&&q.auctionConfig)}})}),v($)}),G.on(D.qY.AUCTION_END,function(v){let{auctionId:$,bidsReceived:k,bidderRequests:q,adUnitCodes:I,adUnits:P}=v;const X=Object.fromEntries((P==null?void 0:P.map(S=>[S.code,S]))||[]),Y=q==null?void 0:q.flatMap(S=>S.bids),R={};(I||[]).forEach(S=>{R[S]=null,!C.hasOwnProperty(S)&&(C[S]=null)});const H=i($),T=h($);H&&T&&Object.entries(T).forEach(S=>{let[L,V]=S;(function(x){var K;let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(K=O==null?void 0:O.componentSeller)!=null?K:{},ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{compact:ee=>{return(te=ee.map(Z=>Z[1]),te.reduce((Z,ie)=>{if(F(ie)){let ae=Z.find(ye=>!ye.hasOwnProperty(ie.origin)||(0,l.deepEqual)(ye[ie.origin],ie));ae||(ae={},Z.push(ae)),ae[ie.origin]=ie}return Z},[]).map(Z=>Object.values(Z))).map(Z=>[{},Z]);var te},expand:f};return le.auctionConfig?(0,ce[le.separateAuctions?"expand":"compact"])(x).map(ee=>{let[te,Z]=ee;const ie=(0,l.mergeDeep)(z(Z),le.auctionConfig);return ie.auctionSignals=J(ie.auctionSignals||{},te),ie}):((0,l.logWarn)(g,"Cannot use IG buyers: paapi.componentSeller.auctionConfig not set",x.map(ee=>ee[1])),[])})(V).forEach(x=>W(H,L,x))}),Object.entries(H||{}).forEach(S=>{let[L,V]=S;const x=z=>z.adUnitCode===L,K=function(){let z,le,ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(ee.length>0){const ae=ee.reduce((0,b.Ph)((0,M.x4)(ye=>[ye.cpm,ye.currency])));z=ae.cpm,le=ae.currency}else{const ae=te.map(Ie=>typeof Ie.getFloor=="function"&&Ie.getFloor()).filter(Ie=>Ie),ye=ae.length&&ae.reduce((0,b.Bp)((0,M.x4)(Ie=>[Ie.floor,Ie.currency])));z=ye==null?void 0:ye.floor,le=ye==null?void 0:ye.currency}const Z={};z&&((0,y.J)(Z,"auctionSignals.prebid.bidfloor",z),le&&(0,y.J)(Z,"auctionSignals.prebid.bidfloorcur",le));const ie=_(ce);return ie&&(Z.requestedSize=ie),Z}(X[L],k==null?void 0:k.filter(x),Y==null?void 0:Y.filter(x));R[L]=ot(Fe({},K),{componentAuctions:V.map(z=>(0,l.mergeDeep)({},K,z))}),C[L]=$}),p($,R),n.forEach(S=>{var L;return(L=S.onAuctionConfig)==null?void 0:L.call(S,$,R,V=>R[V]!=null&&s.add(R[V]))})});const N={cur:"perBuyerCurrencies",pbs:"perBuyerSignals",ps:"perBuyerPrioritySignals",maxbid:"auctionSignals.prebid.perBuyerMaxbid"};function F(v){if(v.origin)return!0;(0,l.logWarn)("PAAPI buyer does not specify origin and will be ignored",v)}function U(v){const $=new Set;return Object.assign(v.reduce((k,q)=>(F(q)&&($.has(q.origin)?(0,l.logWarn)(g,`Duplicate buyer: ${q.origin}. All but the first will be ignored`,v):($.add(q.origin),Object.entries(N).forEach(I=>{let[P,X]=I;if(q[P]!=null){const Y=(0,B.A)(k,X)||{};Y[q.origin]=q[P],(0,y.J)(k,X,Y)}}))),k),{}),{interestGroupBuyers:Array.from($.keys())})}function f(v){const $={},k={};return v.forEach(q=>{let[I,P]=q;!$.hasOwnProperty(I.bidder)&&($[I.bidder]=I),W(k,I.bidder,P)}),Object.entries(k).map(q=>{let[I,P]=q;return[$[I],P]})}function o(){let{auctionId:v,adUnitCode:$}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=[];return $==null?k=Object.keys(C):C.hasOwnProperty($)&&(k=[$]),Object.fromEntries(k.map(q=>[q,v!=null?v:C[q]]))}function d(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const k={};return Object.entries(o(v)).forEach(q=>{let[I,P]=q;const X=p(P);if(X!=null&&X.hasOwnProperty(I)){const Y=X[I];Y&&!s.has(Y)?(k[I]=Y,s.add(Y)):$&&(k[I]=null)}else P==null&&$&&(k[I]=null)}),k}function a(){return"runAdAuction"in navigator&&"joinAdInterestGroup"in navigator}function r(v){var $,k;const q=O.enabled&&(v==null||!(($=O.bidders)!=null&&$.length)||((k=O.bidders)==null?void 0:k.includes(v)));return{enabled:q,ae:q?O.defaultForSlots:void 0}}(0,A.m)().getPAAPIConfig=v=>d(v);const w=(0,u.A_)("sync",function(v){if(v!=null&&v.length)return v.filter($=>{let[k,q]=$;return!(k===q&&k<=5)}).reduce((0,b.Ph)((0,b.NV)($=>{let[k,q]=$;return k*q})))},"getPAAPISize");function _(v){var $,k,q;return((q=(k=($=v.ortb2Imp)==null?void 0:$.ext)==null?void 0:k.paapi)==null?void 0:q.requestedSize)||(()=>{var I,P;const X=w((0,l.sizesToSizeTuples)((P=(I=v.mediaTypes)==null?void 0:I.banner)==null?void 0:P.sizes));if(X)return{width:X[0],height:X[1]}})()}function c(v,$,k){v.forEach(q=>{var I,P;const X=k.impContext[q.impid];(P=(I=X==null?void 0:X.imp)==null?void 0:I.ext)!=null&&P.ae?(X.paapiConfigs=X.paapiConfigs||[],X.paapiConfigs.push(q)):(0,l.logWarn)(g,"Received auction configuration for an impression that was not in the request or did not ask for it",q,X==null?void 0:X.imp)})}(0,j.pS)({type:j.Tb,name:"impExtAe",fn:function(v,$,k){var q,I,P;(q=k.bidderRequest.paapi)!=null&&q.enabled||((I=v.ext)==null||delete I.ae,(P=v.ext)==null||delete P.igs)}}),(0,j.pS)({type:j.Cf,name:"extPrebidFledge",fn:function(v,$,k){var q,I,P;c(((P=(I=(q=$.ext)==null?void 0:q.prebid)==null?void 0:I.fledge)==null?void 0:P.auctionconfigs)||[],0,k)},dialects:[j.e4]}),(0,j.pS)({type:j.Cf,name:"extIgiIgs",fn:function(v,$,k){var q;c((((q=$.ext)==null?void 0:q.igi)||[]).flatMap(I=>((I==null?void 0:I.igs)||[]).map(P=>{var X;return P.impid!==I.impid&&P.impid!=null&&I.impid!=null&&(0,l.logWarn)(g,"ORTB response ext.igi.igs.impid conflicts with parent's impid",I),{config:P.config,impid:(X=P.impid)!=null?X:I.impid}}).concat(((I==null?void 0:I.igb)||[]).map(P=>({igb:P,impid:I.impid})))),v,k)}}),(0,j.pS)({type:j.Cf,name:"paapiConfigs",priority:-1,fn:function(v,$,k){const q=Object.values(k.impContext).flatMap(I=>(I.paapiConfigs||[]).map(P=>Fe({bidId:I.bidRequest.bidId},P)));q.length>0&&(v.paapi=q)}}),(0,A.E)("paapi")}},re=>{re.O(0,[60802,41225,47606,51085],()=>{return Q=73294,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[25494],{36178:(re,Q,t)=>{var A=t(7873),e=t(16833),u=t(70433),l=t(91069),y=t(43272),B=t(12713),j=t(97779);const G="paapiForGpt";let D;y.$W.getConfig("paapi",g=>{(0,u.A)(g,"paapi.gpt.configWithTargeting",!0)?((0,l.logInfo)(G,"enabling PAAPI configuration with setTargetingForGPTAsync"),j.iS.setTargetingForGPT.before(m)):j.iS.setTargetingForGPT.getHooks({hook:m}).remove()});const M=function(){const g={};return function(n,s,i){var p;let h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(s.length>0){let C=(p=g[n])!=null?p:{},O=Object.fromEntries(i.map(N=>[N.seller,N]));const W=Object.keys(O);h?(O=Object.assign(C,O),C=Object.fromEntries(W.map(N=>[N,null]))):W.forEach(N=>{C[N]=null}),Object.keys(C).length?g[n]=C:delete g[n];const J=Object.entries(O).map(N=>{let[F,U]=N;return{configKey:F,auctionConfig:U}});J.length>0&&s.forEach(N=>{N.setConfig({componentAuction:J}),(0,l.logInfo)(G,`register component auction configs for: ${n}: ${N.getAdUnitPath()}`,i)})}else i.length>0&&(0,l.logWarn)(G,`unable to register component auction config for ${n}`,i)}}(),b=(()=>{const g=[[728,90],[336,280],[300,250],[300,50],[160,600],[1024,768],[970,250],[970,90],[768,1024],[480,320],[468,60],[320,480],[320,100],[320,50],[300,600],[300,100],[250,250],[234,60],[200,200],[180,150],[125,125],[120,600],[120,240],[120,60],[88,31],[980,120],[980,90],[950,90],[930,180],[750,300],[750,200],[750,100],[580,400],[250,360],[240,400]].sort((0,B.NV)(n=>{let[s,i]=n;return-s*i})).map(n=>[n,(0,l.sizeTupleToSizeString)(n)]);return function(n,s){if(s!=null&&s.length){const i=new Set(s.map(l.sizeTupleToSizeString)),p=g.find(h=>{let[C,O]=h;return i.has(O)});if(p)return void n.bail(p[0])}n(s)}})();(0,A.m)().setPAAPIConfigForGPT=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i=>D(i,!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.m2;return function(){let i=arguments.length>1?arguments[1]:void 0,p=!1;const h=g(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{})||{},C=s(Object.keys(h),i);Object.entries(h).forEach(O=>{let[W,J]=O;J!=null&&(p=!0),n(W,C[W],(J==null?void 0:J.componentAuctions)||[],!0)}),p||(0,l.logInfo)(`${G}: No component auctions available to set`)}}();const m=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,A.m)().setPAAPIConfigForGPT;return function(n,s,i){(Array.isArray(s)?s:[s]).map(p=>p==null?void 0:{adUnitCode:p}).forEach(p=>g(p,i)),n(s,i)}}();(0,e.bz)("paapi",{name:"gpt",init(g){D=g.getPAAPIConfig,(0,e.Yn)("getPAAPISize").before(b)}}),(0,A.E)("paapiForGpt")}},re=>{re.O(0,[60802,51085],()=>{return Q=36178,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[99831],{39739:(re,Q,t)=>{var A=t(7873),e=t(16833),u=t(12938),l=t(91069),y=t(45569);const B="pairId",j="pairId",G=(0,u.vM)({moduleType:y.fW,moduleName:B});function D(m){return G.localStorageIsEnabled()?G.getDataFromLocalStorage(m):null}function M(m){return G.cookiesAreEnabled()?G.getCookie(m):null}const b={name:B,gvlid:755,decode:m=>m&&Array.isArray(m)?{pairId:m}:void 0,getId(m){const g=D(j)||M(j);let n=[];if(g&&typeof g=="string")try{n=n.concat(JSON.parse(atob(g)))}catch(i){(0,l.logInfo)(i)}const s=m&&m.params||{};if(s&&s.liveramp){let i=s.liveramp.storageKey||"_lr_pairId";const p=D(i)||M(i);if(p)try{const h=atob(p);if(h){const C=JSON.parse(h);C&&typeof C=="object"&&C.envelope?n=n.concat(C.envelope):(0,l.logInfo)("Pairid: Parsed object is not valid or does not contain envelope")}else(0,l.logInfo)("Pairid: Decoded value is empty")}catch(h){(0,l.logInfo)("Pairid: Error parsing JSON: ",h)}else(0,l.logInfo)("Pairid: liverampValue for pairId from storage is empty or null")}if(n.length!=0)return{id:n};(0,l.logInfo)("PairId not found.")},eids:{pairId:{source:"google.com",atype:571187}}};(0,e.bz)("userId",b),(0,A.E)("pairIdSystem")}},re=>{re.O(0,[60802,51085],()=>{return Q=39739,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[41252],{63990:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(70433),l=t(63172),y=t(57377),B=t(71371),j=t(43272),G=t(95789),D=t(12693),M=t(78969);const b="pubmatic",m="PubMatic: ",g="USD",n=void 0,s="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),i="Video.plcmt param missing",p={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},h={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},C={mimes:h.ARRAY,minduration:h.NUMBER,maxduration:h.NUMBER,startdelay:h.NUMBER,playbackmethod:h.ARRAY,api:h.ARRAY,protocols:h.ARRAY,w:h.NUMBER,h:h.NUMBER,battr:h.ARRAY,linearity:h.NUMBER,placement:h.NUMBER,plcmt:h.NUMBER,minbitrate:h.NUMBER,maxbitrate:h.NUMBER,skip:h.NUMBER},O={ICON:1,IMAGE:3},W={battr:h.ARRAY},J={1:"PMP",5:"PREF",6:"PMPG"},N={bootstrapPlayer:function(R){const H={code:R.adUnitCode};if(R.vastXml?H.vastXml=R.vastXml:R.vastUrl&&(H.vastUrl=R.vastUrl),!R.vastXml&&!R.vastUrl)return void(0,e.logWarn)(`${m}: No vastXml or vastUrl on bid, bailing...`);const T=N.getRendererId("pubmatic",R.rendererCode),S=document.getElementById(R.adUnitCode);let L;for(let V=0;V<window.bluebillywig.renderers.length;V++)if(window.bluebillywig.renderers[V]._id===T){L=window.bluebillywig.renderers[V];break}L?L.bootstrap(H,S):(0,e.logWarn)(`${m}: Couldn't find a renderer with ${T}`)},newRenderer:function(R,H){var T=s.replace("$RENDERER",R);const S=G.A4.install({url:T,loaded:!1,adUnitCode:H});try{S.setRender(N.outstreamRender)}catch(L){(0,e.logWarn)(`${m}: Error tying to setRender on renderer`,L)}return S},outstreamRender:function(R){R.renderer.push(function(){N.bootstrapPlayer(R)})},getRendererId:function(R,H){return`${R}-${H}`}},F=[B.D4,B.G_,B.s6];let U=0,f=!1,o=["pubmatic"];const d=["all"];function a(R,H){if(!(0,e.isStr)(H))return H&&(0,e.logWarn)(m+"Ignoring param key: "+R+", expects string-value, found "+typeof H),n;switch(R){case"pmzoneid":return H.split(",").slice(0,50).map(T=>T.trim()).join();case"kadfloor":case"lat":case"lon":return parseFloat(H)||n;case"yob":return parseInt(H)||n;default:return H}}function r(R){var H;R.params.adUnit="",R.params.adUnitIndex="0",R.params.width=0,R.params.height=0,R.params.adSlot=(H=R.params.adSlot,(0,e.isStr)(H)?H.replace(/^\s+/g,"").replace(/\s+$/g,""):(H&&(0,e.logWarn)(b+": adSlot must be a string. Ignoring adSlot"),""));var T=R.params.adSlot,S=T.split(":");if(T=S[0],S.length==2&&(R.params.adUnitIndex=S[1]),S=T.split("@"),R.params.adUnit=S[0],S.length>1){if((S=S[1].split("x")).length!=2)return void(0,e.logWarn)(m+"AdSlot Error: adSlot not in required format");R.params.width=parseInt(S[0],10),R.params.height=parseInt(S[1],10)}else if(R.hasOwnProperty("mediaTypes")&&R.mediaTypes.hasOwnProperty(B.D4)&&R.mediaTypes.banner.hasOwnProperty("sizes")){for(var L=0,V=[];L<R.mediaTypes.banner.sizes.length;L++)R.mediaTypes.banner.sizes[L].length===2&&V.push(R.mediaTypes.banner.sizes[L]);R.mediaTypes.banner.sizes=V,R.mediaTypes.banner.sizes.length>=1&&(R.params.width=R.mediaTypes.banner.sizes[0][0],R.params.height=R.mediaTypes.banner.sizes[0][1],R.mediaTypes.banner.sizes=R.mediaTypes.banner.sizes.splice(1,R.mediaTypes.banner.sizes.length-1))}}function w(){let R=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(R==null?void 0:R.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function _(R,H,T){var S,L="Ignoring param key: "+R+", expects "+T+", found "+typeof H;switch(T){case h.BOOLEAN:S=e.isBoolean;break;case h.NUMBER:S=e.isNumber;break;case h.STRING:S=e.isStr;break;case h.ARRAY:S=e.isArray}return S(H)?H:((0,e.logWarn)(m+L),n)}const c={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},v=Object.values(c);function $(R){var H;if(R.ortb){R=R.ortb,H=ot(Fe({ver:"1.2"},R),{assets:[]});const{assets:T}=R,S=L=>L.title||L.img||L.data||L.video;if(T.length<1||!T.some(L=>S(L)))return(0,e.logWarn)(`${m}: Native assets object is empty or contains some invalid object`),f=!0,H;T.forEach(L=>{var V=L;V.img&&(V.img.type==O.IMAGE?(V.w=V.w||V.width||(V.sizes?V.sizes[0]:n),V.h=V.h||V.height||(V.sizes?V.sizes[1]:n),V.wmin=V.wmin||V.minimumWidth||(V.minsizes?V.minsizes[0]:n),V.hmin=V.hmin||V.minimumHeight||(V.minsizes?V.minsizes[1]:n)):V.img.type==O.ICON&&(V.w=V.w||V.width||(V.sizes?V.sizes[0]:n),V.h=V.h||V.height||(V.sizes?V.sizes[1]:n))),V&&V.id!==void 0&&S(V)&&H.assets.push(V)})}else H=function(T){if(!T&&!(0,e.isPlainObject)(T))return(0,e.logWarn)(`${m}: Native assets object is empty or not an object: ${T}`),void(f=!0);const S={ver:"1.2",assets:[]};for(let L in T){if(M._B.includes(L))continue;if(!M.x5.hasOwnProperty(L)&&!v.includes(L)){(0,e.logWarn)(`${m}: Unrecognized native asset code: ${L}. Asset will be ignored.`);continue}const V=T[L];let x=0;V.required&&(0,e.isBoolean)(V.required)&&(x=Number(V.required));const K={id:S.assets.length,required:x};if(L in c)K.data={type:M.jO[c[L]]},(V.len||V.length)&&(K.data.len=V.len||V.length),V.ext&&(K.data.ext=V.ext);else if(L==="icon"||L==="image"){if(K.img={type:L==="icon"?M.oA.ICON:M.oA.MAIN},V.aspect_ratios)if((0,e.isArray)(V.aspect_ratios))if(V.aspect_ratios.length){const{min_width:z,min_height:le}=V.aspect_ratios[0];(0,e.isInteger)(z)&&(0,e.isInteger)(le)?(K.img.wmin=z,K.img.hmin=le):(0,e.logWarn)(`${m}: image.aspect_ratios min_width or min_height are invalid: ${z}, ${le}`);const ce=V.aspect_ratios.filter(ee=>ee.ratio_width&&ee.ratio_height).map(ee=>`${ee.ratio_width}:${ee.ratio_height}`);ce.length>0&&(K.img.ext={aspectratios:ce})}else(0,e.logWarn)(`${m}: image.aspect_ratios was passed, but it's empty: ${V.aspect_ratios}`);else(0,e.logWarn)(`${m}: image.aspect_ratios was passed, but it's not a an array: ${V.aspect_ratios}`);K.img.w=V.w||V.width,K.img.h=V.h||V.height,K.img.wmin=V.wmin||V.minimumWidth||(V.minsizes?V.minsizes[0]:n),K.img.hmin=V.hmin||V.minimumHeight||(V.minsizes?V.minsizes[1]:n),V.sizes&&(V.sizes.length===2&&(0,e.isInteger)(V.sizes[0])&&(0,e.isInteger)(V.sizes[1])?((0,e.logInfo)(`${m}: if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin`),K.img.w=V.sizes[0],K.img.h=V.sizes[1],delete K.img.hmin,delete K.img.wmin):(0,e.logWarn)(`${m}: image.sizes was passed, but its value is not an array of integers: ${V.sizes}`)),V.ext&&(K.img.ext=V.ext),V.mimes&&(K.img.mimes=V.mimes)}else L==="title"?(K.title={len:V.len||V.length||140},V.ext&&(K.title.ext=V.ext)):L==="ext"&&(K.ext=V,delete K.required);S.assets.push(K)}return S.assets.length<1?((0,e.logWarn)(`${m}: Could not find any valid asset`),void(f=!0)):S}(R);return H}function k(R){var H,T=R.mediaTypes.banner.sizes,S=[];if(T!==n&&(0,e.isArray)(T)){if(H={},R.params.width||R.params.height)H.w=R.params.width,H.h=R.params.height;else{if(T.length===0)return H=n,(0,e.logWarn)(m+"Error: mediaTypes.banner.size missing for adunit: "+R.params.adUnit+". Ignoring the banner impression in the adunit."),H;H.w=parseInt(T[0][0],10),H.h=parseInt(T[0][1],10),T=T.splice(1,T.length-1)}T.length>0&&(S=[],T.forEach(function(V){V.length>1&&S.push({w:V[0],h:V[1]})}),S.length>0&&(H.format=S)),H.pos=0,H.topframe=(0,e.inIframe)()?0:1;const L=Fe({},(0,u.A)(R,"ortb2Imp.banner"));for(let V in W)L.hasOwnProperty(V)&&(H[V]=_(V,L[V],W[V]))}else(0,e.logWarn)(m+"Error: mediaTypes.banner.size missing for adunit: "+R.params.adUnit+". Ignoring the banner impression in the adunit."),H=n;return H}function q(R){var H,T=(0,e.mergeDeep)((0,u.A)(R.mediaTypes,"video"),R.params.video);if(T!==n){for(var S in H={},function(L,V){(0,u.A)(L,"plcmt")||(0,e.logWarn)(i+" for "+V)}(T,R.adUnitCode),C)T.hasOwnProperty(S)&&(H[S]=_(S,T[S],C[S]));(0,e.isArray)(R.mediaTypes.video.playerSize[0])?(H.w=parseInt(R.mediaTypes.video.playerSize[0][0],10),H.h=parseInt(R.mediaTypes.video.playerSize[0][1],10)):(0,e.isNumber)(R.mediaTypes.video.playerSize[0])&&(H.w=parseInt(R.mediaTypes.video.playerSize[0],10),H.h=parseInt(R.mediaTypes.video.playerSize[1],10))}else H=n,(0,e.logWarn)(m+"Error: Video config params missing for adunit: "+R.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return H}function I(R,H){var T,S,L,V,x={},K={},z=R.hasOwnProperty("sizes")?R.sizes:[],le="",ce=[],ee=(T=H==null?void 0:H.paapi)==null?void 0:T.enabled;if(function(te,Z){Z.params.deals&&((0,e.isArray)(Z.params.deals)?Z.params.deals.forEach(function(ie){(0,e.isStr)(ie)&&ie.length>3?(te.pmp||(te.pmp={private_auction:0,deals:[]}),te.pmp.deals.push({id:ie})):(0,e.logWarn)(m+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+ie)}):(0,e.logWarn)(m+"Error: bid.params.deals should be an array of strings."))}(x={id:R.bidId,tagid:R.params.adUnit||void 0,bidfloor:a("kadfloor",R.params.kadfloor),secure:1,ext:{pmZoneId:a("pmzoneid",R.params.pmzoneid)},bidfloorcur:R.params.currency?a("currency",R.params.currency):g,displaymanager:"Prebid.js",displaymanagerver:"9.8.0-pre",pmp:((S=R.ortb2Imp)==null?void 0:S.pmp)||void 0},R),function(te,Z){var ie,ae="";if(Z.params.dctr)if(ae=Z.params.dctr,(0,e.isStr)(ae)&&ae.length>0){var ye=ae.split("|");ae="",ye.forEach(Ie=>{ae+=Ie.length>0?Ie.trim()+"|":""}),ie=ae.length,ae.substring(ie,ie-1)==="|"&&(ae=ae.substring(0,ie-1)),te.ext.key_val=ae.trim()}else(0,e.logWarn)(m+"Ignoring param : dctr with value : "+ae+", expects string-value, found empty or non-string value")}(x,R),function(te,Z){var ie=Z.rtd&&Z.rtd.jwplayer&&Z.rtd.jwplayer.targeting||void 0,ae="";if(ie!==void 0&&ie!==""&&ie.hasOwnProperty("segments")){var ye,Ie=ie.segments.length;ae+="jw-id="+ie.content.id;for(var xe=0;xe<Ie;xe++)ae+="|jw-"+ie.segments[xe]+"=1";(ye=te.ext)&&ye.key_val===void 0?ye.key_val=ae:ye.key_val+="|"+ae}}(x,R),R.hasOwnProperty("mediaTypes"))for(le in R.mediaTypes)switch(le){case B.D4:(L=k(R))!==n&&(x.banner=L);break;case B.s6:K.request=JSON.stringify($(R.nativeParams)),f?((0,e.logWarn)(m+"Error: Error in Native adunit "+R.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),f=!1):x.native=K;break;case B.G_:(V=q(R))!==n&&(x.video=V)}else L={pos:0,w:R.params.width,h:R.params.height,topframe:(0,e.inIframe)()?0:1},(0,e.isArray)(z)&&z.length>1&&((z=z.splice(1,z.length-1)).forEach(te=>{ce.push({w:te[0],h:te[1]})}),L.format=ce),x.banner=L;return function(te,Z){const ie=Fe({},(0,u.A)(Z,"ortb2Imp.ext.data"));Object.keys(ie).forEach(ye=>{ye==="pbadslot"?typeof ie[ye]=="string"&&ie[ye]&&(0,l.J)(te,"ext.data.pbadslot",ie[ye]):ye==="adserver"?["name","adslot"].forEach(Ie=>{const xe=(0,u.A)(ie,`adserver.${Ie}`);typeof xe=="string"&&xe&&((0,l.J)(te,`ext.data.adserver.${Ie.toLowerCase()}`,xe),Ie==="adslot"&&(0,l.J)(te,"ext.dfp_ad_unit_code",xe))}):(0,l.J)(te,`ext.data.${ye}`,ie[ye])});const ae=(0,u.A)(Z,"ortb2Imp.ext.gpid");ae&&(0,l.J)(te,"ext.gpid",ae)}(x,R),function(te,Z){let ie=-1;typeof Z.getFloor!="function"||j.$W.getConfig("pubmatic.disableFloors")||[B.D4,B.G_,B.s6].forEach(ae=>{if(te.hasOwnProperty(ae)){let ye=[];ae==="banner"&&(te[ae].w&&te[ae].h&&ye.push([te[ae].w,te[ae].h]),(0,e.isArray)(te[ae].format)&&te[ae].format.forEach(Ie=>ye.push([Ie.w,Ie.h]))),ye.length===0&&ye.push("*"),ye.forEach(Ie=>{let xe=Z.getFloor({currency:te.bidfloorcur,mediaType:ae,size:Ie});if((0,e.logInfo)(m,"floor from floor module returned for mediatype:",ae," and size:",Ie," is: currency",xe.currency,"floor",xe.floor),typeof xe=="object"&&xe.currency===te.bidfloorcur&&!isNaN(parseInt(xe.floor))){let Ae=parseFloat(xe.floor);(0,e.logInfo)(m,"floor from floor module:",Ae,"previous floor value",ie,"Min:",Math.min(Ae,ie)),ie=ie===-1?Ae:Math.min(Ae,ie),(0,e.logInfo)(m,"new floor value:",ie)}})}}),te.bidfloor&&((0,e.logInfo)(m,"floor from floor module:",ie,"impObj.bidfloor",te.bidfloor,"Max:",Math.max(ie,te.bidfloor)),ie=Math.max(ie,te.bidfloor)),te.bidfloor=!isNaN(ie)&&ie>0?ie:n,(0,e.logInfo)(m,"new impObj.bidfloor value:",te.bidfloor)}(x,R),function(te,Z,ie){var ae,ye,Ie;ie?(te.ext=te.ext||{},((ye=(ae=Z==null?void 0:Z.ortb2Imp)==null?void 0:ae.ext)==null?void 0:ye.ae)!==void 0&&(te.ext.ae=Z.ortb2Imp.ext.ae)):(Ie=te.ext)!=null&&Ie.ae&&delete te.ext.ae}(x,R,ee),x.hasOwnProperty(B.D4)||x.hasOwnProperty(B.s6)||x.hasOwnProperty(B.G_)?x:n}function P(R,H){(H=H.filter(function(T){return typeof T=="string"||((0,e.logWarn)(m+"acat: Each category should be a string, ignoring category: "+T),!1)}).map(T=>T.trim()).filter((T,S,L)=>L.indexOf(T)===S)).length>0&&((0,e.logWarn)(m+"acat: Selected: ",H),R.ext.acat=H)}function X(R){return(0,e.isArray)(R)===!0&&R.length>0}const Y={code:b,gvlid:76,supportedMediaTypes:[B.D4,B.G_,B.s6],isBidRequestValid:R=>{if(R&&R.params){if(!(0,e.isStr)(R.params.publisherId))return(0,e.logWarn)(m+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(R)),!1;if(R.hasOwnProperty("mediaTypes")&&R.mediaTypes.hasOwnProperty(B.G_)){let H=(0,u.A)(R.mediaTypes,"video.mimes"),T=(0,u.A)(R,"params.video.mimes");if(X(H)===!1&&X(T)===!1)return(0,e.logWarn)(m+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(R)),!1;if(!R.mediaTypes[B.G_].hasOwnProperty("context"))return(0,e.logError)(`${m}: no context specified in bid. Rejecting bid: `,R),!1;if(R.mediaTypes[B.G_].context==="outstream"&&!(0,e.isStr)(R.params.outstreamAU)&&!R.hasOwnProperty("renderer")&&!R.mediaTypes[B.G_].hasOwnProperty("renderer"))return R.mediaTypes.hasOwnProperty(B.D4)||R.mediaTypes.hasOwnProperty(B.s6)?(delete R.mediaTypes[B.G_],(0,e.logWarn)(`${m}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,R),!0):((0,e.logError)(`${m}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,R),!1)}return!0}return!1},buildRequests:(R,H)=>{var T,S,L,V,x,K,z,le,ce,ee,te,Z,ie,ae,ye,Ie;H&&H.refererInfo&&(Ie=H.refererInfo);var xe,Ae=function(Oe){return{pageURL:(Oe==null?void 0:Oe.page)||window.location.href,refURL:(Oe==null?void 0:Oe.ref)||window.document.referrer}}(Ie),me=function(Oe){return{id:""+new Date().getTime(),at:1,cur:[g],imp:[],site:{page:Oe.pageURL,ref:Oe.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:w()},user:{},ext:{}}}(Ae),E="",oe=[],de=[],se=[],he=(0,e.generateUUID)();if(R.forEach(Oe=>{var Te,je;if(Oe.params.wiid=Oe.params.wiid||H.auctionId||he,(xe=(0,e.deepClone)(Oe)).params.adSlot=xe.params.adSlot||"",r(xe),!(xe.mediaTypes&&xe.mediaTypes.hasOwnProperty("video")||xe.params.hasOwnProperty("video"))){if(!(xe.hasOwnProperty("mediaTypes")&&xe.mediaTypes.hasOwnProperty(B.s6)||xe.params.width!==0||xe.params.height!==0))return void(0,e.logWarn)(m+"Skipping the non-standard adslot: ",xe.params.adSlot,JSON.stringify(xe))}Ae.pubId=Ae.pubId||xe.params.publisherId,(Ae=function(pe,fe){var be,ue,ve;for(be in fe.kadpageurl||(fe.kadpageurl=fe.pageURL),p)p.hasOwnProperty(be)&&(ue=pe[be])&&(typeof(ve=p[be])=="object"&&(ue=ve.f(ue,fe)),(0,e.isStr)(ue)?fe[be]=ue:(0,e.logWarn)(m+"Ignoring param : "+be+" with value : "+p[be]+", expects string-value, found "+typeof ue));return fe}(xe.params,Ae)).transactionId=(je=(Te=xe.ortb2Imp)==null?void 0:Te.ext)==null?void 0:je.tid,E===""?E=xe.params.currency||n:xe.params.hasOwnProperty("currency")&&E!==xe.params.currency&&(0,e.logWarn)(m+"Currency specifier ignored. Only one currency permitted."),xe.params.currency=E,xe.params.hasOwnProperty("dctr")&&(0,e.isStr)(xe.params.dctr)&&oe.push(xe.params.dctr),xe.params.hasOwnProperty("bcat")&&(0,e.isArray)(xe.params.bcat)&&(de=de.concat(xe.params.bcat)),xe.params.hasOwnProperty("acat")&&(0,e.isArray)(xe.params.acat)&&(se=se.concat(xe.params.acat));var qe=I(xe,H);qe&&me.imp.push(qe)}),me.imp.length==0)return;me.site.publisher.id=Ae.pubId.trim(),U=Ae.pubId.trim(),me.ext.wrapper={},me.ext.wrapper.profile=parseInt(Ae.profId)||n,me.ext.wrapper.version=parseInt(Ae.verId)||n,me.ext.wrapper.wiid=Ae.wiid||H.auctionId,me.ext.wrapper.wv="prebid_prebid_9.8.0-pre",me.ext.wrapper.transactionId=Ae.transactionId,me.ext.wrapper.wp="pbjs";const we=H?D.u.get(H.bidderCode,"allowAlternateBidderCodes"):void 0;if(we!==void 0){if(me.ext.marketplace={},H&&we==1){let Oe=D.u.get(H.bidderCode,"allowedAlternateBidderCodes");(0,e.isArray)(Oe)?(Oe=Oe.map(Te=>Te.trim().toLowerCase()).filter(Te=>!!Te).filter(e.uniques),o=Oe.includes("*")?d:[...o,...Oe]):o=d}me.ext.marketplace.allowedbidders=o.filter(e.uniques)}me.user.gender=Ae.gender?Ae.gender.trim():n,me.user.geo={},me.user.yob=a("yob",Ae.yob),me.site.page=Ae.kadpageurl.trim()||me.site.page.trim(),me.site.domain=function(Oe){let Te=document.createElement("a");return Te.href=Oe,Te.hostname}(me.site.page),typeof j.$W.getConfig("content")=="object"&&(me.site.content=j.$W.getConfig("content")),typeof j.$W.getConfig("device")=="object"&&(me.device=Object.assign(me.device,j.$W.getConfig("device"))),me.device.language=me.device.language&&me.device.language.split("-")[0],(0,l.J)(me,"source.tid",(S=(T=H==null?void 0:H.ortb2)==null?void 0:T.source)==null?void 0:S.tid),window.location.href.indexOf("pubmaticTest=true")!==-1&&(me.test=1),R[0].schain&&(0,l.J)(me,"source.ext.schain",R[0].schain),H&&H.gdprConsent&&((0,l.J)(me,"user.ext.consent",H.gdprConsent.consentString),(0,l.J)(me,"regs.ext.gdpr",H.gdprConsent.gdprApplies?1:0)),H&&H.uspConsent&&(0,l.J)(me,"regs.ext.us_privacy",H.uspConsent),(L=H==null?void 0:H.gppConsent)!=null&&L.gppString?((0,l.J)(me,"regs.gpp",H.gppConsent.gppString),(0,l.J)(me,"regs.gpp_sid",H.gppConsent.applicableSections)):(x=(V=H==null?void 0:H.ortb2)==null?void 0:V.regs)!=null&&x.gpp&&((0,l.J)(me,"regs.gpp",H.ortb2.regs.gpp),(0,l.J)(me,"regs.gpp_sid",H.ortb2.regs.gpp_sid)),j.$W.getConfig("coppa")===!0&&(0,l.J)(me,"regs.coppa",1),(le=(z=(K=H==null?void 0:H.ortb2)==null?void 0:K.regs)==null?void 0:z.ext)!=null&&le.dsa&&(0,l.J)(me,"regs.ext.dsa",H.ortb2.regs.ext.dsa),function(Oe,Te){let je=(0,u.A)(Te,"0.userIdAsEids");(0,e.isArray)(je)&&je.length>0&&(0,l.J)(Oe,"user.eids",je)}(me,R);const Se=H&&H.ortb2||{},{user:Ce,device:Ee,site:$e,bcat:Re,badv:Ue}=Se;if($e){const{page:Oe,domain:Te,ref:je}=me.site;(0,e.mergeDeep)(me,{site:$e}),me.site.page=Oe,me.site.domain=Te,me.site.ref=je}if(Ce&&(0,e.mergeDeep)(me,{user:Ce}),Ue&&(0,e.mergeDeep)(me,{badv:Ue}),Re&&(de=de.concat(Re)),Ee!=null&&Ee.sua&&(me.device.sua=Ee==null?void 0:Ee.sua),(ce=Ee==null?void 0:Ee.ext)!=null&&ce.cdep&&(0,l.J)(me,"device.ext.cdep",Ee.ext.cdep),Ce!=null&&Ce.geo&&(Ee!=null&&Ee.geo)?(me.device.geo=Fe(Fe({},me.device.geo),Ee.geo),me.user.geo=Fe(Fe({},me.user.geo),Ce.geo)):(Ce!=null&&Ce.geo||Ee!=null&&Ee.geo)&&(me.user.geo=me.device.geo=Ce!=null&&Ce.geo?Fe(Fe({},me.user.geo),Ce.geo):Fe(Fe({},me.user.geo),Ee.geo)),(ie=(Z=(te=(ee=Se.ext)==null?void 0:ee.prebid)==null?void 0:te.bidderparams)==null?void 0:Z[H.bidderCode])==null?void 0:ie.acat){const Oe=Se.ext.prebid.bidderparams[H.bidderCode].acat;P(me,Oe)}else se.length&&P(me,se);return function(Oe,Te){(Te=Te.filter(function(je){return typeof je=="string"||((0,e.logWarn)(m+"bcat: Each category should be a string, ignoring category: "+je),!1)}).map(je=>je.trim()).filter(function(je,qe,pe){if(je.length>3)return pe.indexOf(je)===qe;(0,e.logWarn)(m+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+je)})).length>0&&((0,e.logWarn)(m+"bcat: Selected: ",Te),Oe.bcat=Te)}(me,de),me.tmax=H!=null&&H.timeout?H.timeout:(ye=(ae=window==null?void 0:window.PWT)==null?void 0:ae.versionDetails)==null?void 0:ye.timeout,me.ext.epoch=new Date().getTime(),typeof j.$W.getConfig("app")=="object"&&(me.app=j.$W.getConfig("app"),me.app.publisher=me.site.publisher,me.app.ext=me.site.ext||n,typeof me.app.content!="object"&&(me.app.content=me.site.content||n),delete me.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(me),bidderRequest:H}},interpretResponse:(R,H)=>{const T=[];var S=g;let L=JSON.parse(H.data),V=L.site&&L.site.ref?L.site.ref:"";try{R.body&&R.body.seatbid&&(0,e.isArray)(R.body.seatbid)&&(S=R.body.cur||S,R.body.seatbid.forEach(K=>{K.bid&&(0,e.isArray)(K.bid)&&K.bid.forEach(z=>{let le={requestId:z.impid,cpm:parseFloat((z.price||0).toFixed(2)),width:z.w,height:z.h,creativeId:z.crid||z.id,dealId:z.dealid,currency:S,netRevenue:!0,ttl:300,referrer:V,ad:z.adm,pm_seat:K.seat||null,pm_dspid:z.ext&&z.ext.dspid?z.ext.dspid:null,partnerImpId:z.id||""};L.imp&&L.imp.length>0&&L.imp.forEach(ce=>{if(z.impid===ce.id)switch(function(ee,te){if(ee.ext&&ee.ext.bidtype!=null)te.mediaType=F[ee.ext.bidtype];else{(0,e.logInfo)(m+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var Z=ee.adm,ie="",ae=new RegExp(/VAST\s+version/);if(Z.indexOf('span class="PubAPIAd"')>=0)te.mediaType=B.D4;else if(ae.test(Z))te.mediaType=B.G_;else try{(ie=JSON.parse(Z.replace(/\\/g,"")))&&ie.native&&(te.mediaType=B.s6)}catch(ye){(0,e.logWarn)(m+"Error: Cannot parse native reponse for ad response: "+Z)}}}(z,le),le.mediaType){case B.D4:break;case B.G_:le.width=z.hasOwnProperty("w")?z.w:ce.video.w,le.height=z.hasOwnProperty("h")?z.h:ce.video.h,le.vastXml=z.adm,function(ee,te){let Z,ie,ae;if(te.bidderRequest&&te.bidderRequest.bids){for(let ye=0;ye<te.bidderRequest.bids.length;ye++)te.bidderRequest.bids[ye].bidId===ee.requestId&&(Z=te.bidderRequest.bids[ye].params,ie=te.bidderRequest.bids[ye].mediaTypes[B.G_].context,ae=te.bidderRequest.bids[ye].adUnitCode);ie&&ie==="outstream"&&Z&&Z.outstreamAU&&ae&&(ee.rendererCode=Z.outstreamAU,ee.renderer=N.newRenderer(ee.rendererCode,ae))}}(le,H),function(ee,te,Z){var ie,ae,ye;if(!((ie=te==null?void 0:te.ext)!=null&&ie.prebiddealpriority))return;const Ie=(0,e.getBidRequest)(ee.requestId,[Z.bidderRequest]),xe=(0,u.A)(Ie,"mediaTypes.video");if((xe==null?void 0:xe.context)!=B.LM)return;const Ae=((ye=(ae=te==null?void 0:te.ext)==null?void 0:ae.video)==null?void 0:ye.duration)||(xe==null?void 0:xe.maxduration);ee.video={context:B.LM,durationSeconds:Ae,dealTier:te.ext.prebiddealpriority}}(le,z,H);break;case B.s6:(function(ee,te){if(ee.hasOwnProperty("adm")){var Z="";try{Z=JSON.parse(ee.adm.replace(/\\/g,""))}catch(ie){return void(0,e.logWarn)(m+"Error: Cannot parse native reponse for ad response: "+te.adm)}te.native={ortb:Fe({},Z.native)},te.mediaType=B.s6,te.width||(te.width=0),te.height||(te.height=0)}})(z,le)}}),z.ext&&z.ext.deal_channel&&(le.dealChannel=J[z.ext.deal_channel]||null),function(ce,ee,te){ce.meta={},ee.ext&&ee.ext.dspid&&(ce.meta.networkId=ee.ext.dspid,ce.meta.demandSource=ee.ext.dspid),ee.ext&&ee.ext.dchain&&(ce.meta.dchain=ee.ext.dchain);const Z=te||ee.ext&&ee.ext.advid;Z&&(ce.meta.advertiserId=Z,ce.meta.agencyId=Z,ce.meta.buyerId=Z),ee.adomain&&X(ee.adomain)&&(ce.meta.advertiserDomains=ee.adomain,ce.meta.clickUrl=ee.adomain[0],ce.meta.brandId=ee.adomain[0]),ee.cat&&X(ee.cat)&&(ce.meta.secondaryCatIds=ee.cat,ce.meta.primaryCatId=ee.cat[0]),ee.ext&&ee.ext.dsa&&Object.keys(ee.ext.dsa).length&&(ce.meta.dsa=ee.ext.dsa)}(le,z,K.seat),K.ext&&K.ext.buyid&&(le.adserverTargeting={hb_buyid_pubmatic:K.ext.buyid}),z.ext&&z.ext.marketplace&&(le.bidderCode=z.ext.marketplace),T.push(le)})}));let x=(0,u.A)(R.body,"ext.fledge_auction_configs");if(x)return x=Object.entries(x).map(K=>{let[z,le]=K;return{bidId:z,config:Object.assign({auctionSignals:{}},le)}}),{bids:T,paapi:x}}catch(x){(0,e.logError)(x)}return T},getUserSyncs:(R,H,T,S,L)=>{var V,x;let K=""+U;return T&&(K+="&gdpr="+(T.gdprApplies?1:0),K+="&gdpr_consent="+encodeURIComponent(T.consentString||"")),S&&(K+="&us_privacy="+encodeURIComponent(S)),L!=null&&L.gppString&&((V=L==null?void 0:L.applicableSections)!=null&&V.length)&&(K+="&gpp="+encodeURIComponent(L.gppString),K+="&gpp_sid="+encodeURIComponent((x=L==null?void 0:L.applicableSections)==null?void 0:x.join(","))),j.$W.getConfig("coppa")===!0&&(K+="&coppa=1"),R.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+K}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+K}]}};(0,y.a$)(Y),(0,A.E)("pubmaticBidAdapter")}},re=>{re.O(0,[60802,51085],()=>{return Q=63990,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[62711],{99293:(re,Q,t)=>{var A=t(7873),e=t(89766),u=t(34610),l=t(57377),y=t(43272),B=t(71371),j=t(15901),G=t(95789),D=t(91069),M=t(63172),b=t(70433),m=t(28656);const g="https://video-outstream.rubiconproject.com/apex-2.2.1.js";let n=y.$W.getConfig("rubicon")||{};y.$W.getConfig("rubicon",o=>{(0,D.mergeDeep)(n,o.rubicon)});var s={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,D._each)(s,(o,d)=>s[o]=d);const i=(0,e.A)({request(o,d,a,r){var w,_;const{bidRequests:c}=r,v=o(d,a,r);var $;v.cur=["USD"],v.test=y.$W.getConfig("debug")?1:0,(0,M.J)(v,"ext.prebid.cache",{vastxml:{returnCreative:n.returnVast===!0}}),(0,M.J)(v,"ext.prebid.bidders",{rubicon:{integration:n.int_type||"pbjs"}}),(0,M.J)(v,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:($=y.$W).getConfig("customPriceBucket")&&$.getConfig("customPriceBucket").buckets}[$.getConfig("priceGranularity")]});let k=(0,A.m)().installedModules;return!k||k.length&&k.indexOf("rubiconAnalyticsAdapter")===-1||(0,M.J)(v,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(q,I,P){var X,Y;let R={};const H=(0,m.D)(P,...I.map(T=>T.params.keywords));I.forEach(T=>{var S,L,V,x,K;const z={user:{ext:{data:Fe({},T.params.visitor)}},site:{ext:{data:Fe({},T.params.inventory)}}},le=q.imp.find(ee=>{var te,Z,ie,ae,ye;return(ye=(ae=(ie=(Z=(te=ee.ext)==null?void 0:te.prebid)==null?void 0:Z.bidder)==null?void 0:ie.rubicon)==null?void 0:ae.video)==null?void 0:ye.language});le&&(z.site.content={language:(K=(x=(V=(L=(S=le.ext)==null?void 0:S.prebid)==null?void 0:L.bidder)==null?void 0:V.rubicon)==null?void 0:x.video)==null?void 0:K.language}),R=(0,D.mergeDeep)(R,T.ortb2||{},z);const ce=y.$W.getConfig("user.id");R.user.id=R.user.id||ce}),(0,D.mergeDeep)(q,R),H&&H.length&&(0,M.J)(q,"site.keywords",H.join(",")),(Y=(X=q==null?void 0:q.ext)==null?void 0:X.prebid)==null||delete Y.storedrequest}(v,c,a.ortb2),(_=(w=v==null?void 0:v.ext)==null?void 0:w.prebid)==null||delete _.storedrequest,n.disableFloors===!0&&delete v.ext.prebid.floors,c.filter(q=>typeof q.floorData=="object").length>0&&(v.ext.prebid.floors={enabled:!1}),v},imp(o,d,a){var r,w;const _=N(d);if(_.includes(B.D4)&&_.length==1)return;const c=o(d,a);return c.id=d.adUnitCode,delete c.banner,d.params.position==="atf"&&c.video&&(c.video.pos=1),d.params.position==="btf"&&c.video&&(c.video.pos=3),(w=(r=c.ext)==null?void 0:r.prebid)==null||delete w.storedrequest,d.params.bidonmultiformat===!0&&_.length>1&&(0,M.J)(c,"ext.prebid.bidder.rubicon.formats",_),function(v,$){if($.bidfloorcur!="USD"&&(delete $.bidfloor,delete $.bidfloorcur),!$.bidfloor){let k=parseFloat((0,b.A)(v,"params.floor"));isNaN(k)||($.bidfloor=k,$.bidfloorcur="USD")}}(d,c),c},bidResponse(o,d,a){var r;const w=o(d,a);w.meta.mediaType=(0,b.A)(d,"ext.prebid.type");const{bidRequest:_}=a;let[c,v]=((r=_.mediaTypes.video)==null?void 0:r.context)==="outstream"?O(_,B.G_):[void 0,void 0];return w.width=d.w||c||w.playerWidth||0,w.height=d.h||v||w.playerHeight||0,w.mediaType===B.G_&&_.mediaTypes.video.context==="outstream"&&(w.renderer=function($){const k=G.A4.install({id:$.adId,url:n.rendererUrl||g,config:n.rendererConfig||{},loaded:!1,adUnitCode:$.adUnitCode});try{k.setRender(C)}catch(q){(0,D.logWarn)("Prebid Error calling setRender on renderer",q)}return k}(w)),(0,b.A)(d,"ext.bidder.rp.advid")&&(0,M.J)(w,"meta.advertiserId",d.ext.bidder.rp.advid),w},context:{netRevenue:n.netRevenue!==!1,ttl:360},processors:u.m}),p={code:"rubicon",gvlid:52,supportedMediaTypes:[B.D4,B.G_,B.s6],isBidRequestValid:function(o){let d=!0;if(typeof o.params!="object")return!1;for(let w=0,_=["accountId","siteId","zoneId"];w<_.length;w++)if(o.params[_[w]]=parseInt(o.params[_[w]]),isNaN(o.params[_[w]]))return(0,D.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let a=N(o,!0);if(!a.length)return!1;a.includes(B.G_)&&(d=function(w){let _=!0,c=Object.prototype.toString.call([]),v=Object.prototype.toString.call(0);var $={mimes:c,protocols:c,linearity:v};return Object.keys($).forEach(function(k){Object.prototype.toString.call((0,b.A)(w,"mediaTypes.video."+k))!==$[k]&&(_=!1,(0,D.logError)("Rubicon: mediaTypes.video."+k+" is required and must be of type: "+$[k]))}),_}(o));const r=[B.D4,B.s6].filter(w=>a.includes(w)).length>0;return r?d&&r:d},buildRequests:function(o,d){let a,r=[],w=[];if(a=o.filter(c=>{const v=N(c)||[],{length:$}=v,{bidonmultiformat:k,video:q}=c.params||{};return $===1&&(v.includes(B.G_)||v.includes(B.s6))||$===2&&!v.includes(B.D4)||q&&v.includes(B.G_)||k&&(v.includes(B.G_)||v.includes(B.s6))}),a&&a.length){const c=i.toORTB({bidRequests:a,bidderRequest:d});w.push({method:"POST",url:`https://${n.videoHost||"prebid-server"}.rubiconproject.com/openrtb2/auction`,data:c,bidRequest:a})}const _=o.filter(c=>{const v=N(c)||[],{bidonmultiformat:$,video:k}=c.params||{};return v.includes(B.D4)&&(v.length===1||$||!$&&!k||!$&&k&&!v.includes(B.G_))});if(n.singleRequest!==!0)r=w.concat(_.map(c=>{const v=p.createSlotParams(c,d);return{method:"GET",url:`https://${n.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:p.getOrderedParams(v).reduce(($,k)=>{const q=v[k];return(0,D.isStr)(q)&&q!==""||(0,D.isNumber)(q)?`${$}${U(k,q)}&`:$},"")+`slots=1&rand=${Math.random()}`,bidRequest:c}}));else{const c=_.reduce(($,k)=>(($[k.params.siteId]=$[k.params.siteId]||[]).push(k),$),{}),v=10;r=w.concat(Object.keys(c).reduce(($,k)=>{var q,I;return(q=c[k],I=v,q.map((P,X)=>X%I==0?q.slice(X,X+I):null).filter(P=>P)).forEach(P=>{const X=p.combineSlotUrlParams(P.map(Y=>p.createSlotParams(Y,d)));$.push({method:"GET",url:`https://${n.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:p.getOrderedParams(X).reduce((Y,R)=>{const H=X[R];return(0,D.isStr)(H)&&H!==""||(0,D.isNumber)(H)?`${Y}${U(R,H)}&`:Y},"")+`slots=${P.length}&rand=${Math.random()}`,bidRequest:P})}),$},[]))}return r},getOrderedParams:function(o){const d=/^tg_v/,a=/^tg_i/,r=/^eid_|^tpid_/,w=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(o).filter(_=>r.test(_))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(o).filter(_=>d.test(_))).concat(Object.keys(o).filter(_=>a.test(_))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return w.concat(Object.keys(o).filter(_=>w.indexOf(_)===-1))},combineSlotUrlParams:function(o){if(o.length===1)return o[0];const d=o.reduce(function(r,w,_){return Object.keys(w).forEach(function(c){r.hasOwnProperty(c)||(r[c]=new Array(o.length)),r[c].splice(_,1,w[c])}),r},{}),a=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(d).forEach(function(r){const w=d[r].join(";"),_=w.match(a);d[r]=_?_[1]:w}),d},createSlotParams:function(o,d){var a,r,w,_,c,v,$,k,q,I,P,X;o.startTime=new Date().getTime();const Y=o.params,R=O(o,"banner"),[H,T]=Y.latLong||[],S={account_id:Y.accountId,site_id:Y.siteId,zone_id:Y.zoneId,size_id:R[0],alt_size_ids:R.slice(1).join(",")||void 0,rp_floor:(Y.floor=parseFloat(Y.floor))>=.01?Y.floor:void 0,rp_secure:"1",tk_flint:`${n.int_type||"pbjs_lite"}_v9.8.0-pre`,"x_source.tid":(r=(a=d.ortb2)==null?void 0:a.source)==null?void 0:r.tid,"x_imp.ext.tid":(_=(w=o.ortb2Imp)==null?void 0:w.ext)==null?void 0:_.tid,l_pb_bid_id:o.bidId,o_cdep:($=(v=(c=o.ortb2)==null?void 0:c.device)==null?void 0:v.ext)==null?void 0:$.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:Y.userId,"p_geo.latitude":isNaN(parseFloat(H))?void 0:parseFloat(H).toFixed(4),"p_geo.longitude":isNaN(parseFloat(T))?void 0:parseFloat(T).toFixed(4),"tg_fl.eid":o.code,rf:h(o,d)};if(typeof o.getFloor=="function"&&!n.disableFloors){let x;try{x=o.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(K){(0,D.logError)("Rubicon: getFloor threw an error: ",K)}S.rp_hard_floor=typeof x!="object"||x.currency!=="USD"||isNaN(parseInt(x.floor))?void 0:x.floor}Y.bidonmultiformat===!0&&(0,b.A)(o,"mediaTypes")&&Object.keys(o.mediaTypes).length>1&&(S.p_formats=Object.keys(o.mediaTypes).join(","));let L={1:"atf",3:"btf"}[(0,b.A)(o,"mediaTypes.banner.pos")]||"";S.p_pos=Y.position==="atf"||Y.position==="btf"?Y.position:L;const V=y.$W.getConfig("user.id");return V&&(S.ppuid=V),(q=(k=o==null?void 0:o.ortb2Imp)==null?void 0:k.ext)!=null&&q.ae&&(S.o_ae=1),function(x,K){var z,le,ce,ee,te,Z,ie;if(n.readTopics===!1)return;let ae=[1,2,5,6,7,507].concat(((z=n.sendSiteSegtax)==null?void 0:z.map(Ae=>Number(Ae)))||[]),ye=[4,508].concat(((le=n.sendUserSegtax)==null?void 0:le.map(Ae=>Number(Ae)))||[]),Ie=((ee=(ce=x.ortb2)==null?void 0:ce.user)==null?void 0:ee.data)||[],xe=((ie=(Z=(te=x.ortb2)==null?void 0:te.site)==null?void 0:Z.content)==null?void 0:ie.data)||[];Ie.forEach(W(K,"v",ye)),xe.forEach(W(K,"i",ae))}(d,S),o.userIdAsEids&&o.userIdAsEids.forEach(x=>{try{if(x.source==="adserver.org")S.tpid_tdid=x.uids[0].id,S["eid_adserver.org"]=x.uids[0].id;else if(x.source==="liveintent.com")S["tpid_liveintent.com"]=x.uids[0].id,S["eid_liveintent.com"]=x.uids[0].id,x.ext&&Array.isArray(x.ext.segments)&&x.ext.segments.length&&(S["tg_v.LIseg"]=x.ext.segments.join(","));else if(x.source==="liveramp.com")S.x_liverampidl=x.uids[0].id;else if(x.source==="id5-sync.com")S["eid_id5-sync.com"]=`${x.uids[0].id}^${x.uids[0].atype}^${x.uids[0].ext&&x.uids[0].ext.linkType||""}`;else{const K=x.source==="rubiconproject.com"?x.uids[0].id:`${x.uids[0].id}^${x.uids[0].atype||""}`;S[`eid_${x.source}`]=K}if(!S.ppuid){const K=(0,j.I6)(x.uids,z=>z.ext&&z.ext.stype==="ppuid");K&&K.id&&(S.ppuid=K.id)}}catch(K){(0,D.logWarn)("Rubicon: error reading eid:",x,K)}}),d.gdprConsent&&(typeof d.gdprConsent.gdprApplies=="boolean"&&(S.gdpr=Number(d.gdprConsent.gdprApplies)),S.gdpr_consent=d.gdprConsent.consentString),d.uspConsent&&(S.us_privacy=encodeURIComponent(d.uspConsent)),(I=d.gppConsent)!=null&&I.gppString&&(S.gpp=d.gppConsent.gppString,S.gpp_sid=(X=(P=d.gppConsent)==null?void 0:P.applicableSections)==null?void 0:X.toString()),S.rp_maxbids=d.bidLimit||1,function(x,K,z){const le={user:{ext:{data:Fe({},x.params.visitor)}},site:{ext:{data:Fe({},x.params.inventory)}}};x.params.keywords&&(le.site.keywords=(0,D.isArray)(x.params.keywords)?x.params.keywords.join(","):x.params.keywords);let ce=(0,D.mergeDeep)({},x.ortb2||{},le),ee=(0,b.A)(x.ortb2Imp,"ext")||{},te=(0,b.A)(x.ortb2Imp,"ext.data")||{};const Z=(0,b.A)(x,"ortb2Imp.ext.gpid"),ie=(0,b.A)(ce,"regs.ext.dsa"),ae={user:[4],site:[1,2,5,6]},ye={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},Ie=function(Ae,me,E){return me==="data"&&Array.isArray(Ae)?Ae.filter(oe=>oe.segment&&(0,b.A)(oe,"ext.segtax")&&ae[E]&&ae[E].indexOf((0,b.A)(oe,"ext.segtax"))!==-1).map(oe=>{let de=oe.segment.filter(se=>se.id).reduce((se,he)=>(se.push(he.id),se),[]);if(de.length>0)return de.toString()}).toString():(typeof Ae!="object"||Array.isArray(Ae))&&Ae!==void 0?Array.isArray(Ae)?Ae.filter(oe=>{if(typeof oe!="object"&&oe!==void 0)return oe.toString();(0,D.logWarn)("Rubicon: Filtered value: ",oe,"for key",me,": Expected value to be string, integer, or an array of strings/ints")}).toString():Ae.toString():void 0},xe=function(Ae,me,E){let oe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],de=Ie(Ae,E,me),se=ye[E]&&oe?`${ye[E]}`:E==="data"?`${ye[me]}iab`:`${ye[me]}${E}`;z[se]=z[se]?z[se].concat(",",de):de};if(K===B.D4){["site","user"].forEach(me=>{Object.keys(ce[me]).forEach(E=>{me==="site"&&E==="content"&&ce[me][E].data?xe(ce[me][E].data,me,"data"):E!=="ext"?xe(ce[me][E],me,E):ce[me][E].data&&Object.keys(ce[me].ext.data).forEach(oe=>{xe(ce[me].ext.data[oe],me,oe,!1)})})}),Object.keys(te).forEach(me=>{me!=="adserver"?xe(te[me],"site",me):te[me].name==="gam"&&xe(te[me].adslot,name,me)}),Z&&(z.p_gpid=Z),ie&&Object.keys(ie).length&&(0,D.pick)(ie,["dsainfo",me=>z.dsainfo=me,"dsarequired",me=>z.dsarequired=me,"pubrender",me=>z.dsapubrender=me,"datatopub",me=>z.dsadatatopubs=me,"transparency",me=>{Array.isArray(me)&&me.length&&(z.dsatransparency=me.reduce((E,oe)=>{const de=oe.domain||"";if(!de)return E;const se=oe.dsaparams||oe.params;return Array.isArray(se)&&se.length!==0?(E&&(E+="~~"),E+`${de}~${se.join("_")}`):E},""))}]),z["tg_i.pbadslot"]&&delete z["tg_i.dfp_ad_unit_code"];const Ae=(0,b.A)(ce,"device.sua");Ae&&n.chEnabled!==!1&&(0,D.pick)(Ae,["architecture",me=>z.m_ch_arch=me,"bitness",me=>z.m_ch_bitness=me,"browsers",me=>{var E,oe;if(!Array.isArray(me))return;const[de,se]=me.reduce((he,we)=>{var Se,Ce,Ee;return he[0].push(`"${we==null?void 0:we.brand}"|v="${(Se=we==null?void 0:we.version)==null?void 0:Se[0]}"`),he[1].push(`"${we==null?void 0:we.brand}"|v="${(Ee=(Ce=we==null?void 0:we.version)==null?void 0:Ce.join)==null?void 0:Ee.call(Ce,".")}"`),he},[[],[]]);z.m_ch_ua=(E=de==null?void 0:de.join)==null?void 0:E.call(de,","),z.m_ch_full_ver=(oe=se==null?void 0:se.join)==null?void 0:oe.call(se,",")},"mobile",me=>z.m_ch_mobile=`?${me}`,"model",me=>z.m_ch_model=me,"platform",me=>{var E,oe;z.m_ch_platform=me==null?void 0:me.brand,z.m_ch_platform_ver=(oe=(E=me==null?void 0:me.version)==null?void 0:E.join)==null?void 0:oe.call(E,".")}])}else Object.keys(ee).length&&(0,D.mergeDeep)(z.imp[0].ext,ee),Z&&(z.imp[0].ext.gpid=Z),(0,D.mergeDeep)(z,ce)}(o,B.D4,S),y.$W.getConfig("coppa")===!0&&(S.coppa=1),o.schain&&F(o.schain)&&(S.rp_schain=p.serializeSupplyChain(o.schain)),S},serializeSupplyChain:function(o){if(!F(o))return"";const{ver:d,complete:a,nodes:r}=o;return`${d},${a}!${p.serializeSupplyChainNodes(r)}`},serializeSupplyChainNodes:function(o){const d=["asi","sid","hp","rid","name","domain"];return o.map(a=>d.map(r=>encodeURIComponent(a[r]||"")).join(",")).join("!")},interpretResponse:function(o,d){var a;o=o.body;const{data:r}=d;if(!o||typeof o!="object")return[];if(o.seatbid){const q=(0,b.A)(o,"ext.errors.rubicon");return Array.isArray(q)&&q.length>0&&(0,D.logWarn)("Rubicon: Error in video response"),i.fromORTB({request:r,response:o}).bids}let w,_=o.ads,c=0;const{bidRequest:v}=d;if(typeof v=="object"&&!Array.isArray(v)&&N(v).includes(B.G_)&&typeof _=="object"&&(_=_[v.adUnitCode]),!Array.isArray(_)||_.length<1)return[];let $=_.reduce((q,I,P)=>{if(I.impression_id&&w===I.impression_id?c++:w=I.impression_id,I.status!=="ok")return q;const X=Array.isArray(v)?v[P-c]:v;if(X&&typeof X=="object"){let R={requestId:X.bidId,currency:"USD",creativeId:I.creative_id||`${I.network||""}-${I.advertiser||""}`,cpm:I.cpm||0,dealId:I.deal,ttl:360,netRevenue:n.netRevenue!==!1,rubicon:{advertiserId:I.advertiser,networkId:I.network},meta:{advertiserId:I.advertiser,networkId:I.network,mediaType:B.D4}};I.creative_type&&(R.mediaType=I.creative_type),I.dsa&&Object.keys(I.dsa).length&&(R.meta.dsa=I.dsa),I.adomain&&(R.meta.advertiserDomains=Array.isArray(I.adomain)?I.adomain:[I.adomain]),I.creative_type===B.G_?(R.width=X.params.video.playerWidth,R.height=X.params.video.playerHeight,R.vastUrl=I.creative_depot_url,R.impression_id=I.impression_id,R.videoCacheKey=I.impression_id):(R.ad=(Y=I.script,`<html>
<head><script type='text/javascript'>inDapIF=true;<\/script></head>
<body style='margin : 0; padding: 0;'>
<!-- Rubicon Project Ad Tag -->
<div data-rp-impression-id='${I.impression_id}'>
<script type='text/javascript'>${Y}<\/script>
</div>
</body>
</html>`),[R.width,R.height]=s[I.size_id].split("x").map(H=>Number(H))),R.rubiconTargeting=(Array.isArray(I.targeting)?I.targeting:[]).reduce((H,T)=>(H[T.key]=T.values[0],H),{rpfl_elemid:X.adUnitCode}),q.push(R)}else(0,D.logError)(`Rubicon: bidRequest undefined at index position:${P}`,v,o);var Y;return q},[]).sort((q,I)=>(I.cpm||0)-(q.cpm||0)),k=(a=o.component_auction_config)==null?void 0:a.map(q=>({config:q,bidId:q.bidId}));return k?{bids:$,paapi:k}:$},getUserSyncs:function(o,d,a,r,w){var _;if(!f&&o.iframeEnabled){let c={};return a&&(typeof a.gdprApplies=="boolean"&&(c.gdpr=Number(a.gdprApplies)),typeof a.consentString=="string"&&(c.gdpr_consent=a.consentString)),r&&(c.us_privacy=encodeURIComponent(r)),w!=null&&w.gppString&&(c.gpp=w.gppString,c.gpp_sid=(_=w.applicableSections)==null?void 0:_.toString()),c=Object.keys(c).length?`?${(0,D.formatQS)(c)}`:"",f=!0,{type:"iframe",url:`https://${n.syncHost||"eus"}.rubiconproject.com/usync.html`+c}}}};function h(o,d){let a;return a=o.params.referrer?o.params.referrer:d.refererInfo.page,o.params.secure?a.replace(/^http:/i,"https:"):a}function C(o){const d=document.getElementById(o.adUnitCode);(function(r){const w=r.querySelector("div[id^='google_ads']");w&&w.style.setProperty("display","none")})(d),function(r){const w=r.querySelector("script[id^='sas_script']"),_=w&&w.nextSibling;_&&_.localName==="iframe"&&_.style.setProperty("display","none")}(d);const a=Fe(Fe({},{align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0}),o.renderer.getConfig());o.renderer.push(()=>{window.MagniteApex.renderAd({width:o.width,height:o.height,vastUrl:o.vastUrl,placement:{attachTo:d,align:a.align,position:a.position},closeButton:a.closeButton,label:a.label,collapse:a.collapse})})}function O(o,d){let a=o.params;if(d===B.G_){let w=[];return a.video&&a.video.playerWidth&&a.video.playerHeight?w=[a.video.playerWidth,a.video.playerHeight]:Array.isArray((0,b.A)(o,"mediaTypes.video.playerSize"))&&o.mediaTypes.video.playerSize.length===1?w=o.mediaTypes.video.playerSize[0]:Array.isArray(o.sizes)&&o.sizes.length>0&&Array.isArray(o.sizes[0])&&o.sizes[0].length>1&&(w=o.sizes[0]),w}let r=[];return Array.isArray(a.sizes)?r=a.sizes:(0,b.A)(o,"mediaTypes.banner.sizes")!==void 0?r=J(o.mediaTypes.banner.sizes):Array.isArray(o.sizes)&&o.sizes.length>0?r=J(o.sizes):(0,D.logWarn)("Rubicon: no sizes are setup or found"),function(w){const _=[15,2,9];return w.sort((c,v)=>{const $=_.indexOf(c),k=_.indexOf(v);return $>-1||k>-1?$===-1?1:k===-1?-1:$-k:c-v})}(r)}function W(o,d,a){return r=>{var w,_;const c=Number((w=r.ext)==null?void 0:w.segtax);a.includes(c)&&(o[`tg_${d}.tax${c}`]=(_=r.segment)==null?void 0:_.map(v=>v.id).join(","))}}function J(o){return(0,D.parseSizesInput)(o).reduce((d,a)=>{let r=parseInt(s[a],10);return r&&d.push(r),d},[])}function N(o){let d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=[];if(function(r){let w=(0,b.A)(r,`mediaTypes.${B.G_}`)!==void 0,_=(0,b.A)(r,`mediaTypes.${B.D4}`)!==void 0,c=(0,b.A)(r,"params.bidonmultiformat")!==void 0,v=typeof(0,b.A)(r,"params.video")!="object";return!(!w||!c)||(_&&v&&(w=!1),w&&v&&(0,M.J)(r,"params.video",{}),w)}(o)){if(["outstream","instream"].indexOf((0,b.A)(o,`mediaTypes.${B.G_}.context`))===-1)return d&&(0,D.logError)("Rubicon: mediaTypes.video.context must be outstream or instream"),a;if(O(o,B.G_).length<2)return d&&(0,D.logError)("Rubicon: could not determine the playerSize of the video"),a;d&&(0,D.logMessage)("Rubicon: making video request for adUnit",o.adUnitCode),a.push(B.G_)}if((0,b.A)(o,`mediaTypes.${B.s6}`)!==void 0&&a.push(B.s6),(0,b.A)(o,`mediaTypes.${B.D4}`)!==void 0){if(O(o,B.D4).length===0)return d&&(0,D.logError)("Rubicon: could not determine the sizes for banner request"),a;d&&(0,D.logMessage)("Rubicon: making banner request for adUnit",o.adUnitCode),a.push(B.D4)}return a}function F(o){let d=!1;const a=["asi","sid","hp"];return o.nodes&&(d=o.nodes.reduce((r,w)=>r&&a.every(_=>w.hasOwnProperty(_)),!0),d||(0,D.logError)("Rubicon: required schain params missing")),d}function U(o,d){return o==="rp_schain"?`rp_schain=${d}`:`${o}=${encodeURIComponent(d)}`}var f=!1;(0,l.a$)(p),(0,A.E)("rubiconBidAdapter")}},re=>{re.O(0,[60802,58498,97247,47618,51085],()=>{return Q=99293,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4085],{43297:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(70433),l=t(43272),y=t(11445),B=t(16916),j=t(75023),G=t(78969),D=t(45569),M=t(2604),b=t(95139),m=t(76811);const g={purpose:{},feature:{}},n={purpose:!1,feature:"specialFeatureOptins"},s={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},i=new Set,p=new Set,h=new Set,C=new Set,O=new Set,W=new Set;let J=!1,N=!1;const F=[D.tW,D.fW,D.Tn,D.zu],U="TCF2",f=[],o=[2],d=[2,7,9,10];function a(T,S,L,V){var x,K;const z=(0,u.A)(T,`vendorData.${S}`);return!!((x=z==null?void 0:z.consents)!=null&&x[L])||V&&!!((K=z==null?void 0:z.legitimateInterests)!=null&&K[L])}function r(T,S,L,V){let x;if(n[S]!==!1)x=!!(0,u.A)(T,`vendorData.${n[S]}.${L}`);else{const[K,z]=V===B.B1?["publisher",d]:["purpose",o];x=a(T,K,L,z.includes(L))}return{purpose:x,vendor:a(T,"vendor",V,o.includes(L))}}function w(T,S,L,V){const x=s[T.purpose];if((T.vendorExceptions||[]).includes(L))return!0;const K=T.enforceVendor&&!(V===B.B1||(T.softVendorExceptions||[]).includes(L)),{purpose:z,vendor:le}=r(S,x.type,x.id,V);return(!T.enforcePurpose||z)&&(!K||le)}function _(T,S){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:()=>null;return function(x){const K=B.mW.getConsentData(),z=x[M.iK];if(function(le,ce,ee){return le==null&&B.mW.enabled?((0,e.logWarn)(`Attempting operation that requires purpose ${ce} consent while consent data is not available${ee?` (module: ${ee})`:""}. Assuming no consent was given.`),!0):le&&le.gdprApplies}(K,T,z)){const le=function(ee,te,Z){if(te){const ie=l.$W.getConfig("gvlMapping");if(ie&&ie[te])return ie[te];if(ee===D.tp)return B.B1;{let{gvlid:ae,modules:ye}=B.o2.get(te);if(ae==null&&Object.keys(ye).length>0){for(const Ie of F)if(ye.hasOwnProperty(Ie)){ae=ye[Ie],Ie!==ee&&(0,e.logWarn)(`Multiple GVL IDs found for module '${te}'; using the ${Ie} module's ID (${ae}) instead of the ${ee}'s ID (${ye[ee]})`);break}}return ae==null&&Z&&(ae=Z()),ae||null}}return null}(x[M.Dk],z,V(x));let ce=!!S(K,z,le);if(!ce)return L&&L.add(z),{allow:ce}}}}function c(T){return _(T,(S,L,V)=>!!w(g.purpose[T],S,L,V),arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>null)}function v(T){return function(S){if(S[M.Dk]!==D.tp)return T(S)}}const $=(k=c(1,i),function(T){if(T[M.Dk]!==D.tp||N)return k(T)});var k;const q=c(1,i),I=c(1,i),P=v(c(2,p)),X=c(7,h,T=>function(S,L){var V;const x=y.Ay.getAnalyticsAdapter(S);return(K=>{if(typeof K!="function")return K;try{return K.call(x.adapter,L)}catch(z){(0,e.logError)(`Error invoking ${S} adapter.gvlid()`,z)}})((V=x==null?void 0:x.adapter)==null?void 0:V.gvlid)}(T[M.iK],T[M.TQ])),Y=c(4,C),R=v((()=>{const T=_("2-10",function(L,V,x){var K,z,le,ce;for(let ee=2;ee<=10;ee++){if((z=(K=g.purpose[ee])==null?void 0:K.vendorExceptions)!=null&&z.includes(V))return!0;const{purpose:te,vendor:Z}=r(L,"purpose",ee,x);if(te&&(Z||(ce=(le=g.purpose[ee])==null?void 0:le.softVendorExceptions)!=null&&ce.includes(V)))return!0}return!1},O),S=c(4,O);return function(){var L;return((L=g.purpose[4])!=null&&L.eidsRequireP4Consent?S:T).apply(this,arguments)}})()),H=_("Special Feature 1",(T,S,L)=>w(g.feature[1],T,S,L),W);j.on(G.qY.AUCTION_END,function(){const T=function(L){return Array.from(L.keys()).filter(V=>V!=null)},S={storageBlocked:T(i),biddersBlocked:T(p),analyticsBlocked:T(h),ufpdBlocked:T(C),eidsBlocked:T(O),geoBlocked:T(W)};j.emit(G.qY.TCF2_ENFORCEMENT,S),[i,p,h,C,O,W].forEach(L=>L.clear())}),l.$W.getConfig("consentManagement",T=>function(S){let L=(0,u.A)(S,"gdpr.rules");L||(0,e.logWarn)("TCF2: enforcing P1 and P2 by default"),L=Object.fromEntries((L||[]).map(V=>[V.purpose,V])),N=!!(0,u.A)(S,"strictStorageEnforcement"),Object.entries(s).forEach(V=>{var x;let[K,z]=V;g[z.type][z.id]=(x=L[K])!=null?x:z.default}),J||(g.purpose[1]!=null&&(J=!0,f.push((0,b.qB)(m.Ue,U,$)),f.push((0,b.qB)(m.Ml,U,q)),f.push((0,b.qB)(m.yl,U,I))),g.purpose[2]!=null&&f.push((0,b.qB)(m.uc,U,P)),g.purpose[4]!=null&&f.push((0,b.qB)(m.DL,U,Y),(0,b.qB)(m.qX,U,Y)),g.purpose[7]!=null&&f.push((0,b.qB)(m.mo,U,X)),g.feature[1]!=null&&f.push((0,b.qB)(m.hE,U,H)),f.push((0,b.qB)(m.hq,U,R)))}(T.consentManagement)),(0,A.E)("tcfControl")}},re=>{re.O(0,[60802,51085],()=>{return Q=43297,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[86015],{9293:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(27934),l=t(16833),y=t(25555),B=t(43272),j=t(12938),G=t(15901),D=t(95139),M=t(76811),b=t(83441),m=t(45569);const g=21,n=1;let s=!1,i=[];const p=(0,j.CK)("topicsFpd"),h="prebid:topics",C="lastUpdated",O={1:600,2:601,3:602,4:603};function W(d,a){return a.reduce((r,w)=>{const _=w[d];return r.hasOwnProperty(_)||(r[_]=[]),r[_].push(w),r},{})}function J(d,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O;return Object.entries(W("taxonomyVersion",a)).filter(w=>{let[_]=w;return!!r.hasOwnProperty(_)||((0,e.logWarn)(`Unrecognized taxonomyVersion from Topics API: "${_}"; topic will be ignored`),!1)}).flatMap(w=>{let[_,c]=w;return Object.entries(W("modelVersion",c)).map(v=>{let[$,k]=v;const q={ext:{segtax:r[_],segclass:$},segment:k.map(I=>({id:I.topic.toString()}))};return d!=null&&(q.name=d),q})})}function N(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return"browsingTopics"in d&&d.featurePolicy.allowsFeature("browsing-topics")}const F=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,a=null;try{N(d)&&(a=y.k.resolve(d.browsingTopics()))}catch(r){(0,e.logError)("Could not call topics API",r)}return a==null&&(a=y.k.resolve([])),a}().then(d=>J((0,u.EN)().domain,d));function U(d){if(d&&d.data)try{let a=(0,e.safeJSONParse)(d.data);if((0,G.mK)(i,d.origin)&&a&&a.segment&&!(0,e.isEmpty)(a.segment.topics)){const{domain:r,topics:w,bidder:_}=a.segment,c=J(r,w);c&&f(_,c)}}catch(a){}}function f(d,a){const r=new Map((0,e.safeJSONParse)(p.getDataFromLocalStorage(h))),w={[C]:new Date().getTime()};a.forEach(_=>{w[_.ext.segclass]=_}),r.set(d,w),p.setDataInLocalStorage(h,JSON.stringify([...r]))}function o(d,a){const r=new Date().getTime();return Math.ceil((r-d)/864e5)>a}(0,l.bz)("firstPartyData",{name:"topics",queue:1,processFpd:function(d,a){let{global:r}=a,{data:w=F}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s||(function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!N(_))return;const c=B.$W.getConfig("userSync.topics");if(c){window.addEventListener("message",U,!1);const k=(v=c.bidders||[],$=c.maxTopicCaller||1,[...v].sort(()=>.5-Math.random()).slice(0,$));k&&k.forEach(q=>{let{bidder:I,iframeURL:P,fetchUrl:X,fetchRate:Y}=q;if(I&&P){let H=_.createElement("iframe");H.name="ifrm_".concat(I),H.src="".concat(P,"?bidder=").concat(I),H.style.display="none",R=new URL(P).origin,i.push(R),P&&_.documentElement.appendChild(H)}var R;if(I&&X){const H=new Map((0,e.safeJSONParse)(p.getDataFromLocalStorage(h))).get(I);(!H||H&&o(H[C],Y||n))&&window.fetch(`${X}?bidder=${I}`,{browsingTopics:!0}).then(T=>T.json()).then(T=>{if(T&&T.segment&&!(0,e.isEmpty)(T.segment.topics)){const{domain:S,topics:L,bidder:V}=T.segment,x=J(S,L);x&&f(V,x)}})}})}else(0,e.logWarn)("Topics config not defined under userSync Object");var v,$}(),s=!0),w.then(_=>((_=[].concat(_,function(){let c=[];const v=B.$W.getConfig("userSync.topics"),$=(v==null?void 0:v.bidders)||[];let k=new Map((0,e.safeJSONParse)(p.getDataFromLocalStorage(h)));return k&&k.forEach((q,I)=>{let P=$.find(X=>{let{bidder:Y}=X;return I===Y});P&&(0,D.io)(M.qX,(0,b.s)(m.tW,I))&&(o(q[C],(P==null?void 0:P.expiry)||g)?(k.delete(I),p.setDataInLocalStorage(h,JSON.stringify([...k]))):Object.keys(q).forEach(X=>{X!==C&&c.push(q[X])}))}),c}())).length&&(0,e.mergeDeep)(r,{user:{data:_}}),{global:r}))}}),(0,A.E)("topicsFpdModule")}},re=>{re.O(0,[60802,51085],()=>{return Q=9293,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[99582],{27364:(re,Q,t)=>{var A=t(7873),e=t(70433),u=t(91069),l=t(95789),y=t(57377),B=t(71371);const j=(n,s,i)=>{const p=i,{bids:h,bidderRequestId:C,bidderCode:O}=p,W=Pt(p,["bids","bidderRequestId","bidderCode"]),J=i.bids.length-s.length;let N={};s.forEach(U=>{const f=U.params.siteId;(o=>{Object.keys(o.mediaTypes).forEach(d=>{let a;a=typeof o.getFloor=="function"?o.getFloor({currency:"USD",mediaType:d,size:"*"}).floor||0:o.params.floor||0,o.mediaTypes[d].floor=a})})(U),(o=>{let d=(0,e.A)(o,"mediaTypes.banner");if(d){let a={},r=[];d.sizes.forEach(w=>{a[w.toString()]||(a[w.toString()]=!0,r.push(w))}),d.sizes=r}})(U),((o,d)=>{!d&&o.ortb2Imp&&o.ortb2Imp.ext&&delete o.ortb2Imp.ext.ae})(U,n.protectedAudienceEnabled),N[f]=N[f]||[],N[f].push(U)});let F=[];return Object.keys(N).forEach(U=>{let f={bidderRequest:Object.assign({},Fe({bids:N[U],invalidBidsCount:J,prebidVersion:"9.8.0-pre"},W))};F.push(Object.assign({},Fe({data:f},n)))}),F},G=n=>{if(n.ad)return n;(0,u.logError)(new Error("UnrulyBidAdapter: Missing ad config."))},D=n=>{if(n.vastUrl||n.vastXml)return n;(0,u.logError)(new Error("UnrulyBidAdapter: Missing vastUrl or vastXml config."))},M=n=>{const s=!!(0,e.A)(n,"ext.renderer.config"),i=!!(0,e.A)(n,"ext.renderer.config.siteId");if(!s)return void(0,u.logError)(new Error("UnrulyBidAdapter: Missing renderer config."));if(!i)return void(0,u.logError)(new Error("UnrulyBidAdapter: Missing renderer siteId."));const p=(0,e.A)(n,"ext.renderer");(function(O,W){if(!O.config)throw new Error("UnrulyBidAdapter: Missing renderer config.");if(!O.config.siteId)throw new Error("UnrulyBidAdapter: Missing renderer siteId.");parent.window.unruly=parent.window.unruly||{},parent.window.unruly.native=parent.window.unruly.native||{},parent.window.unruly.native.siteId=parent.window.unruly.native.siteId||O.config.siteId,parent.window.unruly.native.adSlotId=W,parent.window.unruly.native.supplyMode="prebid"})(p,n.requestId),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[];const h=l.A4.install(Object.assign({},p)),C=Object.assign({},n,{renderer:h,adUnitCode:(0,e.A)(n,"ext.adUnitCode")});return h.setRender(()=>{var O;O=C,parent.window.unruly.native.prebid.uq.push(["render",O])}),n.renderer=n.renderer||h,n},b=n=>n.context?["outstream","instream"].indexOf(n.context)!==-1:!1,m=n=>n.sizes,g={code:"unruly",supportedMediaTypes:[B.G_,B.D4],gvlid:36,isBidRequestValid:function(n){return!!((0,e.A)(n,"params.siteId")&&(i=>{const p=(0,e.A)(i,"mediaTypes.video"),h=(0,e.A)(i,"mediaTypes.banner");let C=!(!p&&!h);return C&&p&&(C=b(p)),C&&h&&(C=m(h)),C})(n))},buildRequests:function(n,s){var i;let p="https://targeting.unrulymedia.com/unruly_prebid";return n[0]&&(p=(0,e.A)(n[0],"params.endpoint")||p),j({url:p,method:"POST",options:{contentType:"application/json"},protectedAudienceEnabled:(i=s.paapi)==null?void 0:i.enabled},n,s)},interpretResponse:function(n){if(!n||!n.body||!n.body.auctionConfigs&&!n.body.bids)return[];const s=n.body;let i=[],p=null;if(s.bids.length&&(i=(h=>{let C=[];return h.forEach(O=>{let W,J=(0,e.A)(O,"meta.mediaType");if(J&&J.toLowerCase()==="banner")O.mediaType=B.D4,W=G(O);else if(J&&J.toLowerCase()==="video"){let N=(0,e.A)(O,"meta.videoContext");O.mediaType=B.G_,N==="instream"?W=D(O):N==="outstream"&&(W=M(O))}W&&C.push(W)}),C})(s.bids)),s.auctionConfigs){let h=s.auctionConfigs,C=Object.keys(h);C.length&&C.forEach(O=>{p=[{bidId:O,config:h[O]}]})}return p?{bids:i,paapi:p}:i}};(0,y.a$)(g),(0,A.E)("unrulyBidAdapter")}},re=>{re.O(0,[60802,51085],()=>{return Q=27364,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[73469],{34836:(re,Q,t)=>{var A=t(7873),e=t(15901),u=t(43272),l=t(75023),y=t(16916),B=t(11445),j=t(78969),G=t(16833),D=t(91069),M=t(70433);const b=new Map;function m(pe){const fe={};function be(ue){var ve;const Pe=JSON.stringify([(ve=ue.source)==null?void 0:ve.toLowerCase(),ue.ext]);fe.hasOwnProperty(Pe)?fe[Pe].uids.push(...ue.uids):fe[Pe]=ue}return Object.entries(pe).forEach(ue=>{let[ve,Pe]=ue;Pe=Array.isArray(Pe)?Pe:[Pe],(ve==="pubProvidedId"?(0,D.deepClone)(Pe):Pe.map(Ne=>function(De,We){const Me=b.get(We);if(Me&&De){let ze={};ze.source=(0,D.isFn)(Me.getSource)?Me.getSource(De):Me.source;const Ve=(0,D.isFn)(Me.getValue)?Me.getValue(De):De;if((0,D.isStr)(Ve)){const He={id:Ve,atype:Me.atype};if((0,D.isFn)(Me.getUidExt)){const Xe=Me.getUidExt(De);Xe&&(He.ext=Xe)}if(ze.uids=[He],(0,D.isFn)(Me.getEidExt)){const Xe=Me.getEidExt(De);Xe&&(ze.ext=Xe)}return ze}}return null}(Ne,ve))).filter(Ne=>Ne!=null).forEach(be)}),Object.values(fe)}var g=t(12938),n=t(63172),s=t(51692),i=t(25555),p=t(1e3),h=t(16894),C=t(5973),O=t(45569),W=t(95139),J=t(76811),N=t(83441),F=t(38230);const U="User ID",f=g.X0,o=g.qk,d="_pbjs_id_optout",a=(0,g.CK)("userId"),r={isAllowed:W.io};let w,_,c,v,$,k,q=!1,I=[],P=[],X={},Y=[];const R=(()=>{let pe;return()=>(pe==null&&(pe=(0,h.K7)()),pe)})();function H(pe){return R().fork().renameWith(fe=>[`userId.mod.${fe}`,`userId.mods.${pe}.${fe}`])}function T(pe,fe){fe=fe||pe.storageMgr;const be=typeof pe.submodule.domainOverride=="function"?pe.submodule.domainOverride():null,ue=pe.config.storage.name;return function(ve,Pe,Ne){fe.setCookie(ue+(ve||""),Pe,Ne,"Lax",be)}}function S(pe,fe){const be=pe.config.storage;try{const ue=new Date(Date.now()+864e5*be.expires).toUTCString(),ve=(0,D.isPlainObject)(fe)?JSON.stringify(fe):fe;pe.enabledStorageTypes.forEach(Pe=>{switch(Pe){case f:(function(Ne,De,We){const Me=Ne.config.storage,ze=T(Ne);ze(null,De,We),ze("_cst",se(),We),typeof Me.refreshInSeconds=="number"&&ze("_last",new Date().toUTCString(),We)})(pe,ve,ue);break;case o:(function(Ne,De,We){const Me=Ne.config.storage,ze=Ne.storageMgr;ze.setDataInLocalStorage(`${Me.name}_exp`,We),ze.setDataInLocalStorage(`${Me.name}_cst`,se()),ze.setDataInLocalStorage(Me.name,encodeURIComponent(De)),typeof Me.refreshInSeconds=="number"&&ze.setDataInLocalStorage(`${Me.name}_last`,new Date().toUTCString())})(pe,ve,ue)}})}catch(ue){(0,D.logError)(ue)}}function L(pe){Ue(pe),pe.enabledStorageTypes.forEach(fe=>{switch(fe){case f:(function(be){const ue=T(be,a),ve=new Date(Date.now()-864e5).toUTCString();["","_last","_cst"].forEach(Pe=>{try{ue(Pe,"",ve)}catch(Ne){(0,D.logError)(Ne)}})})(pe);break;case o:(function(be){["","_last","_exp","_cst"].forEach(ue=>{try{a.removeDataFromLocalStorage(be.config.storage.name+ue)}catch(ve){(0,D.logError)(ve)}})})(pe)}})}function V(pe){let fe=(0,D.getPrebidInternal)().setEidPermissions;typeof fe=="function"&&(0,D.isArray)(pe)&&fe(function(be){let ue=[];return be.filter(ve=>(0,D.isPlainObject)(ve.idObj)&&Object.keys(ve.idObj).length).forEach(ve=>{Object.keys(ve.idObj).forEach(Pe=>{const Ne=b.get(Pe)||{};(0,M.A)(ve,"config.bidders")&&Array.isArray(ve.config.bidders)&&Ne.source&&ue.push({source:Ne.source,bidders:ve.config.bidders})})}),ue}(pe))}function x(pe){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const be=pe.config.storage,ue=fe?`${be.name}_${fe}`:be.name;let ve;try{pe.enabledStorageTypes.find(Pe=>{switch(Pe){case f:ve=function(Ne,De){return Ne.storageMgr.getCookie(De)}(pe,ue);break;case o:ve=function(Ne,De){const We=Ne.storageMgr,Me=Ne.config.storage,ze=We.getDataFromLocalStorage(`${Me.name}_exp`);return ze===""?We.getDataFromLocalStorage(De):ze&&new Date(ze).getTime()-Date.now()>0?decodeURIComponent(We.getDataFromLocalStorage(De)):void 0}(pe,ue)}return!!ve}),typeof ve=="string"&&ve.trim().charAt(0)==="{"&&(ve=JSON.parse(ve))}catch(Pe){(0,D.logError)(Pe)}return ve}function K(pe,fe,be){fe=R().fork().startTiming("userId.callbacks.total").stopBefore(fe);const ue=(0,D.delayExecution)(()=>{clearTimeout(_),fe()},pe.length);pe.forEach(function(ve){const Pe=H(ve.submodule.name).startTiming("callback").stopBefore(ue);try{ve.callback(function(Ne){Ne?(ve.config.storage&&S(ve,Ne),ve.idObj=ve.submodule.decode(Ne,ve.config),we(z(be))):(0,D.logInfo)(`${U}: ${ve.submodule.name} - request id responded with an empty value`),Pe()},x.bind(null,ve))}catch(Ne){(0,D.logError)(`Error in userID module '${ve.submodule.name}':`,Ne),Pe()}ve.callback=void 0})}function z(pe){return Array.isArray(pe)&&pe.length?ce(pe):{}}function le(pe,fe,be){return Object.fromEntries(Object.entries(pe.reduce((ue,ve)=>{const Pe=fe(ve);return Pe&&Object.keys(Pe).forEach(Ne=>{var De;const We=(De=X[Ne])==null?void 0:De.indexOf(be(ve)),Me={priority:(0,D.isNumber)(We)?We:-1,value:Pe[Ne]};if(ue[Ne]){const ze=Me.priority>ue[Ne].priority?Me:ue[Ne];ue[Ne]=ze}else ue[Ne]=Me}),ue},{})).map(ue=>{let[ve,Pe]=ue;return[ve,Pe.value]}))}function ce(pe){return le(pe.filter(fe=>(0,D.isPlainObject)(fe.idObj)&&Object.keys(fe.idObj).length),fe=>fe.idObj,fe=>fe.submodule.name)}function ee(pe,fe){[pe].some(be=>!Array.isArray(be)||!be.length)||pe.forEach(be=>{be.bids&&(0,D.isArray)(be.bids)&&be.bids.forEach(ue=>{const ve=function(Pe,Ne){return Array.isArray(Pe)&&Pe.length&&Ne?ce(Pe.filter(De=>!De.config.bidders||!(0,D.isArray)(De.config.bidders)||(0,e.mK)(De.config.bidders,Ne))):{}}(fe,ue.bidder);Object.keys(ve).length&&(ue.userId=ve,ue.userIdAsEids=m(ve))})})}const te={};let Z;function ie(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ie()||[];const fe=$&&pe.find(be=>be.source===$);if(fe&&typeof(0,M.A)(fe,"uids.0.id")=="string"){const be=fe.uids[0].id.replace(/[\W_]/g,"");if(be.length>=32&&be.length<=150)return be;(0,D.logWarn)(`User ID - Googletag Publisher Provided ID for ${$} is not between 32 and 150 characters - ${be}`)}}const ae=(0,h.Ak)("userId",function(pe,fe){let{delay:be=i.k.timeout,getIds:ue=de}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.k.race([ue().catch(()=>null),be(v)]).then(()=>{ee(fe.adUnits||(0,A.m)().adUnits,w),R().join((0,h.BO)(fe.metrics),{propagate:!1,includeGroups:!0}),pe.call(this,fe)})});function ye(){return z(w)}function Ie(){return m(ye())}function xe(pe){return m(function(fe,be){if(!Array.isArray(fe)||!fe.length)return{};const ue=ce(fe),ve=Object.keys(ue).find(Pe=>{const Ne=b.get(Pe);return(Ne==null?void 0:Ne.source)===be||(0,D.isFn)(Ne==null?void 0:Ne.getSource)&&Ne.getSource()===be});return ve?{[ve]:ue[ve]}:[]}(w,pe))[0]}function Ae(pe,fe,be){return Z().then(()=>{let ue={};if((0,D.isFn)(be)){(0,D.logInfo)(`${U} - Getting encrypted signal from custom function : ${be.name} & source : ${pe} `);const ve=be(pe);ue[pe]=ve?me(ve):null}else{const ve=xe(pe);(0,D.logInfo)(`${U} - Getting encrypted signal for eids :${JSON.stringify(ve)}`),(0,D.isEmpty)(ve)||(ue[ve.source]=fe===!0?me(ve):ve.uids[0].id)}return(0,D.logInfo)(`${U} - Fetching encrypted eids: ${ue[pe]}`),ue[pe]})}function me(pe){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,be="";return fe===1&&(be=typeof pe=="object"?window.btoa(JSON.stringify(pe)):window.btoa(pe)),`${fe}||${be}`}function E(){if(!(0,D.isGptPubadsDefined)())return;window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];const pe=u.$W.getConfig("userSync.encryptedSignalSources");if(pe){const fe=pe.registerDelay||0;setTimeout(()=>{pe.sources&&pe.sources.forEach(be=>{let{source:ue,encrypt:ve,customFunc:Pe}=be;ue.forEach(Ne=>{window.googletag.secureSignalProviders.push({id:Ne,collectorFunction:()=>Ae(Ne,ve,Pe)})})})},fe)}else(0,D.logWarn)(`${U} - ESP : encryptedSignalSources config not defined under userSync Object`)}function oe(){let{submoduleNames:pe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1?arguments[1]:void 0;return Z({refresh:!0,submoduleNames:pe}).then(()=>(fe&&(0,D.isFn)(fe)&&fe(),ye()))}function de(){return Z().then(()=>ye(),pe=>pe===te?Promise.resolve().then(de):((0,D.logError)("Error initializing userId",pe),i.k.reject(pe)))}function se(){let pe=Number(y.SL.hash);const fe=[];for(;pe>0;)fe.push(String.fromCharCode(255&pe)),pe>>>=8;return btoa(fe.join())}function he(pe,fe,be){const ue=y.mW.getConsentData();if(pe.config.storage){let ve,Pe=x(pe),Ne=!1;if(typeof pe.config.storage.refreshInSeconds=="number"){const De=new Date(x(pe,"last"));Ne=De&&Date.now()-De.getTime()>1e3*pe.config.storage.refreshInSeconds}if(!Pe||Ne||fe||function(De){const We=x(De,"cst");return!We||We!==se()}(pe)){const De=Object.assign({enabledStorageTypes:pe.enabledStorageTypes},pe.config);ve=pe.submodule.getId(De,ue,Pe)}else typeof pe.submodule.extendId=="function"&&(ve=pe.submodule.extendId(pe.config,ue,Pe));(0,D.isPlainObject)(ve)&&(ve.id&&(S(pe,ve.id),Pe=ve.id),typeof ve.callback=="function"&&(pe.callback=ve.callback)),Pe&&(pe.idObj=pe.submodule.decode(Pe,pe.config))}else if(pe.config.value)pe.idObj=pe.config.value;else{const ve=pe.submodule.getId(pe.config,ue,void 0);(0,D.isPlainObject)(ve)&&(typeof ve.callback=="function"&&(pe.callback=ve.callback),ve.id&&(pe.idObj=pe.submodule.decode(ve.id,pe.config)))}we(z(be))}function we(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ye();if(pe&&$){const fe=ie(m(pe));fe&&((0,D.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(fe):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(fe)})))}}function Se(pe,fe){let be=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return R().fork().measureTime("userId.init.modules",function(){if(!fe.length)return[];if(fe.forEach(ve=>Ue(ve)),!(fe=fe.filter(ve=>(!ve.config.storage||!!ve.enabledStorageTypes.length)&&r.isAllowed(J.yl,(0,N.s)(O.fW,ve.config.name)))).length)return(0,D.logWarn)(`${U} - no ID module configured`),[];const ue=fe.reduce((ve,Pe)=>H(Pe.submodule.name).measureTime("init",()=>{try{he(Pe,be,fe),ve.push(Pe)}catch(Ne){(0,D.logError)(`Error in userID module '${Pe.submodule.name}':`,Ne)}return ve}),[]);return ue.length&&V(ue),ue.forEach(Ce.bind(null,pe)),ue})}function Ce(pe,fe){let be=!1;for(let ue=0;ue<pe.length;ue++)if(fe.config.name.toLowerCase()===pe[ue].config.name.toLowerCase()){be=!0,pe[ue]=fe;break}be||pe.push(fe)}function Ee(pe){var fe,be;return((be=(fe=pe==null?void 0:pe.storage)==null?void 0:fe.type)==null?void 0:be.trim().split(/\s*&\s*/))||[]}function $e(pe){function fe(be){for(var ue=arguments.length,ve=new Array(ue>1?ue-1:0),Pe=1;Pe<ue;Pe++)ve[Pe-1]=arguments[Pe];(0,D.logWarn)(`Invalid userSync.userId config: ${be}`,...ve)}return Array.isArray(pe)?pe.filter(be=>{if(!(be!=null&&be.name))return fe('must specify "name"',be);if(be.storage){if(!be.storage.name||!be.storage.type)return fe('must specify "storage.name" and "storage.type"',be);if(!function(ue){return Ee(ue).every(ve=>Re.has(ve))}(be))return fe('invalid "storage.type"',be);["expires","refreshInSeconds"].forEach(ue=>{let ve=be.storage[ue];ve!=null&&typeof ve!="number"&&(ve=Number(ve),isNaN(ve)?(fe(`storage.${ue} must be a number and will be ignored`,be),delete be.storage[ue]):be.storage[ue]=ve)})}return!0}):(pe!=null&&fe("must be an array",pe),[])}const Re=new Set([o,f]);function Ue(pe){if(pe.enabledStorageTypes)return;const fe=Ee(pe.config);pe.enabledStorageTypes=fe.filter(be=>{switch(be){case o:return function(ue){return!(!ue.storageMgr.localStorageIsEnabled()||a.getDataFromLocalStorage(d)&&((0,D.logInfo)(`${U} - opt-out localStorage found, storage disabled`),1))}(pe);case f:return function(ue){return!(!ue.storageMgr.cookiesAreEnabled()||a.getCookie(d)&&((0,D.logInfo)(`${U} - opt-out cookie found, storage disabled`),1))}(pe)}return!1})}function Oe(pe){b.clear(),Object.entries(le(pe,fe=>fe.eids,fe=>fe.name)).forEach(fe=>{let[be,ue]=fe;return b.set(be,ue)})}function Te(){Oe(Y);const pe=$e(P);if(!pe.length)return;const fe=Y.filter(be=>!(0,e.I6)(I,ue=>ue.name===be.name));I.splice(0,I.length),fe.map(be=>{const ue=(0,e.I6)(pe,ve=>ve.name&&(ve.name.toLowerCase()===be.name.toLowerCase()||be.aliasName&&ve.name.toLowerCase()===be.aliasName.toLowerCase()));return ue&&be.name!==ue.name&&(ue.name=be.name),ue?{submodule:be,config:ue,callback:void 0,idObj:void 0,storageMgr:(0,g.vM)({moduleType:O.fW,moduleName:ue.name})}:null}).filter(be=>be!==null).forEach(be=>I.push(be)),!q&&I.length&&((0,A.m)().requestBids.before(ae,40),B.Ay.callDataDeletionRequest.before(je),s.Q.after(be=>be(ie())),(0,D.logInfo)(`${U} - usersync config updated for ${I.length} submodules: `,I.map(be=>be.submodule.name)),q=!0)}function je(pe){for(var fe=arguments.length,be=new Array(fe>1?fe-1:0),ue=1;ue<fe;ue++)be[ue-1]=arguments[ue];(0,D.logInfo)("UserID: received data deletion request; deleting all stored IDs..."),I.forEach(ve=>{if(typeof ve.submodule.onDataDeletionRequest=="function")try{ve.submodule.onDataDeletionRequest(ve.config,ve.idObj,...be)}catch(Pe){(0,D.logError)(`Error calling onDataDeletionRequest for ID submodule ${ve.submodule.name}`,Pe)}L(ve)}),pe.apply(this,be)}function qe(pe){return function(){return Promise.resolve(pe.apply(this,arguments))}}(function(pe){let{delay:fe=i.k.timeout}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$=void 0,I=[],P=[],q=!1,w=[],Z=function(){let{delay:be=i.k.timeout}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ue=(0,i.v)(),ve=(0,i.v)();let Pe,Ne,De=!1;function We(tt){return Ne=R().fork(),Pe!=null&&Pe.reject(te),Pe=(0,i.v)(),i.k.race([tt,Pe.promise]).finally(Ne.startTiming("userId.total"))}let Me=w,ze=I;function Ve(tt){return function(){if(Me===w&&ze===I)return tt(...arguments)}}function He(){return y.SL.promise.finally(Ne.startTiming("userId.init.consent"))}let Xe=We(i.k.all([G.Gc,ue.promise]).then(He).then(Ve(()=>{Se(Me,ze)})).then(()=>ve.promise.finally(Ne.startTiming("userId.callbacks.pending"))).then(Ve(()=>{const tt=Me.filter(ut=>(0,D.isFn)(ut.callback));if(tt.length)return new i.k(ut=>K(tt,ut,Me))})));return function(){let{refresh:tt=!1,submoduleNames:ut=null,ready:yt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yt&&!De&&(De=!0,ue.resolve(),v>0?ve.resolve():l.on(j.qY.AUCTION_END,function mt(){l.off(j.qY.AUCTION_END,mt),be(c).then(ve.resolve)})),tt&&De&&(Xe=We(Xe.catch(()=>null).then(He).then(Ve(()=>{const mt=Se(Me,ze.filter(st=>ut==null||ut.includes(st.submodule.name)),!0).filter(st=>st.callback!=null);if(mt.length)return new i.k(st=>K(mt,st,Me))})))),Xe}}({delay:fe}),k!=null&&k(),Y=[],k=pe.getConfig("userSync",be=>{const ue=be.userSync;ue&&($=ue.ppid,ue.userIds&&(P=ue.userIds,c=(0,D.isNumber)(ue.syncDelay)?ue.syncDelay:F.qh.syncDelay,v=(0,D.isNumber)(ue.auctionDelay)?ue.auctionDelay:F.qh.auctionDelay,Te(),function(ve,Pe){if(ve){const Ne={},De=new Map(Pe.map(We=>We.submodule.aliasName?[We.submodule.aliasName,We.submodule.name]:[]));Object.keys(ve).forEach(We=>{const Me=(0,D.isArray)(ve[We])?[...ve[We]].reverse():[];Ne[We]=Me.map(ze=>De.has(ze)?De.get(ze):ze)}),X=Ne}else X={}}(ue.idPriority,I),Z({ready:!0})))}),(0,A.m)().getUserIds=ye,(0,A.m)().getUserIdsAsEids=Ie,(0,A.m)().getEncryptedEidsForSource=qe(Ae),(0,A.m)().registerSignalSources=E,(0,A.m)().refreshUserIds=qe(oe),(0,A.m)().getUserIdsAsync=qe(de),(0,A.m)().getUserIdsAsEidBySource=xe})(u.$W),(0,G.xG)("userId",function(pe){pe.findRootDomain=C.S,(0,e.I6)(Y,fe=>fe.name===pe.name)||(Y.push(pe),y.o2.register(O.fW,pe.name,pe.gvlid),Te(),Z({refresh:!0,submoduleNames:[pe.name]}))},{postInstallAllowed:!0}),(0,p.pS)({type:p.S3,name:"userExtEids",fn:function(pe,fe,be){const ue=(0,M.A)(be,"bidRequests.0.userIdAsEids");ue&&Object.keys(ue).length>0&&(0,n.J)(pe,"user.ext.eids",ue)}}),(0,A.E)("userId")}},re=>{re.O(0,[60802,51085],()=>{return Q=34836,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[704],{4876:(re,Q,t)=>{var A=t(7873),e=t(91069),u=t(70433);const l="string",y="object",B="number",j={imp:{invalid:!0},cur:{type:y,isArray:!0,childType:l},device:{type:y,children:{w:{type:B},h:{type:B}}},site:{type:y,children:{name:{type:l},domain:{type:l},page:{type:l},ref:{type:l},keywords:{type:l},search:{type:l},cat:{type:y,isArray:!0,childType:l},sectioncat:{type:y,isArray:!0,childType:l},pagecat:{type:y,isArray:!0,childType:l},content:{type:y,isArray:!1,children:{data:{type:y,isArray:!0,childType:y,required:["name","segment"],children:{segment:{type:y,isArray:!0,childType:y,required:["id"],children:{id:{type:l}}},name:{type:l},ext:{type:y}}}}},publisher:{type:y,isArray:!1,children:{id:{type:l},name:{type:l},cat:{type:y,isArray:!0,childType:l},domain:{type:l},ext:{type:y,isArray:!1}}}}},user:{type:y,children:{yob:{type:B,optoutApplies:!0},gender:{type:l,optoutApplies:!0},keywords:{type:l},data:{type:y,isArray:!0,childType:y,required:["name","segment"],children:{segment:{type:y,isArray:!0,childType:y,required:["id"],children:{id:{type:l}}},name:{type:l},ext:{type:y}}}}},bcat:{type:y,isArray:!0,childType:l},badv:{type:y,isArray:!0,childType:l}};var G=t(16833);const D=(0,t(12938).CK)("FPDValidation");let M;function b(i){let p=!0;return typeof i!="object"||(0,e.isEmpty)(i)?typeof i!="object"&&((0,e.isNumber)(i)||i)&&(p=!1):p=!1,p}function m(i,p,h,C){let O=!0;return p.forEach(W=>{i[W]&&!b(i[W])||(O=!1,(0,e.logWarn)(`Filtered ${h}[] value at index ${C} in ortb2 data: missing required property ${W}`))}),O}function g(i,p){let h=!1;switch(p.type){case"string":typeof i=="string"&&(h=!0);break;case"number":typeof i=="number"&&isFinite(i)&&(h=!0);break;case"object":typeof i=="object"&&(Array.isArray(i)&&p.isArray||!Array.isArray(i)&&!p.isArray)&&(h=!0)}return h}function n(i){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return i?Object.assign({},Object.keys(i).filter(C=>{let O=(0,u.A)(j,p+C);if(!O||!O.invalid)return C;(0,e.logWarn)(`Filtered ${h}${C} property in ortb2 data: invalid property`)}).filter(C=>{let O=(0,u.A)(j,p+C);if(!O||g(i[C],{type:O.type,isArray:O.isArray})||!O)return C;(0,e.logWarn)(`Filtered ${h}${C} property in ortb2 data: expected type ${O.isArray?"array":O.type}`)}).reduce((C,O)=>{let W=(0,u.A)(j,p+O),J={};if(W){if(W.optoutApplies&&M)return(0,e.logWarn)(`Filtered ${h}${O} data: pubcid optout found`),C;J=W.type!=="object"||W.isArray?W.isArray&&W.childType?function(N,F,U,f){return N.filter((o,d)=>{if(g(o,{type:F.type,isArray:F.isArray})&&Array.isArray(o)===!!F.isArray)return!0;(0,e.logWarn)(`Filtered ${f}[] value at index ${d} in ortb2 data: expected type ${F.type}`)}).filter((o,d)=>{let a=!0,r=(0,u.A)(j,U);if(r&&r.required&&(a=m(o,r.required,f,d)),a)return!0}).reduce((o,d,a)=>{let r=!1,w=(0,u.A)(j,U);switch(F.type){case"string":o.push(d),r=!0;break;case"object":if(w&&w.children){let _=n(d,U+".children.",f+".");Object.keys(_).length&&m(_,w.required,f,a)&&(o.push(_),r=!0)}else o.push(d),r=!0}return r||(0,e.logWarn)(`Filtered ${f}[] value at index ${a}  in ortb2 data: expected type ${F.type}`),o},[])}(i[O],{type:W.childType,isArray:W.childisArray},p+O,h+O):i[O]:n(i[O],p+O+".children.",h+O+"."),b(J)?(0,e.logWarn)(`Filtered ${h}${O} property in ortb2 data: empty data found`):C[O]=J}else C[O]=i[O];return C},{})):{}}const s={name:"validation",queue:1,processFpd:function(i,p){return M=D.cookiesAreEnabled()&&D.getCookie("_pubcid_optout")||D.hasLocalStorage()&&D.getDataFromLocalStorage("_pubcid_optout"),i.skipValidations?p:function(h){return{global:n(h.global),bidder:Object.fromEntries(Object.entries(h.bidder).map(C=>{let[O,W]=C;return[O,n(W)]}))}}(p)}};(0,G.bz)("firstPartyData",s),(0,A.E)("validationFpdModule")}},re=>{re.O(0,[60802,51085],()=>{return Q=4876,re(re.s=Q);var Q}),re.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[28731],{14975:(re,Q,t)=>{var A=t(7873),e=t(57377),u=t(71371),l=t(91069),y=t(70433),B=t(43272),j=t(95789),G=t(82621);const D="9.8.0-pre",M=300,b="USD",m=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxdt.net","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","yahoo.com","zeotap.com"];function g(a,r){const w=a.bidder||a.bidderCode;return B.$W.getConfig(`${w}.${r}`)}function n(a){return{w:parseInt(a[0]),h:parseInt(a[1])}}function s(a){return(0,l.isArray)(a)&&a.length===2&&!(0,l.isArray)(a[0])?[n(a)]:a.map(n)}function i(a){return(0,l.isArray)((0,y.A)(a,"userIdAsEids"))?a.userIdAsEids.filter(r=>m.indexOf(r.source)!==-1):[]}function p(a){return(0,y.A)(a,"params.bidOverride.imp.secure")||document.location.protocol==="https:"?1:0}function h(a){let r;return(0,y.A)(a,"params.pubId")?r=!0:(0,y.A)(a,"params.dcn")&&(0,y.A)(a,"params.pos")&&(r=!1),r}function C(a){let r=g(a,"mode");return r=r?r.toLowerCase():void 0,r===void 0||r===u.D4?u.D4:r===u.G_?u.G_:r==="all"?"*":void 0}function O(a){const r=C(a),w={currency:(0,y.A)(a,"params.bidOverride.cur")||b,mediaType:r,size:"*"};return!!(0,l.isFn)(a.getFloor)&&a.getFloor(w)}function W(a,r,w,_){const c=Fe({},_);for(const v in w)switch(a){case"string":r.indexOf(v)!==-1&&(0,l.isStr)(w[v])&&(c[v]=w[v]);break;case"number":r.indexOf(v)!==-1&&(0,l.isNumber)(w[v])&&(c[v]=w[v]);break;case"array":r.indexOf(v)!==-1&&(0,l.isArray)(w[v])&&(c[v]=w[v]);break;case"object":r.indexOf(v)!==-1&&(0,l.isPlainObject)(w[v])&&(c[v]=w[v]);break;case"objectAllKeys":(0,l.isPlainObject)(w)&&(c[v]=w[v])}return c}function J(a){const r=g(a,"ttl");return N(r||(0,y.A)(a,"params.ttl"))}function N(a){return(0,l.isNumber)(a)&&a>0&&a<3600?a:M}function F(a){return(0,l.isStr)(a)&&a.length>0}function U(a,r){var w,_;if(a){let c={id:(0,l.generateUUID)(),cur:[O(a).currency||(0,y.A)(r,"params.bidOverride.cur")||b],imp:[],site:{page:(0,y.A)(a,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,y.A)(r,"params.bidOverride.device.ip")||(0,y.A)(r,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:a.uspConsent?a.uspConsent:"",gdpr:a.gdprConsent&&a.gdprConsent.gdprApplies?1:0,gpp:a.gppConsent?a.gppConsent.gppString:"",gpp_sid:a.gppConsent?a.gppConsent.applicableSections:[]}},source:{ext:{hb:1,adapterver:"1.1.0",prebidver:D,integration:{name:"prebid.js",ver:D}},fd:1},user:{ext:{consent:a.gdprConsent&&a.gdprConsent.gdprApplies?a.gdprConsent.consentString:"",eids:i(r)}}};h(r)===!0?(c.site.publisher={id:r.params.pubId},((0,y.A)(r,"params.bidOverride.site.id")||(0,y.A)(r,"params.siteId"))&&(c.site.id=(0,y.A)(r,"params.bidOverride.site.id")||r.params.siteId)):c.site.id=r.params.dcn,(_=(w=a.ortb2)==null?void 0:w.regs)!=null&&_.gpp&&(c.regs.ext.gpp=a.ortb2.regs.gpp,c.regs.ext.gpp_sid=a.ortb2.regs.gpp_sid),a.ortb2&&(c=function($,k){const q=k.ortb2,I=(0,y.A)(q,"site")||void 0,P=(0,y.A)(I,"content")||void 0,X=(0,y.A)(I,"publisher")||void 0,Y=(0,y.A)(I,"content.data")||void 0,R=(0,y.A)(q,"app.content")||void 0,H=(0,y.A)(q,"app.content.data")||void 0,T=(0,y.A)(q,"user")||void 0;if(I&&(0,l.isPlainObject)(I)){const S=["name","domain","page","ref","keywords","search"],L=["cat","sectioncat","pagecat"],V=["ext"];$.site=W("string",S,I,$.site),$.site=W("array",L,I,$.site),$.site=W("object",V,I,$.site)}if(X&&(0,l.isPlainObject)(X)){const S=["ext"];$.site.publisher=W("object",S,X,$.site.publisher)}if(P&&(0,l.isPlainObject)(P)){const S=["id","title","series","season","genre","contentrating","language"],L=["episode","prodq","context","livestream","len"],V=["cat"],x=["ext"];$.site.content=W("string",S,P,$.site.content),$.site.content=W("number",L,P,$.site.content),$.site.content=W("array",V,P,$.site.content),$.site.content=W("object",x,P,$.site.content),Y&&(0,l.isArray)(Y)&&Y.every(K=>{let z={};const le=["segment"],ce=["ext"];z=W("string",["id","name"],K,z),z=W("array",le,K,z),z=W("object",ce,K,z),$.site.content.data=[],$.site.content.data.push(z)})}if(R&&(0,l.isPlainObject)(R)&&H&&(0,l.isArray)(H)&&H.every(S=>{let L={};const V=["segment"],x=["ext"];L=W("string",["id","name"],S,L),L=W("array",V,S,L),L=W("object",x,S,L),$.app={content:{data:[]}},$.app.content.data.push(L)}),T&&(0,l.isPlainObject)(T)){const S=["id","buyeruid","gender","keywords","customdata"],L=["yob"],V=["data"],x=["ext"];$.user=W("string",S,T,$.user),$.user=W("number",L,T,$.user),$.user=W("array",V,T,$.user),$.user.ext=W("object",x,T,$.user.ext)}return $}(c,r));const v=(0,y.A)(r,"schain.nodes");return(0,l.isArray)(v)&&v.length>0&&(c.source.ext.schain=r.schain,c.source.ext.schain.nodes[0].rid=c.id),c}}function f(a,r){const w=C(a);if(r&&a){const _={id:a.bidId,secure:p(a),bidfloor:O(a).floor||(0,y.A)(a,"params.bidOverride.imp.bidfloor")};if(!a.mediaTypes.banner||w!==void 0&&w!==u.D4&&w!=="*"||(_.banner={mimes:a.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:s(a.sizes)},a.mediaTypes.banner.pos&&(_.banner.pos=a.mediaTypes.banner.pos)),a.mediaTypes.video&&(w===u.G_||w==="*")){const c=s(a.mediaTypes.video.playerSize);_.video={mimes:(0,y.A)(a,"params.bidOverride.imp.video.mimes")||a.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,y.A)(a,"params.bidOverride.imp.video.w")||c[0].w,h:(0,y.A)(a,"params.bidOverride.imp.video.h")||c[0].h,maxbitrate:(0,y.A)(a,"params.bidOverride.imp.video.maxbitrate")||a.mediaTypes.video.maxbitrate||void 0,maxduration:(0,y.A)(a,"params.bidOverride.imp.video.maxduration")||a.mediaTypes.video.maxduration||void 0,minduration:(0,y.A)(a,"params.bidOverride.imp.video.minduration")||a.mediaTypes.video.minduration||void 0,api:(0,y.A)(a,"params.bidOverride.imp.video.api")||a.mediaTypes.video.api||[2],delivery:(0,y.A)(a,"params.bidOverride.imp.video.delivery")||a.mediaTypes.video.delivery||void 0,pos:(0,y.A)(a,"params.bidOverride.imp.video.pos")||a.mediaTypes.video.pos||void 0,playbackmethod:(0,y.A)(a,"params.bidOverride.imp.video.playbackmethod")||a.mediaTypes.video.playbackmethod||void 0,placement:(0,y.A)(a,"params.bidOverride.imp.video.placement")||a.mediaTypes.video.placement||void 0,plcmt:(0,y.A)(a,"params.bidOverride.imp.video.plcmt")||a.mediaTypes.video.plcmt||void 0,linearity:(0,y.A)(a,"params.bidOverride.imp.video.linearity")||a.mediaTypes.video.linearity||1,protocols:(0,y.A)(a,"params.bidOverride.imp.video.protocols")||a.mediaTypes.video.protocols||[2,5],startdelay:(0,y.A)(a,"params.bidOverride.imp.video.startdelay")||a.mediaTypes.video.startdelay||0,rewarded:(0,y.A)(a,"params.bidOverride.imp.video.rewarded")||void 0}}if(_.ext={dfp_ad_unit_code:a.adUnitCode},(0,y.A)(a,"params.kvp")&&(0,l.isPlainObject)(a.params.kvp)){_.ext.kvs={};for(const c in a.params.kvp)if((0,l.isStr)(a.params.kvp[c])||(0,l.isNumber)(a.params.kvp[c]))_.ext.kvs[c]=a.params.kvp[c];else if((0,l.isArray)(a.params.kvp[c])){const v=a.params.kvp[c];(v.every($=>(0,l.isStr)($))||v.every($=>(0,l.isNumber)($)))&&(_.ext.kvs[c]=a.params.kvp[c])}}(0,y.A)(a,"ortb2Imp.ext.data")&&(0,l.isPlainObject)(a.ortb2Imp.ext.data)&&(_.ext.data=a.ortb2Imp.ext.data),(0,y.A)(a,"ortb2Imp.instl")&&(0,l.isNumber)(a.ortb2Imp.instl)&&a.ortb2Imp.instl===1&&(_.instl=a.ortb2Imp.instl),h(a)===!1?(_.tagid=a.params.pos,_.ext.pos=a.params.pos):(0,y.A)(a,"params.placementId")&&(_.tagid=a.params.placementId),r.imp.push(_)}}function o(a){let{payload:r,requestOptions:w,bidderRequest:_}=a;const c=h(_),v=g(_,"endpoint");let $=v||"https://c2shb.pubgw.yahoo.com/bidRequest";if(c===!0&&($=v||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),(0,y.A)(_,"params.testing.e2etest")===!0)if((0,l.logInfo)("Adapter e2etest mode is active"),w.withCredentials=!1,c===!0)r.site.id="1234567";else{const k=C(_);r.site.id="8a969516017a7a396ec539d97f540011",r.imp.forEach(q=>{if(q.ext.e2eTestMode=!0,k===u.D4)q.tagid="8a969978017a7aaabab4ab0bc01a0009";else if(k===u.G_)q.tagid="8a96958a017a7a57ac375d50c0c700cc";else{const I=_.bidderCode;(0,l.logWarn)(`e2etest mode does not support ${I}.mode="all". 
 Please specify either "banner" or "video"`),(0,l.logWarn)(`Adapter e2etest mode: Please make sure your adUnit matches the ${I}.mode video or banner`)}})}return{url:$,method:"POST",data:r,options:w,bidderRequest:_}}const d={code:"yahooAds",gvlid:25,aliases:[{code:"yahoossp",gvlid:25},{code:"yahooAdvertising",gvlid:25}],supportedMediaTypes:[u.D4,u.G_],isBidRequestValid:function(a){const r=a.params;return(0,y.A)(r,"testing.e2etest")===!0||!(!(0,l.isPlainObject)(r)||!(F(r.pubId)||F(r.dcn)&&F(r.pos)))||((0,l.logWarn)("Bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1)},buildRequests:function(a,r){if((0,l.isEmpty)(a)||(0,l.isEmpty)(r))return void(0,l.logWarn)('buildRequests called with either empty "validBidRequests" or "bidderRequest"');const w={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};w.withCredentials=(0,G.C)(r.gdprConsent);const _=function(c){const v=C(c[0]);let $=[];return v===u.D4?$=c.filter(k=>Object.keys(k.mediaTypes).some(q=>q===u.D4)):v===u.G_?$=c.filter(k=>Object.keys(k.mediaTypes).some(q=>q===u.G_)):v==="*"&&($=c.filter(k=>Object.keys(k.mediaTypes).some(q=>q===u.D4||q===u.G_))),$}(a);if(g(r,"singleRequestMode")===!0){const c=U(r,_[0]);return _.forEach(v=>{f(v,c)}),[o({payload:c,requestOptions:w,bidderRequest:r})]}return _.map(c=>{const v=U(r,c);return f(c,v),o({payload:v,requestOptions:w,bidderRequest:c})})},interpretResponse:function(a,r){let{bidderRequest:w}=r;const _=[];return!a.body||!Array.isArray(a.body.seatbid)||a.body.seatbid.forEach(c=>{let v;try{v=c.bid[0]}catch(I){return _}let $=v.ext&&v.ext.encp?v.ext.encp:v.price,k={adId:(0,y.A)(v,"adId")?v.adId:v.impid||v.crid,requestId:v.impid,cpm:$,width:v.w,height:v.h,creativeId:v.crid||0,currency:v.cur||b,dealId:v.dealid?v.dealid:null,netRevenue:!0,ttl:J(w),meta:{advertiserDomains:v.adomain}};const q=function(I){const P=I.adm;return P.indexOf("o2playerSettings")!==-1||P.indexOf("YAHOO.VideoPlatform.VideoPlayer")!==-1||P.indexOf("AdPlacement")!==-1?u.D4:P.indexOf("VAST")!==-1?u.G_:void 0}(v);q===u.D4?(k.mediaType=u.D4,k.ad=v.adm,k.meta.mediaType=u.D4):q===u.G_&&(k.mediaType=u.G_,k.meta.mediaType=u.G_,k.vastXml=v.adm,v.nurl&&(k.vastUrl=v.nurl)),(0,y.A)(w,"mediaTypes.video.context")!=="outstream"||w.renderer||(k.renderer=function(I,P){const X=j.A4.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:I.adUnitCode});try{X.setRender(function(Y){setTimeout(function(){o2PlayerRender(Y)},(0,y.A)(I,"params.testing.renderer.setTimeout")||700)})}catch(Y){(0,l.logWarn)("Renderer error: setRender() failed",Y)}return X}(w)||void 0),_.push(k)}),_},getUserSyncs:function(a,r,w,_,c){const v=!(0,l.isEmpty)(r)&&r[0].body;if(v&&v.ext&&v.ext.pixels){const $=function(k,q){let I=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,P=/\w*(?=\s)/,X=/src=("|')(.*?)\1/,Y=[];if(q){let R=q.match(I);R&&R.forEach(H=>{let T=H.match(P)[0],S=H.match(X)[2];if(T&&S){let L=T.toLowerCase()==="img"?"image":"iframe";if(!k.iframeEnabled&&L==="iframe"||!k.pixelEnabled&&L==="image")return;Y.push({type:L,url:S})}})}return Y}(a,v.ext.pixels);return $.forEach(k=>{k.url=function(q,I){const P={gdpr_consent:I.gdpr?I.gdpr.consentString:"",gdpr:I.gdpr&&I.gdpr.gdprApplies?"1":"0",us_privacy:I.uspConsent?I.uspConsent:"",gpp:I.gpp?I.gpp.gppString:"",gpp_sid:I.gpp&&Array.isArray(I.gpp.applicableSections)?I.gpp.applicableSections.join(","):""},X=new URL(q),Y=X.searchParams;for(const[R,H]of Object.entries(P))Y.set(R,H);return X.search=Y.toString(),X.toString()}(k.url,{gpp:c,gdpr:w,uspConsent:_})}),$}return[]}};(0,e.a$)(d),(0,A.E)("yahooAdsBidAdapter")}},re=>{re.O(0,[60802,51085],()=>{return Q=14975,re(re.s=Q);var Q}),re.O()}])})(),pbjs.processQueue()})();})();
